<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="ENTITY_DEFAULT">

	<!-- ResultMaps -->
	<resultMap id="ENTITY_DEFAULT" class="com.mpower.domain.model.customization.EntityDefault">
		<result property="id" column="ENTITY_DEFAULT_ID" jdbcType="BIGINT" />
		<result property="defaultValue" column="DEFAULT_VALUE" jdbcType="VARCHAR" />
		<result property="entityFieldName" column="ENTITY_FIELD_NAME" jdbcType="VARCHAR" />
		<result property="entityType" column="ENTITY_TYPE" jdbcType="VARCHAR" />
		<result property="siteName" column="SITE_NAME" jdbcType="VARCHAR" />
	</resultMap>
	
	<!-- Selects -->
	<select id="SELECT_BY_ENTITY_TYPE_AND_SITE" resultMap="ENTITY_DEFAULT"	parameterClass="map">
		select ENTITY_DEFAULT_ID, DEFAULT_VALUE, ENTITY_FIELD_NAME,	ENTITY_TYPE, SITE_NAME
		from ENTITY_DEFAULT
		where SITE_NAME = #siteName:VARCHAR#
		<isNotNull prepend="AND" property="entityTypes">
			ENTITY_TYPE in 
			<iterate property="entityTypes" conjunction="," open="(" close=")">
				#entityTypes[]#
			</iterate>
		</isNotNull>
	</select>

	<!-- Inserts -->
	<insert id="INSERT_ENTITY_DEFAULT" parameterClass="com.mpower.domain.model.customization.EntityDefault">
		insert into ENTITY_DEFAULT (ENTITY_DEFAULT_ID, DEFAULT_VALUE, ENTITY_FIELD_NAME, ENTITY_TYPE, SITE_NAME)
		values (#id#, #defaultValue:VARCHAR#, #entityFieldName:VARCHAR#, #entityType:VARCHAR#, #siteName:VARCHAR#)
		<selectKey keyProperty="id" resultClass="long">
			SELECT LAST_INSERT_ID() AS value
		</selectKey>
	</insert>


	
	
	<insert id="entityDefault-ibatorgenerated_insertSelective" parameterClass="com.mpower.domain.model.customization.EntityDefault">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Feb 16
			12:53:27 CST 2009.
		-->
		insert into ENTITY_DEFAULT
		<dynamic prepend="(">
			<isNotNull prepend="," property="id">
				ENTITY_DEFAULT_ID
      </isNotNull>
			<isNotNull prepend="," property="defaultValue">
				DEFAULT_VALUE
      </isNotNull>
			<isNotNull prepend="," property="entityFieldName">
				ENTITY_FIELD_NAME
      </isNotNull>
			<isNotNull prepend="," property="entityType">
				ENTITY_TYPE
      </isNotNull>
			<isNotNull prepend="," property="siteName">
				SITE_NAME
      </isNotNull>
			)
		</dynamic>
		values
		<dynamic prepend="(">
			<isNotNull prepend="," property="id">
				#id:BIGINT#
      </isNotNull>
			<isNotNull prepend="," property="defaultValue">
				#defaultValue:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="entityFieldName">
				#entityFieldName:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="entityType">
				#entityType:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="siteName">
				#siteName:VARCHAR#
      </isNotNull>
			)
		</dynamic>
	</insert>
	<update id="entityDefault-ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.mpower.domain.model.customization.EntityDefault">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Feb 16
			12:53:27 CST 2009.
		-->
		update ENTITY_DEFAULT
		<dynamic prepend="set">
			<isNotNull prepend="," property="defaultValue">
				DEFAULT_VALUE = #defaultValue:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="entityFieldName">
				ENTITY_FIELD_NAME = #entityFieldName:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="entityType">
				ENTITY_TYPE = #entityType:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="siteName">
				SITE_NAME = #siteName:VARCHAR#
      </isNotNull>
		</dynamic>
		where ENTITY_DEFAULT_ID = #id:BIGINT#
	</update>
	<update id="entityDefault-ibatorgenerated_updateByPrimaryKey" parameterClass="com.mpower.domain.model.customization.EntityDefault">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Feb 16
			12:53:27 CST 2009.
		-->
		update ENTITY_DEFAULT
		set DEFAULT_VALUE = #defaultValue:VARCHAR#,
		ENTITY_FIELD_NAME = #entityFieldName:VARCHAR#,
		ENTITY_TYPE = #entityType:VARCHAR#,
		SITE_NAME = #siteName:VARCHAR#
		where ENTITY_DEFAULT_ID = #id:BIGINT#
	</update>
</sqlMap>