<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd" version="1.0">

	<named-query name="READ_PICKLIST_BY_SITE_AND_FIELDNAME" >
		<query>
		    SELECT picklist FROM com.mpower.domain.customization.Picklist picklist
		    WHERE (picklist.picklistName = :fieldName
		    AND (picklist.site.name = :siteName OR picklist.site.name is null))
		    AND (picklist.entityType = :entityType OR picklist.entityType is null))
		    ORDER BY picklist.site.name, picklist.entityType
		</query>
	</named-query>

	<named-query name="QUERY_FIELD_REQUIRED_BY_SITE_AND_SECTION_NAME_AND_FIELD_DEFINITION" >
		<query>
		    SELECT fieldRequired FROM com.mpower.domain.customization.FieldRequired fieldRequired
		    WHERE ((fieldRequired.siteName = :siteName) OR (fieldRequired.siteName = null))
		    AND fieldRequired.sectionName = :sectionName
		    AND fieldRequired.fieldDefinition.id = :fieldDefinitionId
		    AND fieldRequired.secondaryFieldDefinition.id IS NULL
		</query>
	</named-query>

	<named-query name="QUERY_FIELD_REQUIRED_BY_SITE_AND_SECTION_NAME_AND_FIELD_DEF_AND_SECONDARY_FIELD_DEF" >
		<query>
		    SELECT fieldRequired FROM com.mpower.domain.customization.FieldRequired fieldRequired
		    WHERE ((fieldRequired.siteName = :siteName) OR (fieldRequired.siteName = null))
		    AND fieldRequired.sectionName = :sectionName
		    AND fieldRequired.fieldDefinition.id = :fieldDefinitionId
		    AND fieldRequired.secondaryFieldDefinition.id = :secondaryFieldDefinitionId
		</query>
	</named-query>

	<named-query name="QUERY_FIELD_VALIDATION_BY_SITE_AND_SECTION_NAME_AND_FIELD_DEFINITION" >
		<query>
		    SELECT fv FROM com.mpower.domain.customization.FieldValidation fv
		    WHERE ((fv.siteName = :siteName) OR (fv.siteName = null))
		    AND fv.sectionName = :sectionName
		    AND fv.fieldDefinition.id = :fieldDefinitionId
		    AND fv.secondaryFieldDefinition.id IS NULL
		</query>
	</named-query>

	<named-query name="QUERY_FIELD_VALIDATION_BY_SITE_AND_SECTION_NAME_AND_FIELD_DEF_AND_SECONDARY_FIELD_DEF" >
		<query>
		    SELECT fv FROM com.mpower.domain.customization.FieldValidation fv
		    WHERE ((fv.siteName = :siteName) OR (fv.siteName = null))
		    AND fv.sectionName = :sectionName
		    AND fv.fieldDefinition.id = :fieldDefinitionId
		    AND fv.secondaryFieldDefinition.id = :secondaryFieldDefinitionId
		</query>
	</named-query>

</entity-mappings>