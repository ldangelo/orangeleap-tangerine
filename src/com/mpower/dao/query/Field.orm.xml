<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd" version="1.0">

	<named-query name="READ_PICKLIST_BY_SITE_AND_FIELDNAME" >
		<query>
		    SELECT picklist FROM com.mpower.domain.entity.customization.Picklist picklist
		    WHERE (picklist.picklistName = :fieldName AND
		           (picklist.site.id = :siteId OR picklist.site.id is null))
		</query>
	</named-query>

	<named-query name="QUERY_FIELD_REQUIRED_BY_SITE_AND_SECTION_NAME_AND_FIELD_DEFINITION" >
		<query>
		    SELECT fieldRequired FROM com.mpower.domain.entity.customization.FieldRequired fieldRequired
		    WHERE ((fieldRequired.siteId = :siteId) OR (fieldRequired.siteId = null))
		    AND fieldRequired.sectionName = :sectionName
		    AND fieldRequired.fieldDefinitionId = :fieldDefinitionId
		    AND fieldRequired.secondaryFieldDefinitionId IS NULL
		</query>
	</named-query>

	<named-query name="QUERY_FIELD_REQUIRED_BY_SITE_AND_SECTION_NAME_AND_FIELD_DEF_AND_SECONDARY_FIELD_DEF" >
		<query>
		    SELECT fieldRequired FROM com.mpower.domain.entity.customization.FieldRequired fieldRequired
		    WHERE ((fieldRequired.siteId = :siteId) OR (fieldRequired.siteId = null))
		    AND fieldRequired.sectionName = :sectionName
		    AND fieldRequired.fieldDefinitionId = :fieldDefinitionId
		    AND fieldRequired.secondaryFieldDefinitionId = :secondaryFieldDefinitionId
		</query>
	</named-query>

</entity-mappings>