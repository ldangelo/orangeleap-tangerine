(function(){var W=this,AB,F=W.jQuery,S=W.$,T=W.jQuery=W.$=function(B,A){return new T.fn.init(B,A)},M=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,AC=/^.[^:#\[\.,]*$/;T.fn=T.prototype={init:function(a,B){a=a||document;if(a.nodeType){this[0]=a;this.length=1;this.context=a;return this}if(typeof a==="string"){var C=M.exec(a);if(C&&(C[1]||!B)){if(C[1]){a=T.clean([C[1]],B)}else{var A=document.getElementById(C[3]);if(A&&A.id!=C[3]){return T().find(a)}var D=T(A||[]);D.context=document;D.selector=a;return D}}else{return T(B).find(a)}}else{if(T.isFunction(a)){return T(document).ready(a)}}if(a.selector&&a.context){this.selector=a.selector;this.context=a.context}return this.setArray(T.isArray(a)?a:T.makeArray(a))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(A){return A===AB?Array.prototype.slice.call(this):this[A]},pushStack:function(C,A,D){var B=T(C);B.prevObject=this;B.context=this.context;if(A==="find"){B.selector=this.selector+(this.selector?" ":"")+D}else{if(A){B.selector=this.selector+"."+A+"("+D+")"}}return B},setArray:function(A){this.length=0;Array.prototype.push.apply(this,A);return this},each:function(A,B){return T.each(this,A,B)},index:function(A){return T.inArray(A&&A.jquery?A[0]:A,this)},attr:function(C,A,B){var D=C;if(typeof C==="string"){if(A===AB){return this[0]&&T[B||"attr"](this[0],C)}else{D={};D[C]=A}}return this.each(function(a){for(C in D){T.attr(B?this.style:this,C,T.prop(this,D[C],B,a,C))}})},css:function(B,A){if((B=="width"||B=="height")&&parseFloat(A)<0){A=AB}return this.attr(B,A,"curCSS")},text:function(A){if(typeof A!=="object"&&A!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(A))}var B="";T.each(A||this,function(){T.each(this.childNodes,function(){if(this.nodeType!=8){B+=this.nodeType!=1?this.nodeValue:T.fn.text([this])}})});return B},wrapAll:function(B){if(this[0]){var A=T(B,this[0].ownerDocument).clone();if(this[0].parentNode){A.insertBefore(this[0])}A.map(function(){var C=this;while(C.firstChild){C=C.firstChild}return C}).append(this)}return this},wrapInner:function(A){return this.each(function(){T(this).contents().wrapAll(A)})},wrap:function(A){return this.each(function(){T(this).wrapAll(A)})},append:function(){return this.domManip(arguments,true,function(A){if(this.nodeType==1){this.appendChild(A)}})},prepend:function(){return this.domManip(arguments,true,function(A){if(this.nodeType==1){this.insertBefore(A,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(A){this.parentNode.insertBefore(A,this)})},after:function(){return this.domManip(arguments,false,function(A){this.parentNode.insertBefore(A,this.nextSibling)})},end:function(){return this.prevObject||T([])},push:[].push,sort:[].sort,splice:[].splice,find:function(B){if(this.length===1){var A=this.pushStack([],"find",B);A.length=0;T.find(B,this[0],A);return A}else{return this.pushStack(T.unique(T.map(this,function(C){return T.find(B,C)})),"find",B)}},clone:function(B){var D=this.map(function(){if(!T.support.noCloneEvent&&!T.isXMLDoc(this)){var b=this.outerHTML;if(!b){var a=this.ownerDocument.createElement("div");a.appendChild(this.cloneNode(true));b=a.innerHTML}return T.clean([b.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]}else{return this.cloneNode(true)}});if(B===true){var A=this.find("*").andSelf(),C=0;D.find("*").andSelf().each(function(){if(this.nodeName!==A[C].nodeName){return }var c=T.data(A[C],"events");for(var a in c){for(var b in c[a]){T.event.add(this,a,c[a][b],c[a][b].data)}}C++})}return D},filter:function(A){return this.pushStack(T.isFunction(A)&&T.grep(this,function(B,C){return A.call(B,C)})||T.multiFilter(A,T.grep(this,function(B){return B.nodeType===1})),"filter",A)},closest:function(C){var A=T.expr.match.POS.test(C)?T(C):null,B=0;return this.map(function(){var D=this;while(D&&D.ownerDocument){if(A?A.index(D)>-1:T(D).is(C)){T.data(D,"closest",B);return D}D=D.parentNode;B++}})},not:function(B){if(typeof B==="string"){if(AC.test(B)){return this.pushStack(T.multiFilter(B,this,true),"not",B)}else{B=T.multiFilter(B,this)}}var A=B.length&&B[B.length-1]!==AB&&!B.nodeType;return this.filter(function(){return A?T.inArray(this,B)<0:this!=B})},add:function(A){return this.pushStack(T.unique(T.merge(this.get(),typeof A==="string"?T(A):T.makeArray(A))))},is:function(A){return !!A&&T.multiFilter(A,this).length>0},hasClass:function(A){return !!A&&this.is("."+A)},val:function(C){if(C===AB){var e=this[0];if(e){if(T.nodeName(e,"option")){return(e.attributes.value||{}).specified?e.value:e.text}if(T.nodeName(e,"select")){var a=e.selectedIndex,B=[],A=e.options,b=e.type=="select-one";if(a<0){return null}for(var d=b?a:0,D=b?a+1:A.length;d<D;d++){var c=A[d];if(c.selected){C=T(c).val();if(b){return C}B.push(C)}}return B}return(e.value||"").replace(/\r/g,"")}return AB}if(typeof C==="number"){C+=""}return this.each(function(){if(this.nodeType!=1){return }if(T.isArray(C)&&/radio|checkbox/.test(this.type)){this.checked=(T.inArray(this.value,C)>=0||T.inArray(this.name,C)>=0)}else{if(T.nodeName(this,"select")){var g=T.makeArray(C);T("option",this).each(function(){this.selected=(T.inArray(this.value,g)>=0||T.inArray(this.text,g)>=0)});if(!g.length){this.selectedIndex=-1}}else{this.value=C}}})},html:function(A){return A===AB?(this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null):this.empty().append(A)},replaceWith:function(A){return this.after(A).remove()},eq:function(A){return this.slice(A,+A+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(A){return this.pushStack(T.map(this,function(B,C){return A.call(B,C,B)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(D,A,B){if(this[0]){var a=(this[0].ownerDocument||this[0]).createDocumentFragment(),d=T.clean(D,(this[0].ownerDocument||this[0]),a),b=a.firstChild;if(b){for(var c=0,e=this.length;c<e;c++){B.call(C(this[c],b),this.length>1||c>0?a.cloneNode(true):a)}}if(d){T.each(d,E)}}return this;function C(h,g){return A&&T.nodeName(h,"table")&&T.nodeName(g,"tr")?(h.getElementsByTagName("tbody")[0]||h.appendChild(h.ownerDocument.createElement("tbody"))):h}}};T.fn.init.prototype=T.fn;function E(B,A){if(A.src){T.ajax({url:A.src,async:false,dataType:"script"})}else{T.globalEval(A.text||A.textContent||A.innerHTML||"")}if(A.parentNode){A.parentNode.removeChild(A)}}function AD(){return +new Date}T.extend=T.fn.extend=function(){var C=arguments[0]||{},a=1,D=arguments.length,d=false,b;if(typeof C==="boolean"){d=C;C=arguments[1]||{};a=2}if(typeof C!=="object"&&!T.isFunction(C)){C={}}if(D==a){C=this;--a}for(;a<D;a++){if((b=arguments[a])!=null){for(var c in b){var B=C[c],A=b[c];if(C===A){continue}if(d&&A&&typeof A==="object"&&!A.nodeType){C[c]=T.extend(d,B||(A.length!=null?[]:{}),A)}else{if(A!==AB){C[c]=A}}}}}return C};var AG=/z-?index|font-?weight|opacity|zoom|line-?height/i,Q=document.defaultView||{},L=Object.prototype.toString;T.extend({noConflict:function(A){W.$=S;if(A){W.jQuery=F}return T},isFunction:function(A){return L.call(A)==="[object Function]"},isArray:function(A){return L.call(A)==="[object Array]"},isXMLDoc:function(A){return A.nodeType===9&&A.documentElement.nodeName!=="HTML"||!!A.ownerDocument&&T.isXMLDoc(A.ownerDocument)},globalEval:function(A){if(A&&/\S/.test(A)){var B=document.getElementsByTagName("head")[0]||document.documentElement,C=document.createElement("script");C.type="text/javascript";if(T.support.scriptEval){C.appendChild(document.createTextNode(A))}else{C.text=A}B.insertBefore(C,B.firstChild);B.removeChild(C)}},nodeName:function(A,B){return A.nodeName&&A.nodeName.toUpperCase()==B.toUpperCase()},each:function(a,A,b){var c,D=0,C=a.length;if(b){if(C===AB){for(c in a){if(A.apply(a[c],b)===false){break}}}else{for(;D<C;){if(A.apply(a[D++],b)===false){break}}}}else{if(C===AB){for(c in a){if(A.call(a[c],c,a[c])===false){break}}}else{for(var B=a[0];D<C&&A.call(B,D,B)!==false;B=a[++D]){}}}return a},prop:function(B,A,C,D,a){if(T.isFunction(A)){A=A.call(B,D)}return typeof A==="number"&&C=="curCSS"&&!AG.test(a)?A+"px":A},className:{add:function(B,A){T.each((A||"").split(/\s+/),function(D,C){if(B.nodeType==1&&!T.className.has(B.className,C)){B.className+=(B.className?" ":"")+C}})},remove:function(B,A){if(B.nodeType==1){B.className=A!==AB?T.grep(B.className.split(/\s+/),function(C){return !T.className.has(A,C)}).join(" "):""}},has:function(A,B){return A&&T.inArray(B,(A.className||A).toString().split(/\s+/))>-1}},swap:function(B,C,A){var a={};for(var D in C){a[D]=B.style[D];B.style[D]=C[D]}A.call(B);for(var D in C){B.style[D]=a[D]}},css:function(a,c,C,d){if(c=="width"||c=="height"){var A,b={position:"absolute",visibility:"hidden",display:"block"},B=c=="width"?["Left","Right"]:["Top","Bottom"];function D(){A=c=="width"?a.offsetWidth:a.offsetHeight;if(d==="border"){return }T.each(B,function(){if(!d){A-=parseFloat(T.curCSS(a,"padding"+this,true))||0}if(d==="margin"){A+=parseFloat(T.curCSS(a,"margin"+this,true))||0}else{A-=parseFloat(T.curCSS(a,"border"+this+"Width",true))||0}})}if(a.offsetWidth!==0){D()}else{T.swap(a,b,D)}return Math.max(0,Math.round(A))}return T.curCSS(a,c,C)},curCSS:function(a,d,c){var B,e=a.style;if(d=="opacity"&&!T.support.opacity){B=T.attr(e,"opacity");return B==""?"1":B}if(d.match(/float/i)){d=H}if(!c&&e&&e[d]){B=e[d]}else{if(Q.getComputedStyle){if(d.match(/float/i)){d="float"}d=d.replace(/([A-Z])/g,"-$1").toLowerCase();var A=Q.getComputedStyle(a,null);if(A){B=A.getPropertyValue(d)}if(d=="opacity"&&B==""){B="1"}}else{if(a.currentStyle){var D=d.replace(/\-(\w)/g,function(h,g){return g.toUpperCase()});B=a.currentStyle[d]||a.currentStyle[D];if(!/^\d+(px)?$/i.test(B)&&/^\d/.test(B)){var b=e.left,C=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;e.left=B||0;B=e.pixelLeft+"px";e.left=b;a.runtimeStyle.left=C}}}}return B},clean:function(c,B,D){B=B||document;if(typeof B.createElement==="undefined"){B=B.ownerDocument||B[0]&&B[0].ownerDocument||document}if(!D&&c.length===1&&typeof c[0]==="string"){var a=/^<(\w+)\s*\/?>$/.exec(c[0]);if(a){return[B.createElement(a[1])]}}var b=[],d=[],A=B.createElement("div");T.each(c,function(i,e){if(typeof e==="number"){e+=""}if(!e){return }if(typeof e==="string"){e=e.replace(/(<(\w+)[^>]*?)\/>/g,function(o,n,p){return p.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?o:n+"></"+p+">"});var k=e.replace(/^\s+/,"").substring(0,10).toLowerCase();var h=!k.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!k.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||k.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!k.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!k.indexOf("<td")||!k.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!k.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!T.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];A.innerHTML=h[1]+e+h[2];while(h[0]--){A=A.lastChild}if(!T.support.tbody){var g=/<tbody/i.test(e),l=!k.indexOf("<table")&&!g?A.firstChild&&A.firstChild.childNodes:h[1]=="<table>"&&!g?A.childNodes:[];for(var m=l.length-1;m>=0;--m){if(T.nodeName(l[m],"tbody")&&!l[m].childNodes.length){l[m].parentNode.removeChild(l[m])}}}if(!T.support.leadingWhitespace&&/^\s/.test(e)){A.insertBefore(B.createTextNode(e.match(/^\s*/)[0]),A.firstChild)}e=T.makeArray(A.childNodes)}if(e.nodeType){b.push(e)}else{b=T.merge(b,e)}});if(D){for(var C=0;b[C];C++){if(T.nodeName(b[C],"script")&&(!b[C].type||b[C].type.toLowerCase()==="text/javascript")){d.push(b[C].parentNode?b[C].parentNode.removeChild(b[C]):b[C])}else{if(b[C].nodeType===1){b.splice.apply(b,[C+1,0].concat(T.makeArray(b[C].getElementsByTagName("script"))))}D.appendChild(b[C])}}return d}return b},attr:function(C,b,B){if(!C||C.nodeType==3||C.nodeType==8){return AB}var a=!T.isXMLDoc(C),A=B!==AB;b=a&&T.props[b]||b;if(C.tagName){var c=/href|src|style/.test(b);if(b=="selected"&&C.parentNode){C.parentNode.selectedIndex}if(b in C&&a&&!c){if(A){if(b=="type"&&T.nodeName(C,"input")&&C.parentNode){throw"type property can't be changed"}C[b]=B}if(T.nodeName(C,"form")&&C.getAttributeNode(b)){return C.getAttributeNode(b).nodeValue}if(b=="tabIndex"){var D=C.getAttributeNode("tabIndex");return D&&D.specified?D.value:C.nodeName.match(/(button|input|object|select|textarea)/i)?0:C.nodeName.match(/^(a|area)$/i)&&C.href?0:AB}return C[b]}if(!T.support.style&&a&&b=="style"){return T.attr(C.style,"cssText",B)}if(A){C.setAttribute(b,""+B)}var d=!T.support.hrefNormalized&&a&&c?C.getAttribute(b,2):C.getAttribute(b);return d===null?AB:d}if(!T.support.opacity&&b=="opacity"){if(A){C.zoom=1;C.filter=(C.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(B)+""=="NaN"?"":"alpha(opacity="+B*100+")")}return C.filter&&C.filter.indexOf("opacity=")>=0?(parseFloat(C.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}b=b.replace(/-([a-z])/ig,function(g,e){return e.toUpperCase()});if(A){C[b]=B}return C[b]},trim:function(A){return(A||"").replace(/^\s+|\s+$/g,"")},makeArray:function(A){var C=[];if(A!=null){var B=A.length;if(B==null||typeof A==="string"||T.isFunction(A)||A.setInterval){C[0]=A}else{while(B){C[--B]=A[B]}}}return C},inArray:function(B,A){for(var D=0,C=A.length;D<C;D++){if(A[D]===B){return D}}return -1},merge:function(B,a){var D=0,C,A=B.length;if(!T.support.getAll){while((C=a[D++])!=null){if(C.nodeType!=8){B[A++]=C}}}else{while((C=a[D++])!=null){B[A++]=C}}return B},unique:function(A){var b=[],c={};try{for(var a=0,D=A.length;a<D;a++){var B=T.data(A[a]);if(!c[B]){c[B]=true;b.push(A[a])}}}catch(C){b=A}return b},grep:function(a,A,b){var D=[];for(var C=0,B=a.length;C<B;C++){if(!b!=!A(a[C],C)){D.push(a[C])}}return D},map:function(b,A){var a=[];for(var D=0,C=b.length;D<C;D++){var B=A(b[D],D);if(B!=null){a[a.length]=B}}return a.concat.apply([],a)}});var O=navigator.userAgent.toLowerCase();T.browser={version:(O.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(O),opera:/opera/.test(O),msie:/msie/.test(O)&&!/opera/.test(O),mozilla:/mozilla/.test(O)&&!/(compatible|webkit)/.test(O)};T.each({parent:function(A){return A.parentNode},parents:function(A){return T.dir(A,"parentNode")},next:function(A){return T.nth(A,2,"nextSibling")},prev:function(A){return T.nth(A,2,"previousSibling")},nextAll:function(A){return T.dir(A,"nextSibling")},prevAll:function(A){return T.dir(A,"previousSibling")},siblings:function(A){return T.sibling(A.parentNode.firstChild,A)},children:function(A){return T.sibling(A.firstChild)},contents:function(A){return T.nodeName(A,"iframe")?A.contentDocument||A.contentWindow.document:T.makeArray(A.childNodes)}},function(B,A){T.fn[B]=function(D){var C=T.map(this,A);if(D&&typeof D=="string"){C=T.multiFilter(D,C)}return this.pushStack(T.unique(C),B,D)}});T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(B,A){T.fn[B]=function(d){var a=[],C=T(d);for(var D=0,c=C.length;D<c;D++){var b=(D>0?this.clone(true):this).get();T.fn[A].apply(T(C[D]),b);a=a.concat(b)}return this.pushStack(a,B,d)}});T.each({removeAttr:function(A){T.attr(this,A,"");if(this.nodeType==1){this.removeAttribute(A)}},addClass:function(A){T.className.add(this,A)},removeClass:function(A){T.className.remove(this,A)},toggleClass:function(A,B){if(typeof B!=="boolean"){B=!T.className.has(this,A)}T.className[B?"add":"remove"](this,A)},remove:function(A){if(!A||T.filter(A,[this]).length){T("*",this).add([this]).each(function(){T.event.remove(this);T.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){T(this).children().remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(B,A){T.fn[B]=function(){return this.each(A,arguments)}});function Y(B,A){return B[0]&&parseInt(T.curCSS(B[0],A,true),10)||0}var AA="jQuery"+AD(),I=0,R={};T.extend({cache:{},data:function(C,D,B){C=C==W?R:C;var A=C[AA];if(!A){A=C[AA]=++I}if(D&&!T.cache[A]){T.cache[A]={}}if(B!==AB){T.cache[A][D]=B}return D?T.cache[A][D]:A},removeData:function(C,D){C=C==W?R:C;var A=C[AA];if(D){if(T.cache[A]){delete T.cache[A][D];D="";for(D in T.cache[A]){break}if(!D){T.removeData(C)}}}else{try{delete C[AA]}catch(B){if(C.removeAttribute){C.removeAttribute(AA)}}delete T.cache[A]}},queue:function(C,D,A){if(C){D=(D||"fx")+"queue";var B=T.data(C,D);if(!B||T.isArray(A)){B=T.data(C,D,T.makeArray(A))}else{if(A){B.push(A)}}}return B},dequeue:function(A,B){var D=T.queue(A,B),C=D.shift();if(!B||B==="fx"){C=D[0]}if(C!==AB){C.call(A)}}});T.fn.extend({data:function(D,B){var A=D.split(".");A[1]=A[1]?"."+A[1]:"";if(B===AB){var C=this.triggerHandler("getData"+A[1]+"!",[A[0]]);if(C===AB&&this.length){C=T.data(this[0],D)}return C===AB&&A[1]?this.data(A[0]):C}else{return this.trigger("setData"+A[1]+"!",[A[0],B]).each(function(){T.data(this,D,B)})}},removeData:function(A){return this.each(function(){T.removeData(this,A)})},queue:function(B,A){if(typeof B!=="string"){A=B;B="fx"}if(A===AB){return T.queue(this[0],B)}return this.each(function(){var C=T.queue(this,B,A);if(B=="fx"&&C.length==1){C[0].call(this)}})},dequeue:function(A){return this.each(function(){T.dequeue(this,A)})}});(function(){var B=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,d=0,i=Object.prototype.toString;var l=function(p,t,AK,AJ){AK=AK||[];t=t||document;if(t.nodeType!==1&&t.nodeType!==9){return[]}if(!p||typeof p!=="string"){return AK}var o=[],r,y,v,u,AI,s,q=true;B.lastIndex=0;while((r=B.exec(p))!==null){o.push(r[1]);if(r[2]){s=RegExp.rightContext;break}}if(o.length>1&&c.exec(p)){if(o.length===2&&h.relative[o[0]]){y=g(o[0]+o[1],t)}else{y=h.relative[o[0]]?[t]:l(o.shift(),t);while(o.length){p=o.shift();if(h.relative[p]){p+=o.shift()}y=g(p,y)}}}else{var z=AJ?{expr:o.pop(),set:m(AJ)}:l.find(o.pop(),o.length===1&&t.parentNode?t.parentNode:t,C(t));y=l.filter(z.expr,z.set);if(o.length>0){v=m(y)}else{q=false}while(o.length){var w=o.pop(),x=w;if(!h.relative[w]){w=""}else{x=o.pop()}if(x==null){x=t}h.relative[w](v,x,C(t))}}if(!v){v=y}if(!v){throw"Syntax error, unrecognized expression: "+(w||p)}if(i.call(v)==="[object Array]"){if(!q){AK.push.apply(AK,v)}else{if(t.nodeType===1){for(var n=0;v[n]!=null;n++){if(v[n]&&(v[n]===true||v[n].nodeType===1&&e(t,v[n]))){AK.push(y[n])}}}else{for(var n=0;v[n]!=null;n++){if(v[n]&&v[n].nodeType===1){AK.push(y[n])}}}}}else{m(v,AK)}if(s){l(s,t,AK,AJ);if(k){hasDuplicate=false;AK.sort(k);if(hasDuplicate){for(var n=1;n<AK.length;n++){if(AK[n]===AK[n-1]){AK.splice(n--,1)}}}}}return AK};l.matches=function(o,n){return l(o,null,null,n)};l.find=function(n,u,v){var o,q;if(!n){return[]}for(var r=0,s=h.order.length;r<s;r++){var p=h.order[r],q;if((q=h.match[p].exec(n))){var t=RegExp.leftContext;if(t.substr(t.length-1)!=="\\"){q[1]=(q[1]||"").replace(/\\/g,"");o=h.find[p](q,u,v);if(o!=null){n=n.replace(h.match[p],"");break}}}}if(!o){o=u.getElementsByTagName("*")}return{set:o,expr:n}};l.filter=function(AI,AJ,x,r){var s=AI,v=[],n=AJ,p,u,o=AJ&&AJ[0]&&C(AJ[0]);while(AI&&AJ.length){for(var AK in h.filter){if((p=h.match[AK].exec(AI))!=null){var t=h.filter[AK],w,y;u=false;if(n==v){v=[]}if(h.preFilter[AK]){p=h.preFilter[AK](p,n,x,v,r,o);if(!p){u=w=true}else{if(p===true){continue}}}if(p){for(var q=0;(y=n[q])!=null;q++){if(y){w=t(y,p,q,n);var z=r^!!w;if(x&&w!=null){if(z){u=true}else{n[q]=false}}else{if(z){v.push(y);u=true}}}}}if(w!==AB){if(!x){n=v}AI=AI.replace(h.match[AK],"");if(!u){return[]}break}}}if(AI==s){if(u==null){throw"Syntax error, unrecognized expression: "+AI}else{break}}s=AI}return n};var h=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(n){return n.getAttribute("href")}},relative:{"+":function(n,u,o){var q=typeof u==="string",v=q&&!/\W/.test(u),p=q&&!v;if(v&&!o){u=u.toUpperCase()}for(var r=0,s=n.length,t;r<s;r++){if((t=n[r])){while((t=t.previousSibling)&&t.nodeType!==1){}n[r]=p||t&&t.nodeName===u?t||false:t===u}}if(p){l.filter(u,n,true)}},">":function(s,p,r){var u=typeof p==="string";if(u&&!/\W/.test(p)){p=r?p:p.toUpperCase();for(var o=0,q=s.length;o<q;o++){var t=s[o];if(t){var n=t.parentNode;s[o]=n.nodeName===p?n:false}}}else{for(var o=0,q=s.length;o<q;o++){var t=s[o];if(t){s[o]=u?t.parentNode:t.parentNode===p}}if(u){l.filter(p,s,true)}}},"":function(n,p,r){var o=d++,q=A;if(!p.match(/\W/)){var s=p=r?p:p.toUpperCase();q=D}q("parentNode",p,o,n,s,r)},"~":function(n,p,r){var o=d++,q=A;if(typeof p==="string"&&!p.match(/\W/)){var s=p=r?p:p.toUpperCase();q=D}q("previousSibling",p,o,n,s,r)}},find:{ID:function(p,o,n){if(typeof o.getElementById!=="undefined"&&!n){var q=o.getElementById(p[1]);return q?[q]:[]}},NAME:function(o,s,r){if(typeof s.getElementsByName!=="undefined"){var p=[],t=s.getElementsByName(o[1]);for(var n=0,q=t.length;n<q;n++){if(t[n].getAttribute("name")===o[1]){p.push(t[n])}}return p.length===0?null:p}},TAG:function(o,n){return n.getElementsByTagName(o[1])}},preFilter:{CLASS:function(n,p,o,q,s,r){n=" "+n[1].replace(/\\/g,"")+" ";if(r){return n}for(var u=0,t;(t=p[u])!=null;u++){if(t){if(s^(t.className&&(" "+t.className+" ").indexOf(n)>=0)){if(!o){q.push(t)}}else{if(o){p[u]=false}}}}return false},ID:function(n){return n[1].replace(/\\/g,"")},TAG:function(o,p){for(var n=0;p[n]===false;n++){}return p[n]&&C(p[n])?o[1]:o[1].toUpperCase()},CHILD:function(o){if(o[1]=="nth"){var n=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(o[2]=="even"&&"2n"||o[2]=="odd"&&"2n+1"||!/\D/.test(o[2])&&"0n+"+o[2]||o[2]);o[2]=(n[1]+(n[2]||1))-0;o[3]=n[3]-0}o[0]=d++;return o},ATTR:function(t,p,o,q,s,r){var n=t[1].replace(/\\/g,"");if(!r&&h.attrMap[n]){t[1]=h.attrMap[n]}if(t[2]==="~="){t[4]=" "+t[4]+" "}return t},PSEUDO:function(s,p,o,q,r){if(s[1]==="not"){if(s[3].match(B).length>1||/^\w/.test(s[3])){s[3]=l(s[3],null,null,p)}else{var n=l.filter(s[3],p,o,true^r);if(!o){q.push.apply(q,n)}return false}}else{if(h.match.POS.test(s[0])||h.match.CHILD.test(s[0])){return true}}return s},POS:function(n){n.unshift(true);return n}},filters:{enabled:function(n){return n.disabled===false&&n.type!=="hidden"},disabled:function(n){return n.disabled===true},checked:function(n){return n.checked===true},selected:function(n){n.parentNode.selectedIndex;return n.selected===true},parent:function(n){return !!n.firstChild},empty:function(n){return !n.firstChild},has:function(n,o,p){return !!l(p[3],n).length},header:function(n){return/h\d/i.test(n.nodeName)},text:function(n){return"text"===n.type},radio:function(n){return"radio"===n.type},checkbox:function(n){return"checkbox"===n.type},file:function(n){return"file"===n.type},password:function(n){return"password"===n.type},submit:function(n){return"submit"===n.type},image:function(n){return"image"===n.type},reset:function(n){return"reset"===n.type},button:function(n){return"button"===n.type||n.nodeName.toUpperCase()==="BUTTON"},input:function(n){return/input|select|textarea|button/i.test(n.nodeName)}},setFilters:{first:function(n,o){return o===0},last:function(o,p,q,n){return p===n.length-1},even:function(n,o){return o%2===0},odd:function(n,o){return o%2===1},lt:function(n,o,p){return o<p[3]-0},gt:function(n,o,p){return o>p[3]-0},nth:function(n,o,p){return p[3]-0==o},eq:function(n,o,p){return p[3]-0==o}},filter:{PSEUDO:function(s,o,n,r){var p=o[1],u=h.filters[p];if(u){return u(s,n,o,r)}else{if(p==="contains"){return(s.textContent||s.innerText||"").indexOf(o[3])>=0}else{if(p==="not"){var t=o[3];for(var n=0,q=t.length;n<q;n++){if(t[n]===s){return false}}return true}}}},CHILD:function(u,r){var o=r[1],t=u;switch(o){case"only":case"first":while(t=t.previousSibling){if(t.nodeType===1){return false}}if(o=="first"){return true}t=u;case"last":while(t=t.nextSibling){if(t.nodeType===1){return false}}return true;case"nth":var s=r[2],v=r[3];if(s==1&&v==0){return true}var p=r[0],w=u.parentNode;if(w&&(w.sizcache!==p||!u.nodeIndex)){var q=0;for(t=w.firstChild;t;t=t.nextSibling){if(t.nodeType===1){t.nodeIndex=++q}}w.sizcache=p}var n=u.nodeIndex-v;if(s==0){return n==0}else{return(n%s==0&&n/s>=0)}}},ID:function(n,o){return n.nodeType===1&&n.getAttribute("id")===o},TAG:function(n,o){return(o==="*"&&n.nodeType===1)||n.nodeName===o},CLASS:function(n,o){return(" "+(n.className||n.getAttribute("class"))+" ").indexOf(o)>-1},ATTR:function(s,n){var o=n[1],q=h.attrHandle[o]?h.attrHandle[o](s):s[o]!=null?s[o]:s.getAttribute(o),r=q+"",t=n[2],p=n[4];return q==null?t==="!=":t==="="?r===p:t==="*="?r.indexOf(p)>=0:t==="~="?(" "+r+" ").indexOf(p)>=0:!p?r&&q!==false:t==="!="?r!=p:t==="^="?r.indexOf(p)===0:t==="$="?r.substr(r.length-p.length)===p:t==="|="?r===p||r.substr(0,p.length+1)===p+"-":false},POS:function(s,p,o,r){var q=p[2],n=h.setFilters[q];if(n){return n(s,o,p,r)}}}};var c=h.match.POS;for(var a in h.match){h.match[a]=RegExp(h.match[a].source+/(?![^\[]*\])(?![^\(]*\))/.source)}var m=function(n,o){n=Array.prototype.slice.call(n);if(o){o.push.apply(o,n);return o}return n};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(b){m=function(r,n){var p=n||[];if(i.call(r)==="[object Array]"){Array.prototype.push.apply(p,r)}else{if(typeof r.length==="number"){for(var o=0,q=r.length;o<q;o++){p.push(r[o])}}else{for(var o=0;r[o];o++){p.push(r[o])}}}return p}}var k;if(document.documentElement.compareDocumentPosition){k=function(o,p){var n=o.compareDocumentPosition(p)&4?-1:o===p?0:1;if(n===0){hasDuplicate=true}return n}}else{if("sourceIndex" in document.documentElement){k=function(o,p){var n=o.sourceIndex-p.sourceIndex;if(n===0){hasDuplicate=true}return n}}else{if(document.createRange){k=function(n,p){var o=n.ownerDocument.createRange(),q=p.ownerDocument.createRange();o.selectNode(n);o.collapse(true);q.selectNode(p);q.collapse(true);var r=o.compareBoundaryPoints(Range.START_TO_END,q);if(r===0){hasDuplicate=true}return r}}}}(function(){var o=document.createElement("form"),n="script"+(new Date).getTime();o.innerHTML="<input name='"+n+"'/>";var p=document.documentElement;p.insertBefore(o,p.firstChild);if(!!document.getElementById(n)){h.find.ID=function(t,s,r){if(typeof s.getElementById!=="undefined"&&!r){var q=s.getElementById(t[1]);return q?q.id===t[1]||typeof q.getAttributeNode!=="undefined"&&q.getAttributeNode("id").nodeValue===t[1]?[q]:AB:[]}};h.filter.ID=function(r,q){var s=typeof r.getAttributeNode!=="undefined"&&r.getAttributeNode("id");return r.nodeType===1&&s&&s.nodeValue===q}}p.removeChild(o)})();(function(){var n=document.createElement("div");n.appendChild(document.createComment(""));if(n.getElementsByTagName("*").length>0){h.find.TAG=function(q,r){var s=r.getElementsByTagName(q[1]);if(q[1]==="*"){var o=[];for(var p=0;s[p];p++){if(s[p].nodeType===1){o.push(s[p])}}s=o}return s}}n.innerHTML="<a href='#'></a>";if(n.firstChild&&typeof n.firstChild.getAttribute!=="undefined"&&n.firstChild.getAttribute("href")!=="#"){h.attrHandle.href=function(o){return o.getAttribute("href",2)}}})();if(document.querySelectorAll){(function(){var o=l,n=document.createElement("div");n.innerHTML="<p class='TEST'></p>";if(n.querySelectorAll&&n.querySelectorAll(".TEST").length===0){return }l=function(s,t,q,p){t=t||document;if(!p&&t.nodeType===9&&!C(t)){try{return m(t.querySelectorAll(s),q)}catch(r){}}return o(s,t,q,p)};l.find=o.find;l.filter=o.filter;l.selectors=o.selectors;l.matches=o.matches})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var n=document.createElement("div");n.innerHTML="<div class='test e'></div><div class='test'></div>";if(n.getElementsByClassName("e").length===0){return }n.lastChild.className="e";if(n.getElementsByClassName("e").length===1){return }h.order.splice(1,0,"CLASS");h.find.CLASS=function(q,p,o){if(typeof p.getElementsByClassName!=="undefined"&&!o){return p.getElementsByClassName(q[1])}}})()}function D(t,o,p,v,n,w){var x=t=="previousSibling"&&!w;for(var r=0,s=v.length;r<s;r++){var u=v[r];if(u){if(x&&u.nodeType===1){u.sizcache=p;u.sizset=r}u=u[t];var q=false;while(u){if(u.sizcache===p){q=v[u.sizset];break}if(u.nodeType===1&&!w){u.sizcache=p;u.sizset=r}if(u.nodeName===o){q=u;break}u=u[t]}v[r]=q}}}function A(t,o,p,v,n,w){var x=t=="previousSibling"&&!w;for(var r=0,s=v.length;r<s;r++){var u=v[r];if(u){if(x&&u.nodeType===1){u.sizcache=p;u.sizset=r}u=u[t];var q=false;while(u){if(u.sizcache===p){q=v[u.sizset];break}if(u.nodeType===1){if(!w){u.sizcache=p;u.sizset=r}if(typeof o!=="string"){if(u===o){q=true;break}}else{if(l.filter(o,[u]).length>0){q=u;break}}}u=u[t]}v[r]=q}}}var e=document.compareDocumentPosition?function(n,o){return n.compareDocumentPosition(o)&16}:function(n,o){return n!==o&&(n.contains?n.contains(o):true)};var C=function(n){return n.nodeType===9&&n.documentElement.nodeName!=="HTML"||!!n.ownerDocument&&C(n.ownerDocument)};var g=function(q,s){var n=[],u="",t,o=s.nodeType?[s]:s;while((t=h.match.PSEUDO.exec(q))){u+=t[0];q=q.replace(h.match.PSEUDO,"")}q=h.relative[q]?q+"*":q;for(var r=0,p=o.length;r<p;r++){l(q,o[r],n)}return l.filter(u,n)};T.find=l;T.filter=l.filter;T.expr=l.selectors;T.expr[":"]=T.expr.filters;l.selectors.filters.hidden=function(n){return n.offsetWidth===0||n.offsetHeight===0};l.selectors.filters.visible=function(n){return n.offsetWidth>0||n.offsetHeight>0};l.selectors.filters.animated=function(n){return T.grep(T.timers,function(o){return n===o.elem}).length};T.multiFilter=function(n,p,o){if(o){n=":not("+n+")"}return l.matches(n,p)};T.dir=function(o,p){var q=[],n=o[p];while(n&&n!=document){if(n.nodeType==1){q.push(n)}n=n[p]}return q};T.nth=function(r,q,o,n){q=q||1;var p=0;for(;r;r=r[o]){if(r.nodeType==1&&++p==q){break}}return r};T.sibling=function(n,o){var p=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&n!=o){p.push(n)}}return p};return ;W.Sizzle=l})();T.event={add:function(C,b,D,A){if(C.nodeType==3||C.nodeType==8){return }if(C.setInterval&&C!=W){C=W}if(!D.guid){D.guid=this.guid++}if(A!==AB){var a=D;D=this.proxy(a);D.data=A}var c=T.data(C,"events")||T.data(C,"events",{}),B=T.data(C,"handle")||T.data(C,"handle",function(){return typeof T!=="undefined"&&!T.event.triggered?T.event.handle.apply(arguments.callee.elem,arguments):AB});B.elem=C;T.each(b.split(/\s+/),function(h,g){var e=g.split(".");g=e.shift();D.type=e.slice().sort().join(".");var d=c[g];if(T.event.specialAll[g]){T.event.specialAll[g].setup.call(C,A,e)}if(!d){d=c[g]={};if(!T.event.special[g]||T.event.special[g].setup.call(C,A,e)===false){if(C.addEventListener){C.addEventListener(g,B,false)}else{if(C.attachEvent){C.attachEvent("on"+g,B)}}}}d[D.guid]=D;T.event.global[g]=true});C=null},guid:1,global:{},remove:function(B,a,C){if(B.nodeType==3||B.nodeType==8){return }var b=T.data(B,"events"),c,d;if(b){if(a===AB||(typeof a==="string"&&a.charAt(0)==".")){for(var D in b){this.remove(B,D+(a||""))}}else{if(a.type){C=a.handler;a=a.type}T.each(a.split(/\s+/),function(k,h){var e=h.split(".");h=e.shift();var i=RegExp("(^|\\.)"+e.slice().sort().join(".*\\.")+"(\\.|$)");if(b[h]){if(C){delete b[h][C.guid]}else{for(var g in b[h]){if(i.test(b[h][g].type)){delete b[h][g]}}}if(T.event.specialAll[h]){T.event.specialAll[h].teardown.call(B,e)}for(c in b[h]){break}if(!c){if(!T.event.special[h]||T.event.special[h].teardown.call(B,e)===false){if(B.removeEventListener){B.removeEventListener(h,T.data(B,"handle"),false)}else{if(B.detachEvent){B.detachEvent("on"+h,T.data(B,"handle"))}}}c=null;delete b[h]}}})}for(c in b){break}if(!c){var A=T.data(B,"handle");if(A){A.elem=null}T.removeData(B,"events");T.removeData(B,"handle")}}},trigger:function(D,B,a,d){var b=D.type||D;if(!d){D=typeof D==="object"?D[AA]?D:T.extend(T.Event(b),D):T.Event(b);if(b.indexOf("!")>=0){D.type=b=b.slice(0,-1);D.exclusive=true}if(!a){D.stopPropagation();if(this.global[b]){T.each(T.cache,function(){if(this.events&&this.events[b]){T.event.trigger(D,B,this.handle.elem)}})}}if(!a||a.nodeType==3||a.nodeType==8){return AB}D.result=AB;D.target=a;B=T.makeArray(B);B.unshift(D)}D.currentTarget=a;var C=T.data(a,"handle");if(C){C.apply(a,B)}if((!a[b]||(T.nodeName(a,"a")&&b=="click"))&&a["on"+b]&&a["on"+b].apply(a,B)===false){D.result=false}if(!d&&a[b]&&!D.isDefaultPrevented()&&!(T.nodeName(a,"a")&&b=="click")){this.triggered=true;try{a[b]()}catch(A){}}this.triggered=false;if(!D.isPropagationStopped()){var c=a.parentNode||a.ownerDocument;if(c){T.event.trigger(D,B,c,true)}}},handle:function(B){var C,d;B=arguments[0]=T.event.fix(B||W.event);B.currentTarget=this;var A=B.type.split(".");B.type=A.shift();C=!A.length&&!B.exclusive;var D=RegExp("(^|\\.)"+A.slice().sort().join(".*\\.")+"(\\.|$)");d=(T.data(this,"events")||{})[B.type];for(var b in d){var a=d[b];if(C||D.test(a.type)){B.handler=a;B.data=a.data;var c=a.apply(this,arguments);if(c!==AB){B.result=c;if(c===false){B.preventDefault();B.stopPropagation()}}if(B.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(C){if(C[AA]){return C}var a=C;C=T.Event(a);for(var D=this.props.length,A;D;){A=this.props[--D];C[A]=a[A]}if(!C.target){C.target=C.srcElement||document}if(C.target.nodeType==3){C.target=C.target.parentNode}if(!C.relatedTarget&&C.fromElement){C.relatedTarget=C.fromElement==C.target?C.toElement:C.fromElement}if(C.pageX==null&&C.clientX!=null){var B=document.documentElement,b=document.body;C.pageX=C.clientX+(B&&B.scrollLeft||b&&b.scrollLeft||0)-(B.clientLeft||0);C.pageY=C.clientY+(B&&B.scrollTop||b&&b.scrollTop||0)-(B.clientTop||0)}if(!C.which&&((C.charCode||C.charCode===0)?C.charCode:C.keyCode)){C.which=C.charCode||C.keyCode}if(!C.metaKey&&C.ctrlKey){C.metaKey=C.ctrlKey}if(!C.which&&C.button){C.which=(C.button&1?1:(C.button&2?3:(C.button&4?2:0)))}return C},proxy:function(A,B){B=B||function(){return A.apply(this,arguments)};B.guid=A.guid=A.guid||B.guid||this.guid++;return B},special:{ready:{setup:P,teardown:function(){}}},specialAll:{live:{setup:function(B,A){T.event.add(this,A[0],AF)},teardown:function(A){if(A.length){var C=0,B=RegExp("(^|\\.)"+A[0]+"(\\.|$)");T.each((T.data(this,"events").live||{}),function(){if(B.test(this.type)){C++}});if(C<1){T.event.remove(this,A[0],AF)}}}}}};T.Event=function(A){if(!this.preventDefault){return new T.Event(A)}if(A&&A.type){this.originalEvent=A;this.type=A.type}else{this.type=A}this.timeStamp=AD();this[AA]=true};function X(){return false}function J(){return true}T.Event.prototype={preventDefault:function(){this.isDefaultPrevented=J;var A=this.originalEvent;if(!A){return }if(A.preventDefault){A.preventDefault()}A.returnValue=false},stopPropagation:function(){this.isPropagationStopped=J;var A=this.originalEvent;if(!A){return }if(A.stopPropagation){A.stopPropagation()}A.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=J;this.stopPropagation()},isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X};var AH=function(B){var C=B.relatedTarget;while(C&&C!=this){try{C=C.parentNode}catch(A){C=this}}if(C!=this){B.type=B.data;T.event.handle.apply(this,arguments)}};T.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(A,B){T.event.special[B]={setup:function(){T.event.add(this,A,AH,B)},teardown:function(){T.event.remove(this,A,AH)}}});T.fn.extend({bind:function(B,A,C){return B=="unload"?this.one(B,A,C):this.each(function(){T.event.add(this,B,C||A,C&&A)})},one:function(B,A,C){var D=T.event.proxy(C||A,function(a){T(this).unbind(a,D);return(C||A).apply(this,arguments)});return this.each(function(){T.event.add(this,B,D,C&&A)})},unbind:function(A,B){return this.each(function(){T.event.remove(this,A,B)})},trigger:function(B,A){return this.each(function(){T.event.trigger(B,A,this)})},triggerHandler:function(C,A){if(this[0]){var B=T.Event(C);B.preventDefault();B.stopPropagation();T.event.trigger(B,A,this[0]);return B.result}},toggle:function(A){var C=arguments,B=1;while(B<C.length){T.event.proxy(A,C[B++])}return this.click(T.event.proxy(A,function(D){this.lastToggle=(this.lastToggle||0)%B;D.preventDefault();return C[this.lastToggle++].apply(this,arguments)||false}))},hover:function(B,A){return this.mouseenter(B).mouseleave(A)},ready:function(A){P();if(T.isReady){A.call(document,T)}else{T.readyList.push(A)}return this},live:function(A,B){var C=T.event.proxy(B);C.guid+=this.selector+A;T(document).bind(Z(A,this.selector),this.selector,C);return this},die:function(A,B){T(document).unbind(Z(A,this.selector),B?{guid:B.guid+this.selector+A}:null);return this}});function AF(A){var D=RegExp("(^|\\.)"+A.type+"(\\.|$)"),B=true,C=[];T.each(T.data(this,"events").live||[],function(c,b){if(D.test(b.type)){var a=T(A.target).closest(b.data)[0];if(a){C.push({elem:a,fn:b})}}});C.sort(function(a,b){return T.data(a.elem,"closest")-T.data(b.elem,"closest")});T.each(C,function(){if(this.fn.call(this.elem,A,this.fn.data)===false){return(B=false)}});return B}function Z(A,B){return["live",A,B.replace(/\./g,"`").replace(/ /g,"|")].join(".")}T.extend({isReady:false,readyList:[],ready:function(){if(!T.isReady){T.isReady=true;if(T.readyList){T.each(T.readyList,function(){this.call(document,T)});T.readyList=null}T(document).triggerHandler("ready")}}});var G=false;function P(){if(G){return }G=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);T.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);T.ready()}});if(document.documentElement.doScroll&&W==W.top){(function(){if(T.isReady){return }try{document.documentElement.doScroll("left")}catch(A){setTimeout(arguments.callee,0);return }T.ready()})()}}}T.event.add(W,"load",T.ready)}T.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error").split(","),function(A,B){T.fn[B]=function(C){return C?this.bind(B,C):this.trigger(B)}});T(W).bind("unload",function(){for(var A in T.cache){if(A!=1&&T.cache[A].handle){T.event.remove(T.cache[A].handle.elem)}}});(function(){T.support={};var b=document.documentElement,a=document.createElement("script"),A=document.createElement("div"),B="script"+(new Date).getTime();A.style.display="none";A.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var D=A.getElementsByTagName("*"),c=A.getElementsByTagName("a")[0];if(!D||!D.length||!c){return }T.support={leadingWhitespace:A.firstChild.nodeType==3,tbody:!A.getElementsByTagName("tbody").length,objectAll:!!A.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!A.getElementsByTagName("link").length,style:/red/.test(c.getAttribute("style")),hrefNormalized:c.getAttribute("href")==="/a",opacity:c.style.opacity==="0.5",cssFloat:!!c.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};a.type="text/javascript";try{a.appendChild(document.createTextNode("window."+B+"=1;"))}catch(C){}b.insertBefore(a,b.firstChild);if(W[B]){T.support.scriptEval=true;delete W[B]}b.removeChild(a);if(A.attachEvent&&A.fireEvent){A.attachEvent("onclick",function(){T.support.noCloneEvent=false;A.detachEvent("onclick",arguments.callee)});A.cloneNode(true).fireEvent("onclick")}T(function(){var d=document.createElement("div");d.style.width=d.style.paddingLeft="1px";document.body.appendChild(d);T.boxModel=T.support.boxModel=d.offsetWidth===2;document.body.removeChild(d).style.display="none"})})();var H=T.support.cssFloat?"cssFloat":"styleFloat";T.props={"for":"htmlFor","class":"className","float":H,cssFloat:H,styleFloat:H,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};T.fn.extend({_load:T.fn.load,load:function(a,B,A){if(typeof a!=="string"){return this._load(a)}var C=a.indexOf(" ");if(C>=0){var c=a.slice(C,a.length);a=a.slice(0,C)}var D="GET";if(B){if(T.isFunction(B)){A=B;B=null}else{if(typeof B==="object"){B=T.param(B);D="POST"}}}var b=this;T.ajax({url:a,type:D,dataType:"html",data:B,complete:function(e,d){if(d=="success"||d=="notmodified"){b.html(c?T("<div/>").append(e.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(c):e.responseText)}if(A){b.each(A,[e.responseText,d,e])}}});return this},serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?T.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(C,B){var A=T(this).val();return A==null?null:T.isArray(A)?T.map(A,function(D,a){return{name:B.name,value:D}}):{name:B.name,value:A}}).get()}});T.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(B,A){T.fn[A]=function(C){return this.bind(A,C)}});var N=AD();T.extend({get:function(D,B,A,C){if(T.isFunction(B)){A=B;B=null}return T.ajax({type:"GET",url:D,data:B,success:A,dataType:C})},getScript:function(B,A){return T.get(B,null,A,"script")},getJSON:function(C,B,A){return T.get(C,B,A,"json")},post:function(D,B,A,C){if(T.isFunction(B)){A=B;B={}}return T.ajax({type:"POST",url:D,data:B,success:A,dataType:C})},ajaxSetup:function(A){T.extend(T.ajaxSettings,A)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return W.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(h){h=T.extend(true,h,T.extend(true,{},T.ajaxSettings,h));var A,p=/=\?(&|$)/g,b,B,o=h.type.toUpperCase();if(h.data&&h.processData&&typeof h.data!=="string"){h.data=T.param(h.data)}if(h.dataType=="jsonp"){if(o=="GET"){if(!h.url.match(p)){h.url+=(h.url.match(/\?/)?"&":"?")+(h.jsonp||"callback")+"=?"}}else{if(!h.data||!h.data.match(p)){h.data=(h.data?h.data+"&":"")+(h.jsonp||"callback")+"=?"}}h.dataType="json"}if(h.dataType=="json"&&(h.data&&h.data.match(p)||h.url.match(p))){A="jsonp"+N++;if(h.data){h.data=(h.data+"").replace(p,"="+A+"$1")}h.url=h.url.replace(p,"="+A+"$1");h.dataType="script";W[A]=function(s){B=s;m();i();W[A]=AB;try{delete W[A]}catch(r){}if(n){n.removeChild(D)}}}if(h.dataType=="script"&&h.cache==null){h.cache=false}if(h.cache===false&&o=="GET"){var q=AD();var C=h.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+q+"$2");h.url=C+((C==h.url)?(h.url.match(/\?/)?"&":"?")+"_="+q:"")}if(h.data&&o=="GET"){h.url+=(h.url.match(/\?/)?"&":"?")+h.data;h.data=null}if(h.global&&!T.active++){T.event.trigger("ajaxStart")}var c=/^(\w+:)?\/\/([^\/?#]+)/.exec(h.url);if(h.dataType=="script"&&o=="GET"&&c&&(c[1]&&c[1]!=location.protocol||c[2]!=location.host)){var n=document.getElementsByTagName("head")[0];var D=document.createElement("script");D.src=h.url;if(h.scriptCharset){D.charset=h.scriptCharset}if(!A){var e=false;D.onload=D.onreadystatechange=function(){if(!e&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){e=true;m();i();D.onload=D.onreadystatechange=null;n.removeChild(D)}}}n.appendChild(D);return AB}var k=false;var l=h.xhr();if(h.username){l.open(o,h.url,h.async,h.username,h.password)}else{l.open(o,h.url,h.async)}try{if(h.data){l.setRequestHeader("Content-Type",h.contentType)}if(h.ifModified){l.setRequestHeader("If-Modified-Since",T.lastModified[h.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}l.setRequestHeader("X-Requested-With","XMLHttpRequest");l.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*":h.accepts._default)}catch(a){}if(h.beforeSend&&h.beforeSend(l,h)===false){if(h.global&&!--T.active){T.event.trigger("ajaxStop")}l.abort();return false}if(h.global){T.event.trigger("ajaxSend",[l,h])}var g=function(t){if(l.readyState==0){if(d){clearInterval(d);d=null;if(h.global&&!--T.active){T.event.trigger("ajaxStop")}}}else{if(!k&&l&&(l.readyState==4||t=="timeout")){k=true;if(d){clearInterval(d);d=null}b=t=="timeout"?"timeout":!T.httpSuccess(l)?"error":h.ifModified&&T.httpNotModified(l,h.url)?"notmodified":"success";if(b=="success"){try{B=T.httpData(l,h.dataType,h)}catch(r){b="parsererror"}}if(b=="success"){var s;try{s=l.getResponseHeader("Last-Modified")}catch(r){}if(h.ifModified&&s){T.lastModified[h.url]=s}if(!A){m()}}else{T.handleError(h,l,b)}i();if(t){l.abort()}if(h.async){l=null}}}};if(h.async){var d=setInterval(g,13);if(h.timeout>0){setTimeout(function(){if(l&&!k){g("timeout")}},h.timeout)}}try{l.send(h.data)}catch(a){T.handleError(h,l,null,a)}if(!h.async){g()}function m(){if(h.success){h.success(B,b)}if(h.global){T.event.trigger("ajaxSuccess",[l,h])}}function i(){if(h.complete){h.complete(l,b)}if(h.global){T.event.trigger("ajaxComplete",[l,h])}if(h.global&&!--T.active){T.event.trigger("ajaxStop")}}return l},handleError:function(C,A,D,B){if(C.error){C.error(A,D,B)}if(C.global){T.event.trigger("ajaxError",[A,C,B])}},active:0,httpSuccess:function(A){try{return !A.status&&location.protocol=="file:"||(A.status>=200&&A.status<300)||A.status==304||A.status==1223}catch(B){}return false},httpNotModified:function(B,D){try{var A=B.getResponseHeader("Last-Modified");return B.status==304||A==T.lastModified[D]}catch(C){}return false},httpData:function(A,C,D){var a=A.getResponseHeader("content-type"),b=C=="xml"||!C&&a&&a.indexOf("xml")>=0,B=b?A.responseXML:A.responseText;if(b&&B.documentElement.tagName=="parsererror"){throw"parsererror"}if(D&&D.dataFilter){B=D.dataFilter(B,C)}if(typeof B==="string"){if(C=="script"){T.globalEval(B)}if(C=="json"){B=W["eval"]("("+B+")")}}return B},param:function(D){var B=[];function A(b,a){B[B.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)}if(T.isArray(D)||D.jquery){T.each(D,function(){A(this.name,this.value)})}else{for(var C in D){if(T.isArray(D[C])){T.each(D[C],function(){A(C,this)})}else{A(C,T.isFunction(D[C])?D[C]():D[C])}}}return B.join("&").replace(/%20/g,"+")}});var V={},U,AE=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function K(B,C){var A={};T.each(AE.concat.apply([],AE.slice(0,C)),function(){A[this]=B});return A}T.fn.extend({show:function(C,A){if(C){return this.animate(K("show",3),C,A)}else{for(var a=0,c=this.length;a<c;a++){var d=T.data(this[a],"olddisplay");this[a].style.display=d||"";if(T.css(this[a],"display")==="none"){var b=this[a].tagName,B;if(V[b]){B=V[b]}else{var D=T("<"+b+" />").appendTo("body");B=D.css("display");if(B==="none"){B="block"}D.remove();V[b]=B}T.data(this[a],"olddisplay",B)}}for(var a=0,c=this.length;a<c;a++){this[a].style.display=T.data(this[a],"olddisplay")||""}return this}},hide:function(B,A){if(B){return this.animate(K("hide",3),B,A)}else{for(var C=0,D=this.length;C<D;C++){var a=T.data(this[C],"olddisplay");if(!a&&a!=="none"){T.data(this[C],"olddisplay",T.css(this[C],"display"))}}for(var C=0,D=this.length;C<D;C++){this[C].style.display="none"}return this}},_toggle:T.fn.toggle,toggle:function(A,B){var C=typeof A==="boolean";return T.isFunction(A)&&T.isFunction(B)?this._toggle.apply(this,arguments):A==null||C?this.each(function(){var D=C?A:T(this).is(":hidden");T(this)[D?"show":"hide"]()}):this.animate(K("toggle",3),A,B)},fadeTo:function(C,A,B){return this.animate({opacity:A},C,B)},animate:function(A,D,B,C){var a=T.speed(D,B,C);return this[a.queue===false?"each":"queue"](function(){var c=T.extend({},a),e,b=this.nodeType==1&&T(this).is(":hidden"),d=this;for(e in A){if(A[e]=="hide"&&b||A[e]=="show"&&!b){return c.complete.call(this)}if((e=="height"||e=="width")&&this.style){c.display=T.css(this,"display");c.overflow=this.style.overflow}}if(c.overflow!=null){this.style.overflow="hidden"}c.curAnim=T.extend({},A);T.each(A,function(m,h){var i=new T.fx(d,c,m);if(/toggle|show|hide/.test(h)){i[h=="toggle"?b?"show":"hide":h](A)}else{var k=h.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),g=i.cur(true)||0;if(k){var n=parseFloat(k[2]),l=k[3]||"px";if(l!="px"){d.style[m]=(n||1)+l;g=((n||1)/i.cur(true))*g;d.style[m]=g+l}if(k[1]){n=((k[1]=="-="?-1:1)*n)+g}i.custom(g,n,l)}else{i.custom(g,h,"")}}});return true})},stop:function(B,C){var A=T.timers;if(B){this.queue([])}this.each(function(){for(var D=A.length-1;D>=0;D--){if(A[D].elem==this){if(C){A[D](true)}A.splice(D,1)}}});if(!C){this.dequeue()}return this}});T.each({slideDown:K("show",1),slideUp:K("hide",1),slideToggle:K("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(B,A){T.fn[B]=function(D,C){return this.animate(A,D,C)}});T.extend({speed:function(B,A,C){var D=typeof B==="object"?B:{complete:C||!C&&A||T.isFunction(B)&&B,duration:B,easing:C&&A||A&&!T.isFunction(A)&&A};D.duration=T.fx.off?0:typeof D.duration==="number"?D.duration:T.fx.speeds[D.duration]||T.fx.speeds._default;D.old=D.complete;D.complete=function(){if(D.queue!==false){T(this).dequeue()}if(T.isFunction(D.old)){D.old.call(this)}};return D},easing:{linear:function(B,A,D,C){return D+C*B},swing:function(B,A,D,C){return((-Math.cos(B*Math.PI)/2)+0.5)*C+D}},timers:[],fx:function(B,C,A){this.options=C;this.elem=B;this.prop=A;if(!C.orig){C.orig={}}}});T.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(T.fx.step[this.prop]||T.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(A){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var B=parseFloat(T.css(this.elem,this.prop,A));return B&&B>-10000?B:parseFloat(T.curCSS(this.elem,this.prop))||0},custom:function(A,B,C){this.startTime=AD();this.start=A;this.end=B;this.unit=C||this.unit||"px";this.now=this.start;this.pos=this.state=0;var a=this;function D(b){return a.step(b)}D.elem=this.elem;if(D()&&T.timers.push(D)&&!U){U=setInterval(function(){var b=T.timers;for(var c=0;c<b.length;c++){if(!b[c]()){b.splice(c--,1)}}if(!b.length){clearInterval(U);U=AB}},13)}},show:function(){this.options.orig[this.prop]=T.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());T(this.elem).show()},hide:function(){this.options.orig[this.prop]=T.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(C){var D=AD();if(C||D>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var b=true;for(var a in this.options.curAnim){if(this.options.curAnim[a]!==true){b=false}}if(b){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(T.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){T(this.elem).hide()}if(this.options.hide||this.options.show){for(var B in this.options.curAnim){T.attr(this.elem.style,B,this.options.orig[B])}}this.options.complete.call(this.elem)}return false}else{var A=D-this.startTime;this.state=A/this.options.duration;this.pos=T.easing[this.options.easing||(T.easing.swing?"swing":"linear")](this.state,A,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};T.extend(T.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(A){T.attr(A.elem.style,"opacity",A.now)},_default:function(A){if(A.elem.style&&A.elem.style[A.prop]!=null){A.elem.style[A.prop]=A.now+A.unit}else{A.elem[A.prop]=A.now}}}});if(document.documentElement.getBoundingClientRect){T.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return T.offset.bodyOffset(this[0])}var b=this[0].getBoundingClientRect(),C=this[0].ownerDocument,c=C.body,d=C.documentElement,A=d.clientTop||c.clientTop||0,B=d.clientLeft||c.clientLeft||0,D=b.top+(self.pageYOffset||T.boxModel&&d.scrollTop||c.scrollTop)-A,a=b.left+(self.pageXOffset||T.boxModel&&d.scrollLeft||c.scrollLeft)-B;return{top:D,left:a}}}else{T.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return T.offset.bodyOffset(this[0])}T.offset.initialized||T.offset.initialize();var b=this[0],e=b.offsetParent,g=b,A=b.ownerDocument,C,d=A.documentElement,a=A.body,D=A.defaultView,h=D.getComputedStyle(b,null),B=b.offsetTop,c=b.offsetLeft;while((b=b.parentNode)&&b!==a&&b!==d){C=D.getComputedStyle(b,null);B-=b.scrollTop,c-=b.scrollLeft;if(b===e){B+=b.offsetTop,c+=b.offsetLeft;if(T.offset.doesNotAddBorder&&!(T.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(b.tagName))){B+=parseInt(C.borderTopWidth,10)||0,c+=parseInt(C.borderLeftWidth,10)||0}g=e,e=b.offsetParent}if(T.offset.subtractsBorderForOverflowNotVisible&&C.overflow!=="visible"){B+=parseInt(C.borderTopWidth,10)||0,c+=parseInt(C.borderLeftWidth,10)||0}h=C}if(h.position==="relative"||h.position==="static"){B+=a.offsetTop,c+=a.offsetLeft}if(h.position==="fixed"){B+=Math.max(d.scrollTop,a.scrollTop),c+=Math.max(d.scrollLeft,a.scrollLeft)}return{top:B,left:c}}}T.offset={initialize:function(){if(this.initialized){return }var C=document.body,e=document.createElement("div"),c,d,A,b,B,g,a=C.style.marginTop,D='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';B={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(g in B){e.style[g]=B[g]}e.innerHTML=D;C.insertBefore(e,C.firstChild);c=e.firstChild,d=c.firstChild,b=c.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(d.offsetTop!==5);this.doesAddBorderForTableAndCells=(b.offsetTop===5);c.style.overflow="hidden",c.style.position="relative";this.subtractsBorderForOverflowNotVisible=(d.offsetTop===-5);C.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=(C.offsetTop===0);C.style.marginTop=a;C.removeChild(e);this.initialized=true},bodyOffset:function(C){T.offset.initialized||T.offset.initialize();var A=C.offsetTop,B=C.offsetLeft;if(T.offset.doesNotIncludeMarginInBodyOffset){A+=parseInt(T.curCSS(C,"marginTop",true),10)||0,B+=parseInt(T.curCSS(C,"marginLeft",true),10)||0}return{top:A,left:B}}};T.fn.extend({position:function(){var B=0,C=0,a;if(this[0]){var D=this.offsetParent(),A=this.offset(),b=/^body|html$/i.test(D[0].tagName)?{top:0,left:0}:D.offset();A.top-=Y(this,"marginTop");A.left-=Y(this,"marginLeft");b.top+=Y(D,"borderTopWidth");b.left+=Y(D,"borderLeftWidth");a={top:A.top-b.top,left:A.left-b.left}}return a},offsetParent:function(){var A=this[0].offsetParent||document.body;while(A&&(!/^body|html$/i.test(A.tagName)&&T.css(A,"position")=="static")){A=A.offsetParent}return T(A)}});T.each(["Left","Top"],function(B,C){var A="scroll"+C;T.fn[A]=function(D){if(!this[0]){return null}return D!==AB?this.each(function(){this==W||this==document?W.scrollTo(!B?D:T(W).scrollLeft(),B?D:T(W).scrollTop()):this[A]=D}):this[0]==W||this[0]==document?self[B?"pageYOffset":"pageXOffset"]||T.boxModel&&document.documentElement[A]||document.body[A]:this[0][A]}});T.each(["Height","Width"],function(B,D){var b=B?"Left":"Top",C=B?"Right":"Bottom",a=D.toLowerCase();T.fn["inner"+D]=function(){return this[0]?T.css(this[0],a,false,"padding"):null};T.fn["outer"+D]=function(c){return this[0]?T.css(this[0],a,false,c?"margin":"border"):null};var A=D.toLowerCase();T.fn[A]=function(c){return this[0]==W?document.compatMode=="CSS1Compat"&&document.documentElement["client"+D]||document.body["client"+D]:this[0]==document?Math.max(document.documentElement["client"+D],document.body["scroll"+D],document.documentElement["scroll"+D],document.body["offset"+D],document.documentElement["offset"+D]):c===AB?(this.length?T.css(this[0],A):null):this.css(A,typeof c==="string"?c:c+"px")}})})();Ext={version:"2.2.1"};window["undefined"]=window["undefined"];Ext.apply=function(D,C,A){if(A){Ext.apply(D,A)}if(D&&C&&typeof C=="object"){for(var B in C){D[B]=C[B]}}return D};(function(){var idSeed=0;var ua=navigator.userAgent.toLowerCase();var isStrict=document.compatMode=="CSS1Compat",isOpera=ua.indexOf("opera")>-1,isChrome=ua.indexOf("chrome")>-1,isSafari=!isChrome&&(/webkit|khtml/).test(ua),isSafari3=isSafari&&ua.indexOf("webkit/5")!=-1,isIE=!isOpera&&ua.indexOf("msie")>-1,isIE7=!isOpera&&ua.indexOf("msie 7")>-1,isIE8=!isOpera&&ua.indexOf("msie 8")>-1,isGecko=!isSafari&&!isChrome&&ua.indexOf("gecko")>-1,isGecko3=isGecko&&ua.indexOf("rv:1.9")>-1,isBorderBox=isIE&&!isStrict,isWindows=(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1),isMac=(ua.indexOf("macintosh")!=-1||ua.indexOf("mac os x")!=-1),isAir=(ua.indexOf("adobeair")!=-1),isLinux=(ua.indexOf("linux")!=-1),isSecure=window.location.href.toLowerCase().indexOf("https")===0;if(isIE&&!isIE7){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}Ext.apply(Ext,{isStrict:isStrict,isSecure:isSecure,isReady:false,enableGarbageCollector:true,enableListenerCollection:false,SSL_SECURE_URL:"javascript:false",BLANK_IMAGE_URL:"http://extjs.com/s.gif",emptyFn:function(){},applyIf:function(o,c){if(o&&c){for(var p in c){if(typeof o[p]=="undefined"){o[p]=c[p]}}}return o},addBehaviors:function(o){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(o)});return }var cache={};for(var b in o){var parts=b.split("@");if(parts[1]){var s=parts[0];if(!cache[s]){cache[s]=Ext.select(s)}cache[s].on(parts[1],o[b])}}cache=null},id:function(el,prefix){prefix=prefix||"ext-gen";el=Ext.getDom(el);var id=prefix+(++idSeed);return el?(el.id?el.id:(el.id=id)):id},extend:function(){var io=function(o){for(var m in o){this[m]=o[m]}};var oc=Object.prototype.constructor;return function(sb,sp,overrides){if(typeof sp=="object"){overrides=sp;sp=sb;sb=overrides.constructor!=oc?overrides.constructor:function(){sp.apply(this,arguments)}}var F=function(){},sbp,spp=sp.prototype;F.prototype=spp;sbp=sb.prototype=new F();sbp.constructor=sb;sb.superclass=spp;if(spp.constructor==oc){spp.constructor=sp}sb.override=function(o){Ext.override(sb,o)};sbp.override=io;Ext.override(sb,overrides);sb.extend=function(o){Ext.extend(sb,o)};return sb}}(),override:function(origclass,overrides){if(overrides){var p=origclass.prototype;for(var method in overrides){p[method]=overrides[method]}if(Ext.isIE&&overrides.toString!=origclass.toString){p.toString=overrides.toString}}},namespace:function(){var a=arguments,o=null,i,j,d,rt;for(i=0;i<a.length;++i){d=a[i].split(".");rt=d[0];eval("if (typeof "+rt+' == "undefined"){'+rt+" = {};} o = "+rt+";");for(j=1;j<d.length;++j){o[d[j]]=o[d[j]]||{};o=o[d[j]]}}},urlEncode:function(o){if(!o){return""}var buf=[];for(var key in o){var ov=o[key],k=encodeURIComponent(key);var type=typeof ov;if(type=="undefined"){buf.push(k,"=&")}else{if(type!="function"&&type!="object"){buf.push(k,"=",encodeURIComponent(ov),"&")}else{if(Ext.isDate(ov)){var s=Ext.encode(ov).replace(/"/g,"");buf.push(k,"=",s,"&")}else{if(Ext.isArray(ov)){if(ov.length){for(var i=0,len=ov.length;i<len;i++){buf.push(k,"=",encodeURIComponent(ov[i]===undefined?"":ov[i]),"&")}}else{buf.push(k,"=&")}}}}}}buf.pop();return buf.join("")},urlDecode:function(string,overwrite){if(!string||!string.length){return{}}var obj={};var pairs=string.split("&");var pair,name,value;for(var i=0,len=pairs.length;i<len;i++){pair=pairs[i].split("=");name=decodeURIComponent(pair[0]);value=decodeURIComponent(pair[1]);if(overwrite!==true){if(typeof obj[name]=="undefined"){obj[name]=value}else{if(typeof obj[name]=="string"){obj[name]=[obj[name]];obj[name].push(value)}else{obj[name].push(value)}}}else{obj[name]=value}}return obj},each:function(array,fn,scope){if(typeof array.length=="undefined"||typeof array=="string"){array=[array]}for(var i=0,len=array.length;i<len;i++){if(fn.call(scope||array[i],array[i],i,array)===false){return i}}},combine:function(){var as=arguments,l=as.length,r=[];for(var i=0;i<l;i++){var a=as[i];if(Ext.isArray(a)){r=r.concat(a)}else{if(a.length!==undefined&&!a.substr){r=r.concat(Array.prototype.slice.call(a,0))}else{r.push(a)}}}return r},escapeRe:function(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},callback:function(cb,scope,args,delay){if(typeof cb=="function"){if(delay){cb.defer(delay,scope,args||[])}else{cb.apply(scope,args||[])}}},getDom:function(el){if(!el||!document){return null}return el.dom?el.dom:(typeof el=="string"?document.getElementById(el):el)},getDoc:function(){return Ext.get(document)},getBody:function(){return Ext.get(document.body||document.documentElement)},getCmp:function(id){return Ext.ComponentMgr.get(id)},num:function(v,defaultValue){if(typeof v!="number"||isNaN(v)){return defaultValue}return v},destroy:function(){for(var i=0,a=arguments,len=a.length;i<len;i++){var as=a[i];if(as){if(typeof as.destroy=="function"){as.destroy()}else{if(as.dom){as.removeAllListeners();as.remove()}}}}},removeNode:isIE?function(){var d;return function(n){if(n&&n.tagName!="BODY"){d=d||document.createElement("div");d.appendChild(n);d.innerHTML=""}}}():function(n){if(n&&n.parentNode&&n.tagName!="BODY"){n.parentNode.removeChild(n)}},type:function(o){if(o===undefined||o===null){return false}if(o.htmlElement){return"element"}var t=typeof o;if(t=="object"&&o.nodeName){switch(o.nodeType){case 1:return"element";case 3:return(/\S/).test(o.nodeValue)?"textnode":"whitespace"}}if(t=="object"||t=="function"){switch(o.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof o.length=="number"&&typeof o.item=="function"){return"nodelist"}}return t},isEmpty:function(v,allowBlank){return v===null||v===undefined||(!allowBlank?v==="":false)},value:function(v,defaultValue,allowBlank){return Ext.isEmpty(v,allowBlank)?defaultValue:v},isArray:function(v){return v&&typeof v.length=="number"&&typeof v.splice=="function"},isDate:function(v){return v&&typeof v.getFullYear=="function"},isOpera:isOpera,isChrome:isChrome,isSafari:isSafari,isSafari3:isSafari3,isSafari2:isSafari&&!isSafari3,isIE:isIE,isIE6:isIE&&!isIE7&&!isIE8,isIE7:isIE7,isIE8:isIE8,isGecko:isGecko,isGecko2:isGecko&&!isGecko3,isGecko3:isGecko3,isBorderBox:isBorderBox,isLinux:isLinux,isWindows:isWindows,isMac:isMac,isAir:isAir,useShims:((isIE&&!isIE7)||(isMac&&isGecko&&!isGecko3))});Ext.ns=Ext.namespace})();Ext.ns("Ext","Ext.util","Ext.grid","Ext.dd","Ext.tree","Ext.data","Ext.form","Ext.menu","Ext.state","Ext.lib","Ext.layout","Ext.app","Ext.ux");Ext.apply(Function.prototype,{createCallback:function(){var B=arguments;var A=this;return function(){return A.apply(window,B)}},createDelegate:function(D,A,B){var C=this;return function(){var E=A||arguments;if(B===true){E=Array.prototype.slice.call(arguments,0);E=E.concat(A)}else{if(typeof B=="number"){E=Array.prototype.slice.call(arguments,0);var F=[B,0].concat(A);Array.prototype.splice.apply(E,F)}}return C.apply(D||window,E)}},defer:function(E,C,A,B){var D=this.createDelegate(C,A,B);if(E){return setTimeout(D,E)}D();return 0},createSequence:function(A,B){if(typeof A!="function"){return this}var C=this;return function(){var D=C.apply(this||window,arguments);A.apply(B||this||window,arguments);return D}},createInterceptor:function(A,B){if(typeof A!="function"){return this}var C=this;return function(){A.target=this;A.method=C;if(A.apply(B||this||window,arguments)===false){return }return C.apply(this||window,arguments)}}});Ext.applyIf(String,{escape:function(A){return A.replace(/('|\\)/g,"\\$1")},leftPad:function(C,A,D){var B=new String(C);if(!D){D=" "}while(B.length<A){B=D+B}return B.toString()},format:function(A){var B=Array.prototype.slice.call(arguments,1);return A.replace(/\{(\d+)\}/g,function(D,C){return B[C]})}});String.prototype.toggle=function(A,B){return this==A?B:A};String.prototype.trim=function(){var A=/^\s+|\s+$/g;return function(){return this.replace(A,"")}}();Ext.applyIf(Number.prototype,{constrain:function(A,B){return Math.min(Math.max(this,A),B)}});Ext.applyIf(Array.prototype,{indexOf:function(C){for(var A=0,B=this.length;A<B;A++){if(this[A]==C){return A}}return -1},remove:function(A){var B=this.indexOf(A);if(B!=-1){this.splice(B,1)}return this}});Date.prototype.getElapsed=function(A){return Math.abs((A||new Date()).getTime()-this.getTime())};if(typeof jQuery=="undefined"){throw"Unable to load Ext, jQuery not found."}(function(){var A;Ext.lib.Dom={getViewWidth:function(D){return D?Math.max(jQuery(document).width(),jQuery(window).width()):jQuery(window).width()},getViewHeight:function(D){return D?Math.max(jQuery(document).height(),jQuery(window).height()):jQuery(window).height()},isAncestor:function(E,D){E=Ext.getDom(E);D=Ext.getDom(D);if(!E||!D){return false}if(E.contains&&!Ext.isSafari){return E.contains(D)}else{if(E.compareDocumentPosition){return !!(E.compareDocumentPosition(D)&16)}else{var F=D.parentNode;while(F){if(F==E){return true}else{if(!F.tagName||F.tagName.toUpperCase()=="HTML"){return false}}F=F.parentNode}return false}}},getRegion:function(D){return Ext.lib.Region.getRegion(D)},getY:function(D){return this.getXY(D)[1]},getX:function(D){return this.getXY(D)[0]},getXY:function(M){var N,I,G,F,J=(document.body||document.documentElement);M=Ext.getDom(M);if(M==J){return[0,0]}if(M.getBoundingClientRect){G=M.getBoundingClientRect();F=C(document).getScroll();return[G.left+F.left,G.top+F.top]}var E=0,H=0;N=M;var O=C(M).getStyle("position")=="absolute";while(N){E+=N.offsetLeft;H+=N.offsetTop;if(!O&&C(N).getStyle("position")=="absolute"){O=true}if(Ext.isGecko){I=C(N);var D=parseInt(I.getStyle("borderTopWidth"),10)||0;var L=parseInt(I.getStyle("borderLeftWidth"),10)||0;E+=L;H+=D;if(N!=M&&I.getStyle("overflow")!="visible"){E+=L;H+=D}}N=N.offsetParent}if(Ext.isSafari&&O){E-=J.offsetLeft;H-=J.offsetTop}if(Ext.isGecko&&!O){var K=C(J);E+=parseInt(K.getStyle("borderLeftWidth"),10)||0;H+=parseInt(K.getStyle("borderTopWidth"),10)||0}N=M.parentNode;while(N&&N!=J){if(!Ext.isOpera||(N.tagName!="TR"&&C(N).getStyle("display")!="inline")){E-=N.scrollLeft;H-=N.scrollTop}N=N.parentNode}return[E,H]},setXY:function(F,E){F=Ext.fly(F,"_setXY");F.position();var D=F.translatePoints(E);if(E[0]!==false){F.dom.style.left=D.left+"px"}if(E[1]!==false){F.dom.style.top=D.top+"px"}},setX:function(D,E){this.setXY(D,[E,false])},setY:function(E,D){this.setXY(E,[false,D])}};function C(D){if(!A){A=new Ext.Element.Flyweight()}A.dom=D;return A}Ext.lib.Event={getPageX:function(D){D=D.browserEvent||D;return D.pageX},getPageY:function(D){D=D.browserEvent||D;return D.pageY},getXY:function(D){D=D.browserEvent||D;return[D.pageX,D.pageY]},getTarget:function(D){return D.target},on:function(D,H,E,F,G){jQuery(D).bind(H,E)},un:function(D,F,E){jQuery(D).unbind(F,E)},purgeElement:function(D){jQuery(D).unbind()},preventDefault:function(D){D=D.browserEvent||D;if(D.preventDefault){D.preventDefault()}else{D.returnValue=false}},stopPropagation:function(D){D=D.browserEvent||D;if(D.stopPropagation){D.stopPropagation()}else{D.cancelBubble=true}},stopEvent:function(D){this.preventDefault(D);this.stopPropagation(D)},onAvailable:function(D,H,I){var E=new Date();var G=function(){if(E.getElapsed()>10000){clearInterval(F)}var J=document.getElementById(D);if(J){clearInterval(F);H.call(I||window,J)}};var F=setInterval(G,50)},resolveTextNode:function(D){if(D&&3==D.nodeType){return D.parentNode}else{return D}},getRelatedTarget:function(D){D=D.browserEvent||D;var E=D.relatedTarget;if(!E){if(D.type=="mouseout"){E=D.toElement}else{if(D.type=="mouseover"){E=D.fromElement}}}return this.resolveTextNode(E)}};Ext.lib.Ajax=function(){var D=function(E){return function(F,G){if((G=="error"||G=="timeout")&&E.failure){E.failure.call(E.scope||window,{responseText:F.responseText,responseXML:F.responseXML,argument:E.argument})}else{if(E.success){E.success.call(E.scope||window,{responseText:F.responseText,responseXML:F.responseXML,argument:E.argument})}}}};return{request:function(E,H,K,G,J){var F={type:E,url:H,data:G,timeout:K.timeout,complete:D(K)};if(J){var I=J.headers;if(J.xmlData){F.data=J.xmlData;F.processData=false;F.type=(E?E:(J.method?J.method:"POST"));if(!I||!I["Content-Type"]){F.contentType="text/xml"}}else{if(J.jsonData){F.data=typeof J.jsonData=="object"?Ext.encode(J.jsonData):J.jsonData;F.processData=false;F.type=(E?E:(J.method?J.method:"POST"));if(!I||!I["Content-Type"]){F.contentType="application/json"}}}if(I){F.beforeSend=function(L){for(var M in I){if(I.hasOwnProperty(M)){L.setRequestHeader(M,I[M])}}}}}jQuery.ajax(F)},formRequest:function(F,G,I,E,J,H){jQuery.ajax({type:Ext.getDom(F).method||"POST",url:G,data:jQuery(F).serialize()+(E?"&"+E:""),timeout:I.timeout,complete:D(I)})},isCallInProgress:function(E){return false},abort:function(E){return false},serializeForm:function(E){return jQuery(E.dom||E).serialize()}}}();Ext.lib.Anim=function(){var D=function(G,F){var E=true;return{stop:function(H){},isAnimated:function(){return E},proxyCallback:function(){E=false;Ext.callback(G,F)}}};return{scroll:function(H,J,F,E,K,I){var G=D(K,I);H=Ext.getDom(H);if(typeof J.scroll.to[0]=="number"){H.scrollLeft=J.scroll.to[0]}if(typeof J.scroll.to[1]=="number"){H.scrollTop=J.scroll.to[1]}G.proxyCallback();return G},motion:function(G,I,F,E,J,H){return this.run(G,I,F,E,J,H)},color:function(H,J,F,E,K,I){var G=D(K,I);G.proxyCallback();return G},run:function(N,F,K,G,M,R,E){var J=D(M,R),I=Ext.fly(N,"_animrun");var O={};for(var L in F){if(F[L].from){if(L!="points"){I.setStyle(L,F[L].from)}}switch(L){case"points":var H,P;I.position();if(H=F.points.by){var Q=I.getXY();P=I.translatePoints([Q[0]+H[0],Q[1]+H[1]])}else{P=I.translatePoints(F.points.to)}O.left=P.left;O.top=P.top;if(!parseInt(I.getStyle("left"),10)){I.setLeft(0)}if(!parseInt(I.getStyle("top"),10)){I.setTop(0)}if(F.points.from){I.setXY(F.points.from)}break;case"width":O.width=F.width.to;break;case"height":O.height=F.height.to;break;case"opacity":O.opacity=F.opacity.to;break;case"left":O.left=F.left.to;break;case"top":O.top=F.top.to;break;default:O[L]=F[L].to;break}}jQuery(N).animate(O,K*1000,undefined,J.proxyCallback);return J}}}();Ext.lib.Region=function(E,D,G,F){this.top=E;this[1]=E;this.right=D;this.bottom=G;this.left=F;this[0]=F};Ext.lib.Region.prototype={contains:function(D){return(D.left>=this.left&&D.right<=this.right&&D.top>=this.top&&D.bottom<=this.bottom)},getArea:function(){return((this.bottom-this.top)*(this.right-this.left))},intersect:function(D){var F=Math.max(this.top,D.top);var E=Math.min(this.right,D.right);var H=Math.min(this.bottom,D.bottom);var G=Math.max(this.left,D.left);if(H>=F&&E>=G){return new Ext.lib.Region(F,E,H,G)}else{return null}},union:function(D){var F=Math.min(this.top,D.top);var E=Math.max(this.right,D.right);var H=Math.max(this.bottom,D.bottom);var G=Math.min(this.left,D.left);return new Ext.lib.Region(F,E,H,G)},constrainTo:function(D){this.top=this.top.constrain(D.top,D.bottom);this.bottom=this.bottom.constrain(D.top,D.bottom);this.left=this.left.constrain(D.left,D.right);this.right=this.right.constrain(D.left,D.right);return this},adjust:function(E,F,G,D){this.top+=E;this.left+=F;this.right+=D;this.bottom+=G;return this}};Ext.lib.Region.getRegion=function(F){var D=Ext.lib.Dom.getXY(F);var G=D[1];var E=D[0]+F.offsetWidth;var I=D[1]+F.offsetHeight;var H=D[0];return new Ext.lib.Region(G,E,I,H)};Ext.lib.Point=function(E,D){if(Ext.isArray(E)){D=E[1];E=E[0]}this.x=this.right=this.left=this[0]=E;this.y=this.top=this.bottom=this[1]=D};Ext.lib.Point.prototype=new Ext.lib.Region();if(Ext.isIE){function B(){var D=Function.prototype;delete D.createSequence;delete D.defer;delete D.createDelegate;delete D.createCallback;delete D.createInterceptor;window.detachEvent("onunload",B)}window.attachEvent("onunload",B)}})();Ext.DomHelper=function(){var B=null;var H=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i;var L=/^table|tbody|tr|td$/i;var M=function(O){if(typeof O=="string"){return O}var T="";if(Ext.isArray(O)){for(var Q=0,S=O.length;Q<S;Q++){T+=M(O[Q])}return T}if(!O.tag){O.tag="div"}T+="<"+O.tag;for(var U in O){if(U=="tag"||U=="children"||U=="cn"||U=="html"||typeof O[U]=="function"){continue}if(U=="style"){var P=O.style;if(typeof P=="function"){P=P.call()}if(typeof P=="string"){T+=' style="'+P+'"'}else{if(typeof P=="object"){T+=' style="';for(var R in P){if(typeof P[R]!="function"){T+=R+":"+P[R]+";"}}T+='"'}}}else{if(U=="cls"){T+=' class="'+O.cls+'"'}else{if(U=="htmlFor"){T+=' for="'+O.htmlFor+'"'}else{T+=" "+U+'="'+O[U]+'"'}}}}if(H.test(O.tag)){T+="/>"}else{T+=">";var N=O.children||O.cn;if(N){T+=M(N)}else{if(O.html){T+=O.html}}T+="</"+O.tag+">"}return T};var A=function(O,T){var P;if(Ext.isArray(O)){P=document.createDocumentFragment();for(var Q=0,S=O.length;Q<S;Q++){A(O[Q],P)}}else{if(typeof O=="string"){P=document.createTextNode(O)}else{P=document.createElement(O.tag||"div");var R=!!P.setAttribute;for(var U in O){if(U=="tag"||U=="children"||U=="cn"||U=="html"||U=="style"||typeof O[U]=="function"){continue}if(U=="cls"){P.className=O.cls}else{if(R){P.setAttribute(U,O[U])}else{P[U]=O[U]}}}Ext.DomHelper.applyStyles(P,O.style);var N=O.children||O.cn;if(N){A(N,P)}else{if(O.html){P.innerHTML=O.html}}}}if(T){T.appendChild(P)}return P};var E=function(N,P,Q,O){B.innerHTML=[P,Q,O].join("");var S=-1,R=B;while(++S<N){R=R.firstChild}return R};var D="<table>",I="</table>",K=D+"<tbody>",C="</tbody>"+I,F=K+"<tr>",J="</tr>"+C;var G=function(S,R,P,Q){if(!B){B=document.createElement("div")}var O;var N=null;if(S=="td"){if(R=="afterbegin"||R=="beforeend"){return }if(R=="beforebegin"){N=P;P=P.parentNode}else{N=P.nextSibling;P=P.parentNode}O=E(4,F,Q,J)}else{if(S=="tr"){if(R=="beforebegin"){N=P;P=P.parentNode;O=E(3,K,Q,C)}else{if(R=="afterend"){N=P.nextSibling;P=P.parentNode;O=E(3,K,Q,C)}else{if(R=="afterbegin"){N=P.firstChild}O=E(4,F,Q,J)}}}else{if(S=="tbody"){if(R=="beforebegin"){N=P;P=P.parentNode;O=E(2,D,Q,I)}else{if(R=="afterend"){N=P.nextSibling;P=P.parentNode;O=E(2,D,Q,I)}else{if(R=="afterbegin"){N=P.firstChild}O=E(3,K,Q,C)}}}else{if(R=="beforebegin"||R=="afterend"){return }if(R=="afterbegin"){N=P.firstChild}O=E(2,D,Q,I)}}}P.insertBefore(O,N);return O};return{useDom:false,markup:function(N){return M(N)},applyStyles:function(P,O){if(O){P=Ext.fly(P);if(typeof O=="string"){var Q=/\s?([a-z\-]*)\:\s?([^;]*);?/gi;var N;while((N=Q.exec(O))!=null){P.setStyle(N[1],N[2])}}else{if(typeof O=="object"){for(var R in O){P.setStyle(R,O[R])}}else{if(typeof O=="function"){Ext.DomHelper.applyStyles(P,O.call())}}}}},insertHtml:function(Q,O,P){Q=Q.toLowerCase();if(O.insertAdjacentHTML){if(L.test(O.tagName)){var R;if(R=G(O.tagName.toLowerCase(),Q,O,P)){return R}}switch(Q){case"beforebegin":O.insertAdjacentHTML("BeforeBegin",P);return O.previousSibling;case"afterbegin":O.insertAdjacentHTML("AfterBegin",P);return O.firstChild;case"beforeend":O.insertAdjacentHTML("BeforeEnd",P);return O.lastChild;case"afterend":O.insertAdjacentHTML("AfterEnd",P);return O.nextSibling}throw'Illegal insertion point -> "'+Q+'"'}var S=O.ownerDocument.createRange();var N;switch(Q){case"beforebegin":S.setStartBefore(O);N=S.createContextualFragment(P);O.parentNode.insertBefore(N,O);return O.previousSibling;case"afterbegin":if(O.firstChild){S.setStartBefore(O.firstChild);N=S.createContextualFragment(P);O.insertBefore(N,O.firstChild);return O.firstChild}else{O.innerHTML=P;return O.firstChild}case"beforeend":if(O.lastChild){S.setStartAfter(O.lastChild);N=S.createContextualFragment(P);O.appendChild(N);return O.lastChild}else{O.innerHTML=P;return O.lastChild}case"afterend":S.setStartAfter(O);N=S.createContextualFragment(P);O.parentNode.insertBefore(N,O.nextSibling);return O.nextSibling}throw'Illegal insertion point -> "'+Q+'"'},insertBefore:function(P,N,O){return this.doInsert(P,N,O,"beforeBegin")},insertAfter:function(P,N,O){return this.doInsert(P,N,O,"afterEnd","nextSibling")},insertFirst:function(P,N,O){return this.doInsert(P,N,O,"afterBegin","firstChild")},doInsert:function(Q,O,P,N,R){Q=Ext.getDom(Q);var S;if(this.useDom){S=A(O,null);(R==="firstChild"?Q:Q.parentNode).insertBefore(S,R?Q[R]:Q)}else{var T=M(O);S=this.insertHtml(N,Q,T)}return P?Ext.get(S,true):S},append:function(P,N,O){P=Ext.getDom(P);var Q;if(this.useDom){Q=A(N,null);P.appendChild(Q)}else{var R=M(N);Q=this.insertHtml("beforeEnd",P,R)}return O?Ext.get(Q,true):Q},overwrite:function(P,N,O){P=Ext.getDom(P);P.innerHTML=M(N);return O?Ext.get(P.firstChild,true):P.firstChild},createTemplate:function(N){var O=M(N);return new Ext.Template(O)}}}();Ext.Template=function(B){var E=arguments;if(Ext.isArray(B)){B=B.join("")}else{if(E.length>1){var D=[];for(var C=0,A=E.length;C<A;C++){if(typeof E[C]=="object"){Ext.apply(this,E[C])}else{D[D.length]=E[C]}}B=D.join("")}}this.html=B;if(this.compiled){this.compile()}};Ext.Template.prototype={applyTemplate:function(A){if(this.compiled){return this.compiled(A)}var B=this.disableFormats!==true;var C=Ext.util.Format,E=this;var D=function(H,F,J,G){if(J&&B){if(J.substr(0,5)=="this."){return E.call(J.substr(5),A[F],A)}else{if(G){var K=/^\s*['"](.*)["']\s*$/;G=G.split(",");for(var L=0,I=G.length;L<I;L++){G[L]=G[L].replace(K,"$1")}G=[A[F]].concat(G)}else{G=[A[F]]}return C[J].apply(C,G)}}else{return A[F]!==undefined?A[F]:""}};return this.html.replace(this.re,D)},set:function(B,A){this.html=B;this.compiled=null;if(A){this.compile()}return this},disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,compile:function(){var fm=Ext.util.Format;var useF=this.disableFormats!==true;var sep=Ext.isGecko?"+":",";var fn=function(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"};var body;if(Ext.isGecko){body="this.compiled = function(values){ return '"+this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn));body.push("'].join('');};");body=body.join("")}eval(body);return this},call:function(C,A,B){return this[C](A,B)},insertFirst:function(A,B,C){return this.doInsert("afterBegin",A,B,C)},insertBefore:function(A,B,C){return this.doInsert("beforeBegin",A,B,C)},insertAfter:function(A,B,C){return this.doInsert("afterEnd",A,B,C)},append:function(A,B,C){return this.doInsert("beforeEnd",A,B,C)},doInsert:function(E,C,A,B){C=Ext.getDom(C);var D=Ext.DomHelper.insertHtml(E,C,this.applyTemplate(A));return B?Ext.get(D,true):D},overwrite:function(A,B,C){A=Ext.getDom(A);A.innerHTML=this.applyTemplate(B);return C?Ext.get(A.firstChild,true):A.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.DomHelper.Template=Ext.Template;Ext.Template.from=function(A,B){A=Ext.getDom(A);return new Ext.Template(A.value||A.innerHTML,B||"")};Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={};var nonSpace=/\S/;var trimRe=/^\s+|\s+$/g;var tplRe=/\{(\d+)\}/g;var modeRe=/^(\s?[\/>+~]\s?|\s|$)/;var tagTokenRe=/^(#)?([\w-\*]+)/;var nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/;function child(p,index){var i=0;var n=p.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(d){var n=d.firstChild,ni=-1;while(n){var nx=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){d.removeChild(n)}else{n.nodeIndex=++ni}n=nx}return this}function byClassName(c,a,v){if(!v){return c}var r=[],ri=-1,cn;for(var i=0,ci;ci=c[i];i++){if((" "+ci.className+" ").indexOf(v)!=-1){r[++ri]=ci}}return r}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.children||ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&(n.nodeType!=1||(tagName=="*"||n.tagName.toLowerCase()!=tagName))){}if(n){result[++ri]=n}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var r=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){r[++ri]=ci}}return r}function byId(cs,attr,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var r=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){r[++ri]=ci;return r}}return r}function byAttribute(cs,attr,value,op,custom){var r=[],ri=-1,st=custom=="{";var f=Ext.DomQuery.operators[op];for(var i=0,ci;ci=cs[i];i++){var a;if(st){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}if((f&&f(a,value))||(!f&&a)){r[++ri]=ci}}return r}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}var isIE=window.ActiveXObject?true:false;eval("var batch = 30803;");var key=30803;function nodupIEXml(cs){var d=++key;cs[0].setAttribute("_nodup",d);var r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key;for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}var r=[];for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length;if(!len1){return c2}if(isIE&&c1[0].selectSingleNode){return quickDiffIEXml(c1,c2)}var d=++key;for(var i=0;i<len1;i++){c1[i]._qdiff=d}var r=[];for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,null,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"];var q=path,mode,lq;var tk=Ext.DomQuery.matchers;var tklen=tk.length;var mm;var lmode=q.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';q=q.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(q&&lq!=q){lq=q;var tm=q.match(tagTokenRe);if(type=="select"){if(tm){if(tm[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tm[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tm[2]+'");'}q=q.replace(tm[0],"")}else{if(q.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tm){if(tm[1]=="#"){fn[fn.length]='n = byId(n, null, "'+tm[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tm[2]+'");'}q=q.replace(tm[0],"")}}while(!(mm=q.match(modeRe))){var matched=false;for(var j=0;j<tklen;j++){var t=tk[j];var m=q.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});q=q.replace(m[0],"");matched=true;break}}if(!matched){throw'Error parsing selector, parsing failed at "'+q+'"'}}if(mm[1]){fn[fn.length]='mode="'+mm[1].replace(trimRe,"")+'";';q=q.replace(mm[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},select:function(path,root,type){if(!root||root==document){root=document}if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(",");var results=[];for(var i=0,len=paths.length;i<len;i++){var p=paths[i].replace(trimRe,"");if(!cache[p]){cache[p]=Ext.DomQuery.compile(p);if(!cache[p]){throw p+" is not a valid selector"}}var result=cache[p](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root);n=n[0]?n[0]:n;var v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el);var result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, null, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, null, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1;var m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a);var f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|");var r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;Ext.util.Observable=function(){if(this.listeners){this.on(this.listeners);delete this.listeners}};Ext.util.Observable.prototype={fireEvent:function(){if(this.eventsSuspended!==true){var A=this.events[arguments[0].toLowerCase()];if(typeof A=="object"){return A.fire.apply(A,Array.prototype.slice.call(arguments,1))}}return true},filterOptRe:/^(?:scope|delay|buffer|single)$/,addListener:function(B,F,A,C){if(typeof B=="object"){C=B;for(var D in C){if(this.filterOptRe.test(D)){continue}if(typeof C[D]=="function"){this.addListener(D,C[D],C.scope,C)}else{this.addListener(D,C[D].fn,C[D].scope,C[D])}}return }C=(!C||typeof C=="boolean")?{}:C;B=B.toLowerCase();var E=this.events[B]||true;if(typeof E=="boolean"){E=new Ext.util.Event(this,B);this.events[B]=E}E.addListener(F,A,C)},removeListener:function(B,D,A){var C=this.events[B.toLowerCase()];if(typeof C=="object"){C.removeListener(D,A)}},purgeListeners:function(){for(var A in this.events){if(typeof this.events[A]=="object"){this.events[A].clearListeners()}}},relayEvents:function(C,E){var D=function(G){return function(){return this.fireEvent.apply(this,Ext.combine(G,Array.prototype.slice.call(arguments,0)))}};for(var F=0,B=E.length;F<B;F++){var A=E[F];if(!this.events[A]){this.events[A]=true}C.on(A,D(A),this)}},addEvents:function(B){if(!this.events){this.events={}}if(typeof B=="string"){for(var C=0,A=arguments,D;D=A[C];C++){if(!this.events[A[C]]){this.events[A[C]]=true}}}else{Ext.applyIf(this.events,B)}},hasListener:function(B){var A=this.events[B];return typeof A=="object"&&A.listeners.length>0},suspendEvents:function(){this.eventsSuspended=true},resumeEvents:function(){this.eventsSuspended=false},getMethodEvent:function(C){if(!this.methodEvents){this.methodEvents={}}var D=this.methodEvents[C];if(!D){D={};this.methodEvents[C]=D;D.originalFn=this[C];D.methodName=C;D.before=[];D.after=[];var G,A,F;var E=this;var B=function(H,I,J){if((A=H.apply(I||E,J))!==undefined){if(typeof A==="object"){if(A.returnValue!==undefined){G=A.returnValue}else{G=A}if(A.cancel===true){F=true}}else{if(A===false){F=true}else{G=A}}}};this[C]=function(){G=A=undefined;F=false;var I=Array.prototype.slice.call(arguments,0);for(var H=0,J=D.before.length;H<J;H++){B(D.before[H].fn,D.before[H].scope,I);if(F){return G}}if((A=D.originalFn.apply(E,I))!==undefined){G=A}for(var H=0,J=D.after.length;H<J;H++){B(D.after[H].fn,D.after[H].scope,I);if(F){return G}}return G}}return D},beforeMethod:function(C,A,B){var D=this.getMethodEvent(C);D.before.push({fn:A,scope:B})},afterMethod:function(C,A,B){var D=this.getMethodEvent(C);D.after.push({fn:A,scope:B})},removeMethodListener:function(C,E,F){var D=this.getMethodEvent(C);for(var A=0,B=D.before.length;A<B;A++){if(D.before[A].fn==E&&D.before[A].scope==F){D.before.splice(A,1);return }}for(var A=0,B=D.after.length;A<B;A++){if(D.after[A].fn==E&&D.after[A].scope==F){D.after.splice(A,1);return }}}};Ext.util.Observable.prototype.on=Ext.util.Observable.prototype.addListener;Ext.util.Observable.prototype.un=Ext.util.Observable.prototype.removeListener;Ext.util.Observable.capture=function(C,A,B){C.fireEvent=C.fireEvent.createInterceptor(A,B)};Ext.util.Observable.releaseCapture=function(A){A.fireEvent=Ext.util.Observable.prototype.fireEvent};(function(){var A=function(E,D,F){var G=new Ext.util.DelayedTask();return function(){G.delay(D.buffer,E,F,Array.prototype.slice.call(arguments,0))}};var C=function(E,D,F,G){return function(){D.removeListener(F,G);return E.apply(G,arguments)}};var B=function(E,D,F){return function(){var G=Array.prototype.slice.call(arguments,0);setTimeout(function(){E.apply(F,G)},D.delay||10)}};Ext.util.Event=function(D,E){this.name=E;this.obj=D;this.listeners=[]};Ext.util.Event.prototype={addListener:function(D,E,F){E=E||this.obj;if(!this.isListening(D,E)){var G=this.createListener(D,E,F);if(!this.firing){this.listeners.push(G)}else{this.listeners=this.listeners.slice(0);this.listeners.push(G)}}},createListener:function(E,F,D){D=D||{};F=F||this.obj;var H={fn:E,scope:F,options:D};var G=E;if(D.delay){G=B(G,D,F)}if(D.single){G=C(G,this,E,F)}if(D.buffer){G=A(G,D,F)}H.fireFn=G;return H},findListener:function(D,E){E=E||this.obj;var G=this.listeners;for(var F=0,I=G.length;F<I;F++){var H=G[F];if(H.fn==D&&H.scope==E){return F}}return -1},isListening:function(D,E){return this.findListener(D,E)!=-1},removeListener:function(D,E){var F;if((F=this.findListener(D,E))!=-1){if(!this.firing){this.listeners.splice(F,1)}else{this.listeners=this.listeners.slice(0);this.listeners.splice(F,1)}return true}return false},clearListeners:function(){this.listeners=[]},fire:function(){var G=this.listeners,D,I=G.length;if(I>0){this.firing=true;var F=Array.prototype.slice.call(arguments,0);for(var E=0;E<I;E++){var H=G[E];if(H.fireFn.apply(H.scope||this.obj||window,arguments)===false){this.firing=false;return false}}this.firing=false}return true}}})();Ext.EventManager=function(){var A,H,L=false;var K,B,Q,F;var I=Ext.lib.Event;var G=Ext.lib.Dom;var V="Ext";var O={};var J=function(Z,b,a,d,W){var X=Ext.id(Z);if(!O[X]){O[X]={}}var Y=O[X];if(!Y[b]){Y[b]=[]}var c=Y[b];c.push({id:X,ename:b,fn:a,wrap:d,scope:W});I.on(Z,b,d);if(b=="mousewheel"&&Z.addEventListener){Z.addEventListener("DOMMouseScroll",d,false);I.on(window,"unload",function(){Z.removeEventListener("DOMMouseScroll",d,false)})}if(b=="mousedown"&&Z==document){Ext.EventManager.stoppedMouseDownEvent.addListener(d)}};var P=function(Z,X,e,c){Z=Ext.getDom(Z);var b=Ext.id(Z),d=O[b],a;if(d){var h=d[X],Y;if(h){for(var W=0,g=h.length;W<g;W++){Y=h[W];if(Y.fn==e&&(!c||Y.scope==c)){a=Y.wrap;I.un(Z,X,a);h.splice(W,1);break}}}}if(X=="mousewheel"&&Z.addEventListener&&a){Z.removeEventListener("DOMMouseScroll",a,false)}if(X=="mousedown"&&Z==document&&a){Ext.EventManager.stoppedMouseDownEvent.removeListener(a)}};var S=function(a){a=Ext.getDom(a);var X=Ext.id(a),Y=O[X],Z;if(Y){for(var c in Y){if(Y.hasOwnProperty(c)){Z=Y[c];for(var W=0,b=Z.length;W<b;W++){I.un(a,c,Z[W].wrap);Z[W]=null}}Y[c]=null}delete O[X]}};var T=function(){if(!L){L=true;Ext.isReady=true;if(H){clearInterval(H)}if(Ext.isGecko||Ext.isOpera){document.removeEventListener("DOMContentLoaded",T,false)}if(Ext.isIE){var W=document.getElementById("ie-deferred-loader");if(W){W.onreadystatechange=null;W.parentNode.removeChild(W)}}if(A){A.fire();A.clearListeners()}}};var U=function(){A=new Ext.util.Event();if(Ext.isGecko||Ext.isOpera){document.addEventListener("DOMContentLoaded",T,false)}else{if(Ext.isIE){document.write('<script id="ie-deferred-loader" defer="defer" src="//:"><\/script>');var W=document.getElementById("ie-deferred-loader");W.onreadystatechange=function(){if(this.readyState=="complete"){T()}}}else{if(Ext.isSafari){H=setInterval(function(){var X=document.readyState;if(X=="complete"){T()}},10)}}}I.on(window,"load",T)};var C=function(X,W){var Y=new Ext.util.DelayedTask(X);return function(Z){Z=new Ext.EventObjectImpl(Z);Y.delay(W.buffer,X,null,[Z])}};var E=function(Y,a,Z,W,X){return function(b){Ext.EventManager.removeListener(a,Z,W,X);Y(b)}};var R=function(X,W){return function(Y){Y=new Ext.EventObjectImpl(Y);setTimeout(function(){X(Y)},W.delay||10)}};var M=function(W,b,d,Y,Z){var X=(!d||typeof d=="boolean")?{}:d;Y=Y||X.fn;Z=Z||X.scope;var a=Ext.getDom(W);if(!a){throw'Error listening for "'+b+'". Element "'+W+"\" doesn't exist."}var c=function(e){if(!window[V]){return }e=Ext.EventObject.setEvent(e);var g;if(X.delegate){g=e.getTarget(X.delegate,a);if(!g){return }}else{g=e.target}if(X.stopEvent===true){e.stopEvent()}if(X.preventDefault===true){e.preventDefault()}if(X.stopPropagation===true){e.stopPropagation()}if(X.normalized===false){e=e.browserEvent}Y.call(Z||a,e,g,X)};if(X.delay){c=R(c,X)}if(X.single){c=E(c,a,b,Y,Z)}if(X.buffer){c=C(c,X)}J(a,b,Y,c,Z);return c};var N=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var D={addListener:function(W,c,a,b,Z){if(typeof c=="object"){var X=c;for(var Y in X){if(N.test(Y)){continue}if(typeof X[Y]=="function"){M(W,Y,X,X[Y],X.scope)}else{M(W,Y,X[Y])}}return }return M(W,c,Z,a,b)},removeListener:function(X,Z,Y,W){return P(X,Z,Y,W)},removeAll:function(W){return S(W)},onDocumentReady:function(W,X,Y){if(L){A.addListener(W,X,Y);A.fire();A.clearListeners();return }if(!A){U()}Y=Y||{};if(!Y.delay){Y.delay=1}A.addListener(W,X,Y)},doResizeEvent:function(){K.fire(G.getViewWidth(),G.getViewHeight())},onWindowResize:function(W,X,Y){if(!K){K=new Ext.util.Event();B=new Ext.util.DelayedTask(this.doResizeEvent);I.on(window,"resize",this.fireWindowResize,this)}K.addListener(W,X,Y)},fireWindowResize:function(){if(K){if((Ext.isIE||Ext.isAir)&&B){B.delay(50)}else{K.fire(G.getViewWidth(),G.getViewHeight())}}},onTextResize:function(Z,W,Y){if(!Q){Q=new Ext.util.Event();var X=new Ext.Element(document.createElement("div"));X.dom.className="x-text-resize";X.dom.innerHTML="X";X.appendTo(document.body);F=X.dom.offsetHeight;setInterval(function(){if(X.dom.offsetHeight!=F){Q.fire(F,F=X.dom.offsetHeight)}},this.textResizeInterval)}Q.addListener(Z,W,Y)},removeResizeListener:function(W,X){if(K){K.removeListener(W,X)}},fireResize:function(){if(K){K.fire(G.getViewWidth(),G.getViewHeight())}},ieDeferSrc:false,textResizeInterval:50};D.on=D.addListener;D.un=D.removeListener;D.stoppedMouseDownEvent=new Ext.util.Event();return D}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var A=function(){var D=document.body||document.getElementsByTagName("body")[0];if(!D){return false}var B=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isSafari?"ext-safari":Ext.isChrome?"ext-chrome":""];if(Ext.isMac){B.push("ext-mac")}if(Ext.isLinux){B.push("ext-linux")}if(Ext.isBorderBox){B.push("ext-border-box")}if(Ext.isStrict){var C=D.parentNode;if(C){C.className+=" ext-strict"}}D.className+=B.join(" ");return true};if(!A()){Ext.onReady(A)}})();Ext.EventObject=function(){var A=Ext.lib.Event;var B={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};var C=Ext.isIE?{1:0,4:1,2:2}:(Ext.isSafari?{1:0,2:1,3:2}:{0:0,1:1,2:2});Ext.EventObjectImpl=function(D){if(D){this.setEvent(D.browserEvent||D)}};Ext.EventObjectImpl.prototype={browserEvent:null,button:-1,shiftKey:false,ctrlKey:false,altKey:false,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,setEvent:function(D){if(D==this||(D&&D.browserEvent)){return D}this.browserEvent=D;if(D){this.button=D.button?C[D.button]:(D.which?D.which-1:-1);if(D.type=="click"&&this.button==-1){this.button=0}this.type=D.type;this.shiftKey=D.shiftKey;this.ctrlKey=D.ctrlKey||D.metaKey;this.altKey=D.altKey;this.keyCode=D.keyCode;this.charCode=D.charCode;this.target=A.getTarget(D);this.xy=A.getXY(D)}else{this.button=-1;this.shiftKey=false;this.ctrlKey=false;this.altKey=false;this.keyCode=0;this.charCode=0;this.target=null;this.xy=[0,0]}return this},stopEvent:function(){if(this.browserEvent){if(this.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this)}A.stopEvent(this.browserEvent)}},preventDefault:function(){if(this.browserEvent){A.preventDefault(this.browserEvent)}},isNavKeyPress:function(){var D=this.keyCode;D=Ext.isSafari?(B[D]||D):D;return(D>=33&&D<=40)||D==this.RETURN||D==this.TAB||D==this.ESC},isSpecialKey:function(){var D=this.keyCode;return(this.type=="keypress"&&this.ctrlKey)||D==9||D==13||D==40||D==27||(D==16)||(D==17)||(D>=18&&D<=20)||(D>=33&&D<=35)||(D>=36&&D<=39)||(D>=44&&D<=45)},stopPropagation:function(){if(this.browserEvent){if(this.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this)}A.stopPropagation(this.browserEvent)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){var D=this.keyCode||this.charCode;return Ext.isSafari?(B[D]||D):D},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getTime:function(){if(this.browserEvent){return A.getTime(this.browserEvent)}return null},getXY:function(){return this.xy},getTarget:function(E,D,F){return E?Ext.fly(this.target).findParent(E,D,F):(F?Ext.get(this.target):this.target)},getRelatedTarget:function(){if(this.browserEvent){return A.getRelatedTarget(this.browserEvent)}return null},getWheelDelta:function(){var E=this.browserEvent;var D=0;if(E.wheelDelta){D=E.wheelDelta/120}else{if(E.detail){D=-E.detail/3}}return D},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)?true:false},within:function(E,D,G){var F=this[D?"getRelatedTarget":"getTarget"]();return F&&((G?(F===Ext.getDom(E)):false)||Ext.fly(E).contains(F))},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])}};return new Ext.EventObjectImpl()}();(function(){var D=Ext.lib.Dom;var E=Ext.lib.Event;var A=Ext.lib.Anim;var propCache={};var camelRe=/(-[a-z])/gi;var camelFn=function(m,a){return a.charAt(1).toUpperCase()};var view=document.defaultView;Ext.Element=function(element,forceNew){var dom=typeof element=="string"?document.getElementById(element):element;if(!dom){return null}var id=dom.id;if(forceNew!==true&&id&&Ext.Element.cache[id]){return Ext.Element.cache[id]}this.dom=dom;this.id=id||Ext.id(dom)};var El=Ext.Element;El.prototype={originalDisplay:"",visibilityMode:1,defaultUnit:"px",setVisibilityMode:function(visMode){this.visibilityMode=visMode;return this},enableDisplayMode:function(display){this.setVisibilityMode(El.DISPLAY);if(typeof display!="undefined"){this.originalDisplay=display}return this},findParent:function(simpleSelector,maxDepth,returnEl){var p=this.dom,b=document.body,depth=0,dq=Ext.DomQuery,stopEl;maxDepth=maxDepth||50;if(typeof maxDepth!="number"){stopEl=Ext.getDom(maxDepth);maxDepth=10}while(p&&p.nodeType==1&&depth<maxDepth&&p!=b&&p!=stopEl){if(dq.is(p,simpleSelector)){return returnEl?Ext.get(p):p}depth++;p=p.parentNode}return null},findParentNode:function(simpleSelector,maxDepth,returnEl){var p=Ext.fly(this.dom.parentNode,"_internal");return p?p.findParent(simpleSelector,maxDepth,returnEl):null},up:function(simpleSelector,maxDepth){return this.findParentNode(simpleSelector,maxDepth,true)},is:function(simpleSelector){return Ext.DomQuery.is(this.dom,simpleSelector)},animate:function(args,duration,onComplete,easing,animType){this.anim(args,{duration:duration,callback:onComplete,easing:easing},animType);return this},anim:function(args,opt,animType,defaultDur,defaultEase,cb){animType=animType||"run";opt=opt||{};var anim=Ext.lib.Anim[animType](this.dom,args,(opt.duration||defaultDur)||0.35,(opt.easing||defaultEase)||"easeOut",function(){Ext.callback(cb,this);Ext.callback(opt.callback,opt.scope||this,[this,opt])},this);opt.anim=anim;return anim},preanim:function(a,i){return !a[i]?false:(typeof a[i]=="object"?a[i]:{duration:a[i+1],callback:a[i+2],easing:a[i+3]})},clean:function(forceReclean){if(this.isCleaned&&forceReclean!==true){return this}var ns=/\S/;var d=this.dom,n=d.firstChild,ni=-1;while(n){var nx=n.nextSibling;if(n.nodeType==3&&!ns.test(n.nodeValue)){d.removeChild(n)}else{n.nodeIndex=++ni}n=nx}this.isCleaned=true;return this},scrollIntoView:function(container,hscroll){var c=Ext.getDom(container)||Ext.getBody().dom;var el=this.dom;var o=this.getOffsetsTo(c),l=o[0]+c.scrollLeft,t=o[1]+c.scrollTop,b=t+el.offsetHeight,r=l+el.offsetWidth;var ch=c.clientHeight;var ct=parseInt(c.scrollTop,10);var cl=parseInt(c.scrollLeft,10);var cb=ct+ch;var cr=cl+c.clientWidth;if(el.offsetHeight>ch||t<ct){c.scrollTop=t}else{if(b>cb){c.scrollTop=b-ch}}c.scrollTop=c.scrollTop;if(hscroll!==false){if(el.offsetWidth>c.clientWidth||l<cl){c.scrollLeft=l}else{if(r>cr){c.scrollLeft=r-c.clientWidth}}c.scrollLeft=c.scrollLeft}return this},scrollChildIntoView:function(child,hscroll){Ext.fly(child,"_scrollChildIntoView").scrollIntoView(this,hscroll)},autoHeight:function(animate,duration,onComplete,easing){var oldHeight=this.getHeight();this.clip();this.setHeight(1);setTimeout(function(){var height=parseInt(this.dom.scrollHeight,10);if(!animate){this.setHeight(height);this.unclip();if(typeof onComplete=="function"){onComplete()}}else{this.setHeight(oldHeight);this.setHeight(height,animate,duration,function(){this.unclip();if(typeof onComplete=="function"){onComplete()}}.createDelegate(this),easing)}}.createDelegate(this),0);return this},contains:function(el){if(!el){return false}return D.isAncestor(this.dom,el.dom?el.dom:el)},isVisible:function(deep){var vis=!(this.getStyle("visibility")=="hidden"||this.getStyle("display")=="none");if(deep!==true||!vis){return vis}var p=this.dom.parentNode;while(p&&p.tagName.toLowerCase()!="body"){if(!Ext.fly(p,"_isVisible").isVisible()){return false}p=p.parentNode}return true},select:function(selector,unique){return El.select(selector,unique,this.dom)},query:function(selector){return Ext.DomQuery.select(selector,this.dom)},child:function(selector,returnDom){var n=Ext.DomQuery.selectNode(selector,this.dom);return returnDom?n:Ext.get(n)},down:function(selector,returnDom){var n=Ext.DomQuery.selectNode(" > "+selector,this.dom);return returnDom?n:Ext.get(n)},initDD:function(group,config,overrides){var dd=new Ext.dd.DD(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},initDDProxy:function(group,config,overrides){var dd=new Ext.dd.DDProxy(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},initDDTarget:function(group,config,overrides){var dd=new Ext.dd.DDTarget(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},setVisible:function(visible,animate){if(!animate||!A){if(this.visibilityMode==El.DISPLAY){this.setDisplayed(visible)}else{this.fixDisplay();this.dom.style.visibility=visible?"visible":"hidden"}}else{var dom=this.dom;var visMode=this.visibilityMode;if(visible){this.setOpacity(0.01);this.setVisible(true)}this.anim({opacity:{to:(visible?1:0)}},this.preanim(arguments,1),null,0.35,"easeIn",function(){if(!visible){if(visMode==El.DISPLAY){dom.style.display="none"}else{dom.style.visibility="hidden"}Ext.get(dom).setOpacity(1)}})}return this},isDisplayed:function(){return this.getStyle("display")!="none"},toggle:function(animate){this.setVisible(!this.isVisible(),this.preanim(arguments,0));return this},setDisplayed:function(value){if(typeof value=="boolean"){value=value?this.originalDisplay:"none"}this.setStyle("display",value);return this},focus:function(){try{this.dom.focus()}catch(e){}return this},blur:function(){try{this.dom.blur()}catch(e){}return this},addClass:function(className){if(Ext.isArray(className)){for(var i=0,len=className.length;i<len;i++){this.addClass(className[i])}}else{if(className&&!this.hasClass(className)){this.dom.className=this.dom.className+" "+className}}return this},radioClass:function(className){var siblings=this.dom.parentNode.childNodes;for(var i=0;i<siblings.length;i++){var s=siblings[i];if(s.nodeType==1){Ext.get(s).removeClass(className)}}this.addClass(className);return this},removeClass:function(className){if(!className||!this.dom.className){return this}if(Ext.isArray(className)){for(var i=0,len=className.length;i<len;i++){this.removeClass(className[i])}}else{if(this.hasClass(className)){var re=this.classReCache[className];if(!re){re=new RegExp("(?:^|\\s+)"+className+"(?:\\s+|$)","g");this.classReCache[className]=re}this.dom.className=this.dom.className.replace(re," ")}}return this},classReCache:{},toggleClass:function(className){if(this.hasClass(className)){this.removeClass(className)}else{this.addClass(className)}return this},hasClass:function(className){return className&&(" "+this.dom.className+" ").indexOf(" "+className+" ")!=-1},replaceClass:function(oldClassName,newClassName){this.removeClass(oldClassName);this.addClass(newClassName);return this},getStyles:function(){var a=arguments,len=a.length,r={};for(var i=0;i<len;i++){r[a[i]]=this.getStyle(a[i])}return r},getStyle:function(){return view&&view.getComputedStyle?function(prop){var el=this.dom,v,cs,camel;if(prop=="float"){prop="cssFloat"}if(v=el.style[prop]){return v}if(cs=view.getComputedStyle(el,"")){if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn)}return cs[camel]}return null}:function(prop){var el=this.dom,v,cs,camel;if(prop=="opacity"){if(typeof el.style.filter=="string"){var m=el.style.filter.match(/alpha\(opacity=(.*)\)/i);if(m){var fv=parseFloat(m[1]);if(!isNaN(fv)){return fv?fv/100:0}}}return 1}else{if(prop=="float"){prop="styleFloat"}}if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn)}if(v=el.style[camel]){return v}if(cs=el.currentStyle){return cs[camel]}return null}}(),setStyle:function(prop,value){if(typeof prop=="string"){var camel;if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn)}if(camel=="opacity"){this.setOpacity(value)}else{this.dom.style[camel]=value}}else{for(var style in prop){if(typeof prop[style]!="function"){this.setStyle(style,prop[style])}}}return this},applyStyles:function(style){Ext.DomHelper.applyStyles(this.dom,style);return this},getX:function(){return D.getX(this.dom)},getY:function(){return D.getY(this.dom)},getXY:function(){return D.getXY(this.dom)},getOffsetsTo:function(el){var o=this.getXY();var e=Ext.fly(el,"_internal").getXY();return[o[0]-e[0],o[1]-e[1]]},setX:function(x,animate){if(!animate||!A){D.setX(this.dom,x)}else{this.setXY([x,this.getY()],this.preanim(arguments,1))}return this},setY:function(y,animate){if(!animate||!A){D.setY(this.dom,y)}else{this.setXY([this.getX(),y],this.preanim(arguments,1))}return this},setLeft:function(left){this.setStyle("left",this.addUnits(left));return this},setTop:function(top){this.setStyle("top",this.addUnits(top));return this},setRight:function(right){this.setStyle("right",this.addUnits(right));return this},setBottom:function(bottom){this.setStyle("bottom",this.addUnits(bottom));return this},setXY:function(pos,animate){if(!animate||!A){D.setXY(this.dom,pos)}else{this.anim({points:{to:pos}},this.preanim(arguments,1),"motion")}return this},setLocation:function(x,y,animate){this.setXY([x,y],this.preanim(arguments,2));return this},moveTo:function(x,y,animate){this.setXY([x,y],this.preanim(arguments,2));return this},getRegion:function(){return D.getRegion(this.dom)},getHeight:function(contentHeight){var h=this.dom.offsetHeight||0;h=contentHeight!==true?h:h-this.getBorderWidth("tb")-this.getPadding("tb");return h<0?0:h},getWidth:function(contentWidth){var w=this.dom.offsetWidth||0;w=contentWidth!==true?w:w-this.getBorderWidth("lr")-this.getPadding("lr");return w<0?0:w},getComputedHeight:function(){var h=Math.max(this.dom.offsetHeight,this.dom.clientHeight);if(!h){h=parseInt(this.getStyle("height"),10)||0;if(!this.isBorderBox()){h+=this.getFrameWidth("tb")}}return h},getComputedWidth:function(){var w=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!w){w=parseInt(this.getStyle("width"),10)||0;if(!this.isBorderBox()){w+=this.getFrameWidth("lr")}}return w},getSize:function(contentSize){return{width:this.getWidth(contentSize),height:this.getHeight(contentSize)}},getStyleSize:function(){var w,h,d=this.dom,s=d.style;if(s.width&&s.width!="auto"){w=parseInt(s.width,10);if(Ext.isBorderBox){w-=this.getFrameWidth("lr")}}if(s.height&&s.height!="auto"){h=parseInt(s.height,10);if(Ext.isBorderBox){h-=this.getFrameWidth("tb")}}return{width:w||this.getWidth(true),height:h||this.getHeight(true)}},getViewSize:function(){var d=this.dom,doc=document,aw=0,ah=0;if(d==doc||d==doc.body){return{width:D.getViewWidth(),height:D.getViewHeight()}}else{return{width:d.clientWidth,height:d.clientHeight}}},getValue:function(asNumber){return asNumber?parseInt(this.dom.value,10):this.dom.value},adjustWidth:function(width){if(typeof width=="number"){if(this.autoBoxAdjust&&!this.isBorderBox()){width-=(this.getBorderWidth("lr")+this.getPadding("lr"))}if(width<0){width=0}}return width},adjustHeight:function(height){if(typeof height=="number"){if(this.autoBoxAdjust&&!this.isBorderBox()){height-=(this.getBorderWidth("tb")+this.getPadding("tb"))}if(height<0){height=0}}return height},setWidth:function(width,animate){width=this.adjustWidth(width);if(!animate||!A){this.dom.style.width=this.addUnits(width)}else{this.anim({width:{to:width}},this.preanim(arguments,1))}return this},setHeight:function(height,animate){height=this.adjustHeight(height);if(!animate||!A){this.dom.style.height=this.addUnits(height)}else{this.anim({height:{to:height}},this.preanim(arguments,1))}return this},setSize:function(width,height,animate){if(typeof width=="object"){height=width.height;width=width.width}width=this.adjustWidth(width);height=this.adjustHeight(height);if(!animate||!A){this.dom.style.width=this.addUnits(width);this.dom.style.height=this.addUnits(height)}else{this.anim({width:{to:width},height:{to:height}},this.preanim(arguments,2))}return this},setBounds:function(x,y,width,height,animate){if(!animate||!A){this.setSize(width,height);this.setLocation(x,y)}else{width=this.adjustWidth(width);height=this.adjustHeight(height);this.anim({points:{to:[x,y]},width:{to:width},height:{to:height}},this.preanim(arguments,4),"motion")}return this},setRegion:function(region,animate){this.setBounds(region.left,region.top,region.right-region.left,region.bottom-region.top,this.preanim(arguments,1));return this},addListener:function(eventName,fn,scope,options){Ext.EventManager.on(this.dom,eventName,fn,scope||this,options)},removeListener:function(eventName,fn,scope){Ext.EventManager.removeListener(this.dom,eventName,fn,scope||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},relayEvent:function(eventName,observable){this.on(eventName,function(e){observable.fireEvent(eventName,e)})},setOpacity:function(opacity,animate){if(!animate||!A){var s=this.dom.style;if(Ext.isIE){s.zoom=1;s.filter=(s.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(opacity==1?"":" alpha(opacity="+opacity*100+")")}else{s.opacity=opacity}}else{this.anim({opacity:{to:opacity}},this.preanim(arguments,1),null,0.35,"easeIn")}return this},getLeft:function(local){if(!local){return this.getX()}else{return parseInt(this.getStyle("left"),10)||0}},getRight:function(local){if(!local){return this.getX()+this.getWidth()}else{return(this.getLeft(true)+this.getWidth())||0}},getTop:function(local){if(!local){return this.getY()}else{return parseInt(this.getStyle("top"),10)||0}},getBottom:function(local){if(!local){return this.getY()+this.getHeight()}else{return(this.getTop(true)+this.getHeight())||0}},position:function(pos,zIndex,x,y){if(!pos){if(this.getStyle("position")=="static"){this.setStyle("position","relative")}}else{this.setStyle("position",pos)}if(zIndex){this.setStyle("z-index",zIndex)}if(x!==undefined&&y!==undefined){this.setXY([x,y])}else{if(x!==undefined){this.setX(x)}else{if(y!==undefined){this.setY(y)}}}},clearPositioning:function(value){value=value||"";this.setStyle({left:value,right:value,top:value,bottom:value,"z-index":"",position:"static"});return this},getPositioning:function(){var l=this.getStyle("left");var t=this.getStyle("top");return{position:this.getStyle("position"),left:l,right:l?"":this.getStyle("right"),top:t,bottom:t?"":this.getStyle("bottom"),"z-index":this.getStyle("z-index")}},getBorderWidth:function(side){return this.addStyles(side,El.borders)},getPadding:function(side){return this.addStyles(side,El.paddings)},setPositioning:function(pc){this.applyStyles(pc);if(pc.right=="auto"){this.dom.style.right=""}if(pc.bottom=="auto"){this.dom.style.bottom=""}return this},fixDisplay:function(){if(this.getStyle("display")=="none"){this.setStyle("visibility","hidden");this.setStyle("display",this.originalDisplay);if(this.getStyle("display")=="none"){this.setStyle("display","block")}}},setOverflow:function(v){if(v=="auto"&&Ext.isMac&&Ext.isGecko2){this.dom.style.overflow="hidden";(function(){this.dom.style.overflow="auto"}).defer(1,this)}else{this.dom.style.overflow=v}},setLeftTop:function(left,top){this.dom.style.left=this.addUnits(left);this.dom.style.top=this.addUnits(top);return this},move:function(direction,distance,animate){var xy=this.getXY();direction=direction.toLowerCase();switch(direction){case"l":case"left":this.moveTo(xy[0]-distance,xy[1],this.preanim(arguments,2));break;case"r":case"right":this.moveTo(xy[0]+distance,xy[1],this.preanim(arguments,2));break;case"t":case"top":case"up":this.moveTo(xy[0],xy[1]-distance,this.preanim(arguments,2));break;case"b":case"bottom":case"down":this.moveTo(xy[0],xy[1]+distance,this.preanim(arguments,2));break}return this},clip:function(){if(!this.isClipped){this.isClipped=true;this.originalClip={o:this.getStyle("overflow"),x:this.getStyle("overflow-x"),y:this.getStyle("overflow-y")};this.setStyle("overflow","hidden");this.setStyle("overflow-x","hidden");this.setStyle("overflow-y","hidden")}return this},unclip:function(){if(this.isClipped){this.isClipped=false;var o=this.originalClip;if(o.o){this.setStyle("overflow",o.o)}if(o.x){this.setStyle("overflow-x",o.x)}if(o.y){this.setStyle("overflow-y",o.y)}}return this},getAnchorXY:function(anchor,local,s){var w,h,vp=false;if(!s){var d=this.dom;if(d==document.body||d==document){vp=true;w=D.getViewWidth();h=D.getViewHeight()}else{w=this.getWidth();h=this.getHeight()}}else{w=s.width;h=s.height}var x=0,y=0,r=Math.round;switch((anchor||"tl").toLowerCase()){case"c":x=r(w*0.5);y=r(h*0.5);break;case"t":x=r(w*0.5);y=0;break;case"l":x=0;y=r(h*0.5);break;case"r":x=w;y=r(h*0.5);break;case"b":x=r(w*0.5);y=h;break;case"tl":x=0;y=0;break;case"bl":x=0;y=h;break;case"br":x=w;y=h;break;case"tr":x=w;y=0;break}if(local===true){return[x,y]}if(vp){var sc=this.getScroll();return[x+sc.left,y+sc.top]}var o=this.getXY();return[x+o[0],y+o[1]]},getAlignToXY:function(el,p,o){el=Ext.get(el);if(!el||!el.dom){throw"Element.alignToXY with an element that doesn't exist"}var d=this.dom;var c=false;var p1="",p2="";o=o||[0,0];if(!p){p="tl-bl"}else{if(p=="?"){p="tl-bl?"}else{if(p.indexOf("-")==-1){p="tl-"+p}}}p=p.toLowerCase();var m=p.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!m){throw"Element.alignTo with an invalid alignment "+p}p1=m[1];p2=m[2];c=!!m[3];var a1=this.getAnchorXY(p1,true);var a2=el.getAnchorXY(p2,false);var x=a2[0]-a1[0]+o[0];var y=a2[1]-a1[1]+o[1];if(c){var w=this.getWidth(),h=this.getHeight(),r=el.getRegion();var dw=D.getViewWidth()-5,dh=D.getViewHeight()-5;var p1y=p1.charAt(0),p1x=p1.charAt(p1.length-1);var p2y=p2.charAt(0),p2x=p2.charAt(p2.length-1);var swapY=((p1y=="t"&&p2y=="b")||(p1y=="b"&&p2y=="t"));var swapX=((p1x=="r"&&p2x=="l")||(p1x=="l"&&p2x=="r"));var doc=document;var scrollX=(doc.documentElement.scrollLeft||doc.body.scrollLeft||0)+5;var scrollY=(doc.documentElement.scrollTop||doc.body.scrollTop||0)+5;if((x+w)>dw+scrollX){x=swapX?r.left-w:dw+scrollX-w}if(x<scrollX){x=swapX?r.right:scrollX}if((y+h)>dh+scrollY){y=swapY?r.top-h:dh+scrollY-h}if(y<scrollY){y=swapY?r.bottom:scrollY}}return[x,y]},getConstrainToXY:function(){var os={top:0,left:0,bottom:0,right:0};return function(el,local,offsets,proposedXY){el=Ext.get(el);offsets=offsets?Ext.applyIf(offsets,os):os;var vw,vh,vx=0,vy=0;if(el.dom==document.body||el.dom==document){vw=Ext.lib.Dom.getViewWidth();vh=Ext.lib.Dom.getViewHeight()}else{vw=el.dom.clientWidth;vh=el.dom.clientHeight;if(!local){var vxy=el.getXY();vx=vxy[0];vy=vxy[1]}}var s=el.getScroll();vx+=offsets.left+s.left;vy+=offsets.top+s.top;vw-=offsets.right;vh-=offsets.bottom;var vr=vx+vw;var vb=vy+vh;var xy=proposedXY||(!local?this.getXY():[this.getLeft(true),this.getTop(true)]);var x=xy[0],y=xy[1];var w=this.dom.offsetWidth,h=this.dom.offsetHeight;var moved=false;if((x+w)>vr){x=vr-w;moved=true}if((y+h)>vb){y=vb-h;moved=true}if(x<vx){x=vx;moved=true}if(y<vy){y=vy;moved=true}return moved?[x,y]:false}}(),adjustForConstraints:function(xy,parent,offsets){return this.getConstrainToXY(parent||document,false,offsets,xy)||xy},alignTo:function(element,position,offsets,animate){var xy=this.getAlignToXY(element,position,offsets);this.setXY(xy,this.preanim(arguments,3));return this},anchorTo:function(el,alignment,offsets,animate,monitorScroll,callback){var action=function(){this.alignTo(el,alignment,offsets,animate);Ext.callback(callback,this)};Ext.EventManager.onWindowResize(action,this);var tm=typeof monitorScroll;if(tm!="undefined"){Ext.EventManager.on(window,"scroll",action,this,{buffer:tm=="number"?monitorScroll:50})}action.call(this);return this},clearOpacity:function(){if(window.ActiveXObject){if(typeof this.dom.style.filter=="string"&&(/alpha/i).test(this.dom.style.filter)){this.dom.style.filter=""}}else{this.dom.style.opacity="";this.dom.style["-moz-opacity"]="";this.dom.style["-khtml-opacity"]=""}return this},hide:function(animate){this.setVisible(false,this.preanim(arguments,0));return this},show:function(animate){this.setVisible(true,this.preanim(arguments,0));return this},addUnits:function(size){return Ext.Element.addUnits(size,this.defaultUnit)},update:function(html,loadScripts,callback){if(typeof html=="undefined"){html=""}if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback()}return this}var id=Ext.id();var dom=this.dom;html+='<span id="'+id+'"></span>';E.onAvailable(id,function(){var hd=document.getElementsByTagName("head")[0];var re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig;var srcRe=/\ssrc=([\'\"])(.*?)\1/i;var typeRe=/\stype=([\'\"])(.*?)\1/i;var match;while(match=re.exec(html)){var attrs=match[1];var srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){var s=document.createElement("script");s.src=srcMatch[2];var typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}var el=document.getElementById(id);if(el){Ext.removeNode(el)}if(typeof callback=="function"){callback()}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},load:function(){var um=this.getUpdater();um.update.apply(um,arguments);return this},getUpdater:function(){if(!this.updateManager){this.updateManager=new Ext.Updater(this)}return this.updateManager},unselectable:function(){this.dom.unselectable="on";this.swallowEvent("selectstart",true);this.applyStyles("-moz-user-select:none;-khtml-user-select:none;");this.addClass("x-unselectable");return this},getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(centerIn){this.alignTo(centerIn||document,"c-c");return this},isBorderBox:function(){return noBoxAdjust[this.dom.tagName.toLowerCase()]||Ext.isBorderBox},getBox:function(contentBox,local){var xy;if(!local){xy=this.getXY()}else{var left=parseInt(this.getStyle("left"),10)||0;var top=parseInt(this.getStyle("top"),10)||0;xy=[left,top]}var el=this.dom,w=el.offsetWidth,h=el.offsetHeight,bx;if(!contentBox){bx={x:xy[0],y:xy[1],0:xy[0],1:xy[1],width:w,height:h}}else{var l=this.getBorderWidth("l")+this.getPadding("l");var r=this.getBorderWidth("r")+this.getPadding("r");var t=this.getBorderWidth("t")+this.getPadding("t");var b=this.getBorderWidth("b")+this.getPadding("b");bx={x:xy[0]+l,y:xy[1]+t,0:xy[0]+l,1:xy[1]+t,width:w-(l+r),height:h-(t+b)}}bx.right=bx.x+bx.width;bx.bottom=bx.y+bx.height;return bx},getFrameWidth:function(sides,onlyContentBox){return onlyContentBox&&Ext.isBorderBox?0:(this.getPadding(sides)+this.getBorderWidth(sides))},setBox:function(box,adjust,animate){var w=box.width,h=box.height;if((adjust&&!this.autoBoxAdjust)&&!this.isBorderBox()){w-=(this.getBorderWidth("lr")+this.getPadding("lr"));h-=(this.getBorderWidth("tb")+this.getPadding("tb"))}this.setBounds(box.x,box.y,w,h,this.preanim(arguments,2));return this},repaint:function(){var dom=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.get(dom).removeClass("x-repaint")},1);return this},getMargins:function(side){if(!side){return{top:parseInt(this.getStyle("margin-top"),10)||0,left:parseInt(this.getStyle("margin-left"),10)||0,bottom:parseInt(this.getStyle("margin-bottom"),10)||0,right:parseInt(this.getStyle("margin-right"),10)||0}}else{return this.addStyles(side,El.margins)}},addStyles:function(sides,styles){var val=0,v,w;for(var i=0,len=sides.length;i<len;i++){v=this.getStyle(styles[sides.charAt(i)]);if(v){w=parseInt(v,10);if(w){val+=(w>=0?w:-1*w)}}}return val},createProxy:function(config,renderTo,matchBox){config=typeof config=="object"?config:{tag:"div",cls:config};var proxy;if(renderTo){proxy=Ext.DomHelper.append(renderTo,config,true)}else{proxy=Ext.DomHelper.insertBefore(this.dom,config,true)}if(matchBox){proxy.setBox(this.getBox())}return proxy},mask:function(msg,msgCls){if(this.getStyle("position")=="static"){this.addClass("x-masked-relative")}if(this._maskMsg){this._maskMsg.remove()}if(this._mask){this._mask.remove()}this._mask=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask"},true);this.addClass("x-masked");this._mask.setDisplayed(true);if(typeof msg=="string"){this._maskMsg=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask-msg",cn:{tag:"div"}},true);var mm=this._maskMsg;mm.dom.className=msgCls?"ext-el-mask-msg "+msgCls:"ext-el-mask-msg";mm.dom.firstChild.innerHTML=msg;mm.setDisplayed(true);mm.center(this)}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&this.getStyle("height")=="auto"){this._mask.setSize(this.getWidth(),this.getHeight())}return this._mask},unmask:function(){if(this._mask){if(this._maskMsg){this._maskMsg.remove();delete this._maskMsg}this._mask.remove();delete this._mask}this.removeClass(["x-masked","x-masked-relative"])},isMasked:function(){return this._mask&&this._mask.isVisible()},createShim:function(){var el=document.createElement("iframe");el.frameBorder="0";el.className="ext-shim";if(Ext.isIE&&Ext.isSecure){el.src=Ext.SSL_SECURE_URL}var shim=Ext.get(this.dom.parentNode.insertBefore(el,this.dom));shim.autoBoxAdjust=false;return shim},remove:function(){Ext.removeNode(this.dom);delete El.cache[this.dom.id]},hover:function(overFn,outFn,scope){var preOverFn=function(e){if(!e.within(this,true)){overFn.apply(scope||this,arguments)}};var preOutFn=function(e){if(!e.within(this,true)){outFn.apply(scope||this,arguments)}};this.on("mouseover",preOverFn,this.dom);this.on("mouseout",preOutFn,this.dom);return this},addClassOnOver:function(className){this.hover(function(){Ext.fly(this,"_internal").addClass(className)},function(){Ext.fly(this,"_internal").removeClass(className)});return this},addClassOnFocus:function(className){this.on("focus",function(){Ext.fly(this,"_internal").addClass(className)},this.dom);this.on("blur",function(){Ext.fly(this,"_internal").removeClass(className)},this.dom);return this},addClassOnClick:function(className){var dom=this.dom;this.on("mousedown",function(){Ext.fly(dom,"_internal").addClass(className);var d=Ext.getDoc();var fn=function(){Ext.fly(dom,"_internal").removeClass(className);d.removeListener("mouseup",fn)};d.on("mouseup",fn)});return this},swallowEvent:function(eventName,preventDefault){var fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault()}};if(Ext.isArray(eventName)){for(var i=0,len=eventName.length;i<len;i++){this.on(eventName[i],fn)}return this}this.on(eventName,fn);return this},parent:function(selector,returnDom){return this.matchNode("parentNode","parentNode",selector,returnDom)},next:function(selector,returnDom){return this.matchNode("nextSibling","nextSibling",selector,returnDom)},prev:function(selector,returnDom){return this.matchNode("previousSibling","previousSibling",selector,returnDom)},first:function(selector,returnDom){return this.matchNode("nextSibling","firstChild",selector,returnDom)},last:function(selector,returnDom){return this.matchNode("previousSibling","lastChild",selector,returnDom)},matchNode:function(dir,start,selector,returnDom){var n=this.dom[start];while(n){if(n.nodeType==1&&(!selector||Ext.DomQuery.is(n,selector))){return !returnDom?Ext.get(n):n}n=n[dir]}return null},appendChild:function(el){el=Ext.get(el);el.appendTo(this);return this},createChild:function(config,insertBefore,returnDom){config=config||{tag:"div"};if(insertBefore){return Ext.DomHelper.insertBefore(insertBefore,config,returnDom!==true)}return Ext.DomHelper[!this.dom.firstChild?"overwrite":"append"](this.dom,config,returnDom!==true)},appendTo:function(el){el=Ext.getDom(el);el.appendChild(this.dom);return this},insertBefore:function(el){el=Ext.getDom(el);el.parentNode.insertBefore(this.dom,el);return this},insertAfter:function(el){el=Ext.getDom(el);el.parentNode.insertBefore(this.dom,el.nextSibling);return this},insertFirst:function(el,returnDom){el=el||{};if(typeof el=="object"&&!el.nodeType&&!el.dom){return this.createChild(el,this.dom.firstChild,returnDom)}else{el=Ext.getDom(el);this.dom.insertBefore(el,this.dom.firstChild);return !returnDom?Ext.get(el):el}},insertSibling:function(el,where,returnDom){var rt;if(Ext.isArray(el)){for(var i=0,len=el.length;i<len;i++){rt=this.insertSibling(el[i],where,returnDom)}return rt}where=where?where.toLowerCase():"before";el=el||{};var refNode=where=="before"?this.dom:this.dom.nextSibling;if(typeof el=="object"&&!el.nodeType&&!el.dom){if(where=="after"&&!this.dom.nextSibling){rt=Ext.DomHelper.append(this.dom.parentNode,el,!returnDom)}else{rt=Ext.DomHelper[where=="after"?"insertAfter":"insertBefore"](this.dom,el,!returnDom)}}else{rt=this.dom.parentNode.insertBefore(Ext.getDom(el),refNode);if(!returnDom){rt=Ext.get(rt)}}return rt},wrap:function(config,returnDom){if(!config){config={tag:"div"}}var newEl=Ext.DomHelper.insertBefore(this.dom,config,!returnDom);newEl.dom?newEl.dom.appendChild(this.dom):newEl.appendChild(this.dom);return newEl},replace:function(el){el=Ext.get(el);this.insertBefore(el);el.remove();return this},replaceWith:function(el){if(typeof el=="object"&&!el.nodeType&&!el.dom){el=this.insertSibling(el,"before")}else{el=Ext.getDom(el);this.dom.parentNode.insertBefore(el,this.dom)}El.uncache(this.id);Ext.removeNode(this.dom);this.dom=el;this.id=Ext.id(el);El.cache[this.id]=this;return this},insertHtml:function(where,html,returnEl){var el=Ext.DomHelper.insertHtml(where,this.dom,html);return returnEl?Ext.get(el):el},set:function(o,useSet){var el=this.dom;useSet=typeof useSet=="undefined"?(el.setAttribute?true:false):useSet;for(var attr in o){if(attr=="style"||typeof o[attr]=="function"){continue}if(attr=="cls"){el.className=o.cls}else{if(o.hasOwnProperty(attr)){if(useSet){el.setAttribute(attr,o[attr])}else{el[attr]=o[attr]}}}}if(o.style){Ext.DomHelper.applyStyles(el,o.style)}return this},addKeyListener:function(key,fn,scope){var config;if(typeof key!="object"||Ext.isArray(key)){config={key:key,fn:fn,scope:scope}}else{config={key:key.key,shift:key.shift,ctrl:key.ctrl,alt:key.alt,fn:fn,scope:scope}}return new Ext.KeyMap(this,config)},addKeyMap:function(config){return new Ext.KeyMap(this,config)},isScrollable:function(){var dom=this.dom;return dom.scrollHeight>dom.clientHeight||dom.scrollWidth>dom.clientWidth},scrollTo:function(side,value,animate){var prop=side.toLowerCase()=="left"?"scrollLeft":"scrollTop";if(!animate||!A){this.dom[prop]=value}else{var to=prop=="scrollLeft"?[value,this.dom.scrollTop]:[this.dom.scrollLeft,value];this.anim({scroll:{to:to}},this.preanim(arguments,2),"scroll")}return this},scroll:function(direction,distance,animate){if(!this.isScrollable()){return }var el=this.dom;var l=el.scrollLeft,t=el.scrollTop;var w=el.scrollWidth,h=el.scrollHeight;var cw=el.clientWidth,ch=el.clientHeight;direction=direction.toLowerCase();var scrolled=false;var a=this.preanim(arguments,2);switch(direction){case"l":case"left":if(w-l>cw){var v=Math.min(l+distance,w-cw);this.scrollTo("left",v,a);scrolled=true}break;case"r":case"right":if(l>0){var v=Math.max(l-distance,0);this.scrollTo("left",v,a);scrolled=true}break;case"t":case"top":case"up":if(t>0){var v=Math.max(t-distance,0);this.scrollTo("top",v,a);scrolled=true}break;case"b":case"bottom":case"down":if(h-t>ch){var v=Math.min(t+distance,h-ch);this.scrollTo("top",v,a);scrolled=true}break}return scrolled},translatePoints:function(x,y){if(typeof x=="object"||Ext.isArray(x)){y=x[1];x=x[0]}var p=this.getStyle("position");var o=this.getXY();var l=parseInt(this.getStyle("left"),10);var t=parseInt(this.getStyle("top"),10);if(isNaN(l)){l=(p=="relative")?0:this.dom.offsetLeft}if(isNaN(t)){t=(p=="relative")?0:this.dom.offsetTop}return{left:(x-o[0]+l),top:(y-o[1]+t)}},getScroll:function(){var d=this.dom,doc=document;if(d==doc||d==doc.body){var l,t;if(Ext.isIE&&Ext.isStrict){l=doc.documentElement.scrollLeft||(doc.body.scrollLeft||0);t=doc.documentElement.scrollTop||(doc.body.scrollTop||0)}else{l=window.pageXOffset||(doc.body.scrollLeft||0);t=window.pageYOffset||(doc.body.scrollTop||0)}return{left:l,top:t}}else{return{left:d.scrollLeft,top:d.scrollTop}}},getColor:function(attr,defaultValue,prefix){var v=this.getStyle(attr);if(!v||v=="transparent"||v=="inherit"){return defaultValue}var color=typeof prefix=="undefined"?"#":prefix;if(v.substr(0,4)=="rgb("){var rvs=v.slice(4,v.length-1).split(",");for(var i=0;i<3;i++){var h=parseInt(rvs[i]);var s=h.toString(16);if(h<16){s="0"+s}color+=s}}else{if(v.substr(0,1)=="#"){if(v.length==4){for(var i=1;i<4;i++){var c=v.charAt(i);color+=c+c}}else{if(v.length==7){color+=v.substr(1)}}}}return(color.length>5?color.toLowerCase():defaultValue)},boxWrap:function(cls){cls=cls||"x-box";var el=Ext.get(this.insertHtml("beforeBegin",String.format('<div class="{0}">'+El.boxMarkup+"</div>",cls)));el.child("."+cls+"-mc").dom.appendChild(this.dom);return el},getAttributeNS:Ext.isIE?function(ns,name){var d=this.dom;var type=typeof d[ns+":"+name];if(type!="undefined"&&type!="unknown"){return d[ns+":"+name]}return d[name]}:function(ns,name){var d=this.dom;return d.getAttributeNS(ns,name)||d.getAttribute(ns+":"+name)||d.getAttribute(name)||d[name]},getTextWidth:function(text,min,max){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(text,this.dom.innerHTML,true)).width).constrain(min||0,max||1000000)}};var ep=El.prototype;ep.on=ep.addListener;ep.mon=ep.addListener;ep.getUpdateManager=ep.getUpdater;ep.un=ep.removeListener;ep.autoBoxAdjust=true;El.unitPattern=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i;El.addUnits=function(v,defaultUnit){if(v===""||v=="auto"){return v}if(v===undefined){return""}if(typeof v=="number"||!El.unitPattern.test(v)){return v+(defaultUnit||"px")}return v};El.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';El.VISIBILITY=1;El.DISPLAY=2;El.borders={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"};El.paddings={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"};El.margins={l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"};El.cache={};var docEl;El.get=function(el){var ex,elm,id;if(!el){return null}if(typeof el=="string"){if(!(elm=document.getElementById(el))){return null}if(ex=El.cache[el]){ex.dom=elm}else{ex=El.cache[el]=new El(elm)}return ex}else{if(el.tagName){if(!(id=el.id)){id=Ext.id(el)}if(ex=El.cache[id]){ex.dom=el}else{ex=El.cache[id]=new El(el)}return ex}else{if(el instanceof El){if(el!=docEl){el.dom=document.getElementById(el.id)||el.dom;El.cache[el.id]=el}return el}else{if(el.isComposite){return el}else{if(Ext.isArray(el)){return El.select(el)}else{if(el==document){if(!docEl){var f=function(){};f.prototype=El.prototype;docEl=new f();docEl.dom=document}return docEl}}}}}}return null};El.uncache=function(el){for(var i=0,a=arguments,len=a.length;i<len;i++){if(a[i]){delete El.cache[a[i].id||a[i]]}}};El.garbageCollect=function(){if(!Ext.enableGarbageCollector){clearInterval(El.collectorThread);return }for(var eid in El.cache){var el=El.cache[eid],d=el.dom;if(!d||!d.parentNode||(!d.offsetParent&&!document.getElementById(eid))){delete El.cache[eid];if(d&&Ext.enableListenerCollection){Ext.EventManager.removeAll(d)}}}};El.collectorThreadId=setInterval(El.garbageCollect,30000);var flyFn=function(){};flyFn.prototype=El.prototype;var _cls=new flyFn();El.Flyweight=function(dom){this.dom=dom};El.Flyweight.prototype=_cls;El.Flyweight.prototype.isFlyweight=true;El._flyweights={};El.fly=function(el,named){named=named||"_global";el=Ext.getDom(el);if(!el){return null}if(!El._flyweights[named]){El._flyweights[named]=new El.Flyweight()}El._flyweights[named].dom=el;return El._flyweights[named]};Ext.get=El.get;Ext.fly=El.fly;var noBoxAdjust=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){noBoxAdjust.button=1}Ext.EventManager.on(window,"unload",function(){delete El.cache;delete El._flyweights})})();Ext.enableFx=true;Ext.Fx={slideIn:function(B,C){var A=this.getFxEl();C=C||{};A.queueFx(C,function(){B=B||"t";this.fixDisplay();var L=this.getFxRestore();var G=this.getBox();this.setSize(G);var J=this.fxWrap(L.pos,C,"hidden");var E=this.dom.style;E.visibility="visible";E.position="absolute";var K=function(){A.fxUnwrap(J,L.pos,C);E.width=L.width;E.height=L.height;A.afterFx(C)};var F,D={to:[G.x,G.y]},H={to:G.width},I={to:G.height};switch(B.toLowerCase()){case"t":J.setSize(G.width,0);E.left=E.bottom="0";F={height:I};break;case"l":J.setSize(0,G.height);E.right=E.top="0";F={width:H};break;case"r":J.setSize(0,G.height);J.setX(G.right);E.left=E.top="0";F={width:H,points:D};break;case"b":J.setSize(G.width,0);J.setY(G.bottom);E.left=E.top="0";F={height:I,points:D};break;case"tl":J.setSize(0,0);E.right=E.bottom="0";F={width:H,height:I};break;case"bl":J.setSize(0,0);J.setY(G.y+G.height);E.right=E.top="0";F={width:H,height:I,points:D};break;case"br":J.setSize(0,0);J.setXY([G.right,G.bottom]);E.left=E.top="0";F={width:H,height:I,points:D};break;case"tr":J.setSize(0,0);J.setX(G.x+G.width);E.left=E.bottom="0";F={width:H,height:I,points:D};break}this.dom.style.visibility="visible";J.show();arguments.callee.anim=J.fxanim(F,C,"motion",0.5,"easeOut",K)});return this},slideOut:function(B,C){var A=this.getFxEl();C=C||{};A.queueFx(C,function(){B=B||"t";var E=this.getFxRestore();var J=this.getBox();this.setSize(J);var G=this.fxWrap(E.pos,C,"visible");var H=this.dom.style;H.visibility="visible";H.position="absolute";G.setSize(J);var D=function(){if(C.useDisplay){A.setDisplayed(false)}else{A.hide()}A.fxUnwrap(G,E.pos,C);H.width=E.width;H.height=E.height;A.afterFx(C)};var I,F={to:0};switch(B.toLowerCase()){case"t":H.left=H.bottom="0";I={height:F};break;case"l":H.right=H.top="0";I={width:F};break;case"r":H.left=H.top="0";I={width:F,points:{to:[J.right,J.y]}};break;case"b":H.left=H.top="0";I={height:F,points:{to:[J.x,J.bottom]}};break;case"tl":H.right=H.bottom="0";I={width:F,height:F};break;case"bl":H.right=H.top="0";I={width:F,height:F,points:{to:[J.x,J.bottom]}};break;case"br":H.left=H.top="0";I={width:F,height:F,points:{to:[J.x+J.width,J.bottom]}};break;case"tr":H.left=H.bottom="0";I={width:F,height:F,points:{to:[J.right,J.y]}};break}arguments.callee.anim=G.fxanim(I,C,"motion",0.5,"easeOut",D)});return this},puff:function(A){var B=this.getFxEl();A=A||{};B.queueFx(A,function(){this.clearOpacity();this.show();var D=this.getFxRestore();var F=this.dom.style;var C=function(){if(A.useDisplay){B.setDisplayed(false)}else{B.hide()}B.clearOpacity();B.setPositioning(D.pos);F.width=D.width;F.height=D.height;F.fontSize="";B.afterFx(A)};var E=this.getWidth();var G=this.getHeight();arguments.callee.anim=this.fxanim({width:{to:this.adjustWidth(E*2)},height:{to:this.adjustHeight(G*2)},points:{by:[-(E*0.5),-(G*0.5)]},opacity:{to:0},fontSize:{to:200,unit:"%"}},A,"motion",0.5,"easeOut",C)});return this},switchOff:function(A){var B=this.getFxEl();A=A||{};B.queueFx(A,function(){this.clearOpacity();this.clip();var D=this.getFxRestore();var E=this.dom.style;var C=function(){if(A.useDisplay){B.setDisplayed(false)}else{B.hide()}B.clearOpacity();B.setPositioning(D.pos);E.width=D.width;E.height=D.height;B.afterFx(A)};this.fxanim({opacity:{to:0.3}},null,null,0.1,null,function(){this.clearOpacity();(function(){this.fxanim({height:{to:1},points:{by:[0,this.getHeight()*0.5]}},A,"motion",0.3,"easeIn",C)}).defer(100,this)})});return this},highlight:function(B,C){var A=this.getFxEl();C=C||{};A.queueFx(C,function(){B=B||"ffff9c";var I=C.attr||"backgroundColor";this.clearOpacity();this.show();var F=this.getColor(I);var E=this.dom.style[I];var G=(C.endColor||F)||"ffffff";var D=function(){A.dom.style[I]=E;A.afterFx(C)};var H={};H[I]={from:B,to:G};arguments.callee.anim=this.fxanim(H,C,"color",1,"easeIn",D)});return this},frame:function(B,D,C){var A=this.getFxEl();C=C||{};A.queueFx(C,function(){B=B||"#C3DAF9";if(B.length==6){B="#"+B}D=D||1;var E=C.duration||1;this.show();var G=this.getBox();var F=function(){var I=Ext.getBody().createChild({style:{visbility:"hidden",position:"absolute","z-index":"35000",border:"0px solid "+B}});var H=Ext.isBorderBox?2:1;I.animate({top:{from:G.y,to:G.y-20},left:{from:G.x,to:G.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:G.height,to:(G.height+(20*H))},width:{from:G.width,to:(G.width+(20*H))}},E,function(){I.remove();if(--D>0){F()}else{A.afterFx(C)}})};F.call(this)});return this},pause:function(C){var B=this.getFxEl();var A={};B.queueFx(A,function(){setTimeout(function(){B.afterFx(A)},C*1000)});return this},fadeIn:function(A){var B=this.getFxEl();A=A||{};B.queueFx(A,function(){this.setOpacity(0);this.fixDisplay();this.dom.style.visibility="visible";var C=A.endOpacity||1;arguments.callee.anim=this.fxanim({opacity:{to:C}},A,null,0.5,"easeOut",function(){if(C==1){this.clearOpacity()}B.afterFx(A)})});return this},fadeOut:function(A){var B=this.getFxEl();A=A||{};B.queueFx(A,function(){var C=A.endOpacity||0;arguments.callee.anim=this.fxanim({opacity:{to:C}},A,null,0.5,"easeOut",function(){if(C===0){if(this.visibilityMode==Ext.Element.DISPLAY||A.useDisplay){this.dom.style.display="none"}else{this.dom.style.visibility="hidden"}this.clearOpacity()}B.afterFx(A)})});return this},scale:function(B,A,C){this.shift(Ext.apply({},C,{width:B,height:A}));return this},shift:function(A){var B=this.getFxEl();A=A||{};B.queueFx(A,function(){var F={},G=A.width,E=A.height,H=A.x,C=A.y,D=A.opacity;if(G!==undefined){F.width={to:this.adjustWidth(G)}}if(E!==undefined){F.height={to:this.adjustHeight(E)}}if(A.left!==undefined){F.left={to:A.left}}if(A.top!==undefined){F.top={to:A.top}}if(A.right!==undefined){F.right={to:A.right}}if(A.bottom!==undefined){F.bottom={to:A.bottom}}if(H!==undefined||C!==undefined){F.points={to:[H!==undefined?H:this.getX(),C!==undefined?C:this.getY()]}}if(D!==undefined){F.opacity={to:D}}if(A.xy!==undefined){F.points={to:A.xy}}arguments.callee.anim=this.fxanim(F,A,"motion",0.35,"easeOut",function(){B.afterFx(A)})});return this},ghost:function(B,C){var A=this.getFxEl();C=C||{};A.queueFx(C,function(){B=B||"b";var F=this.getFxRestore();var I=this.getWidth(),G=this.getHeight();var H=this.dom.style;var D=function(){if(C.useDisplay){A.setDisplayed(false)}else{A.hide()}A.clearOpacity();A.setPositioning(F.pos);H.width=F.width;H.height=F.height;A.afterFx(C)};var J={opacity:{to:0},points:{}},E=J.points;switch(B.toLowerCase()){case"t":E.by=[0,-G];break;case"l":E.by=[-I,0];break;case"r":E.by=[I,0];break;case"b":E.by=[0,G];break;case"tl":E.by=[-I,-G];break;case"bl":E.by=[-I,G];break;case"br":E.by=[I,G];break;case"tr":E.by=[I,-G];break}arguments.callee.anim=this.fxanim(J,C,"motion",0.5,"easeOut",D)});return this},syncFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:false,concurrent:true,stopFx:false});return this},sequenceFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:false,concurrent:false,stopFx:false});return this},nextFx:function(){var A=this.fxQueue[0];if(A){A.call(this)}},hasActiveFx:function(){return this.fxQueue&&this.fxQueue[0]},stopFx:function(){if(this.hasActiveFx()){var A=this.fxQueue[0];if(A&&A.anim&&A.anim.isAnimated()){this.fxQueue=[A];A.anim.stop(true)}}return this},beforeFx:function(A){if(this.hasActiveFx()&&!A.concurrent){if(A.stopFx){this.stopFx();return true}return false}return true},hasFxBlock:function(){var A=this.fxQueue;return A&&A[0]&&A[0].block},queueFx:function(C,B){if(!this.fxQueue){this.fxQueue=[]}if(!this.hasFxBlock()){Ext.applyIf(C,this.fxDefaults);if(!C.concurrent){var A=this.beforeFx(C);B.block=C.block;this.fxQueue.push(B);if(A){this.nextFx()}}else{B.call(this)}}return this},fxWrap:function(C,E,F){var A;if(!E.wrap||!(A=Ext.get(E.wrap))){var B;if(E.fixPosition){B=this.getXY()}var D=document.createElement("div");D.style.visibility=F;A=Ext.get(this.dom.parentNode.insertBefore(D,this.dom));A.setPositioning(C);if(A.getStyle("position")=="static"){A.position("relative")}this.clearPositioning("auto");A.clip();A.dom.appendChild(this.dom);if(B){A.setXY(B)}}return A},fxUnwrap:function(B,C,A){this.clearPositioning();this.setPositioning(C);if(!A.wrap){B.dom.parentNode.insertBefore(this.dom,B.dom);B.remove()}},getFxRestore:function(){var A=this.dom.style;return{pos:this.getPositioning(),width:A.width,height:A.height}},afterFx:function(A){if(A.afterStyle){this.applyStyles(A.afterStyle)}if(A.afterCls){this.addClass(A.afterCls)}if(A.remove===true){this.remove()}Ext.callback(A.callback,A.scope,[this]);if(!A.concurrent){this.fxQueue.shift();this.nextFx()}},getFxEl:function(){return Ext.get(this.dom)},fxanim:function(F,E,A,D,G,B){A=A||"run";E=E||{};var C=Ext.lib.Anim[A](this.dom,F,(E.duration||D)||0.35,(E.easing||G)||"easeOut",function(){Ext.callback(B,this)},this);E.anim=C;return C}};Ext.Fx.resize=Ext.Fx.scale;Ext.apply(Ext.Element.prototype,Ext.Fx);Ext.CompositeElement=function(A){this.elements=[];this.addElements(A)};Ext.CompositeElement.prototype={isComposite:true,addElements:function(C){if(!C){return this}if(typeof C=="string"){C=Ext.Element.selectorFunction(C)}var D=this.elements;var A=D.length-1;for(var E=0,B=C.length;E<B;E++){D[++A]=Ext.get(C[E])}return this},fill:function(A){this.elements=[];this.add(A);return this},filter:function(B){var A=[];this.each(function(C){if(C.is(B)){A[A.length]=C.dom}});this.fill(A);return this},invoke:function(C,A){var D=this.elements;for(var E=0,B=D.length;E<B;E++){Ext.Element.prototype[C].apply(D[E],A)}return this},add:function(A){if(typeof A=="string"){this.addElements(Ext.Element.selectorFunction(A))}else{if(A.length!==undefined){this.addElements(A)}else{this.addElements([A])}}return this},each:function(C,D){var E=this.elements;for(var A=0,B=E.length;A<B;A++){if(C.call(D||E[A],E[A],this,A)===false){break}}return this},item:function(A){return this.elements[A]||null},first:function(){return this.item(0)},last:function(){return this.item(this.elements.length-1)},getCount:function(){return this.elements.length},contains:function(A){return this.indexOf(A)!==-1},indexOf:function(A){return this.elements.indexOf(Ext.get(A))},removeElement:function(E,C){if(Ext.isArray(E)){for(var F=0,B=E.length;F<B;F++){this.removeElement(E[F])}return this}var A=typeof E=="number"?E:this.indexOf(E);if(A!==-1&&this.elements[A]){if(C){var D=this.elements[A];if(D.dom){D.remove()}else{Ext.removeNode(D)}}this.elements.splice(A,1)}return this},replaceElement:function(C,D,B){var A=typeof C=="number"?C:this.indexOf(C);if(A!==-1){if(B){this.elements[A].replaceWith(D)}else{this.elements.splice(A,1,Ext.get(D))}}return this},clear:function(){this.elements=[]}};(function(){Ext.CompositeElement.createCall=function(B,C){if(!B[C]){B[C]=function(){return this.invoke(C,arguments)}}};for(var A in Ext.Element.prototype){if(typeof Ext.Element.prototype[A]=="function"){Ext.CompositeElement.createCall(Ext.CompositeElement.prototype,A)}}})();Ext.CompositeElementLite=function(A){Ext.CompositeElementLite.superclass.constructor.call(this,A);this.el=new Ext.Element.Flyweight()};Ext.extend(Ext.CompositeElementLite,Ext.CompositeElement,{addElements:function(C){if(C){if(Ext.isArray(C)){this.elements=this.elements.concat(C)}else{var D=this.elements;var A=D.length-1;for(var E=0,B=C.length;E<B;E++){D[++A]=C[E]}}}return this},invoke:function(C,A){var E=this.elements;var D=this.el;for(var F=0,B=E.length;F<B;F++){D.dom=E[F];Ext.Element.prototype[C].apply(D,A)}return this},item:function(A){if(!this.elements[A]){return null}this.el.dom=this.elements[A];return this.el},addListener:function(A,C,D,E){var F=this.elements;for(var G=0,B=F.length;G<B;G++){Ext.EventManager.on(F[G],A,C,D||F[G],E)}return this},each:function(C,D){var F=this.elements;var E=this.el;for(var A=0,B=F.length;A<B;A++){E.dom=F[A];if(C.call(D||E,E,this,A)===false){break}}return this},indexOf:function(A){return this.elements.indexOf(Ext.getDom(A))},replaceElement:function(D,E,B){var A=typeof D=="number"?D:this.indexOf(D);if(A!==-1){E=Ext.getDom(E);if(B){var C=this.elements[A];C.parentNode.insertBefore(E,C);Ext.removeNode(C)}this.elements.splice(A,1,E)}return this}});Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(B,C,A){var D;if(typeof B=="string"){D=Ext.Element.selectorFunction(B,A)}else{if(B.length!==undefined){D=B}else{throw"Invalid selector"}}if(C===true){return new Ext.CompositeElement(D)}else{return new Ext.CompositeElementLite(D)}};Ext.select=Ext.Element.select;Ext.data.Connection=function(A){Ext.apply(this,A);this.addEvents("beforerequest","requestcomplete","requestexception");Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(G){if(this.fireEvent("beforerequest",this,G)!==false){var I=G.params;if(typeof I=="function"){I=I.call(G.scope||window,G)}if(typeof I=="object"){I=Ext.urlEncode(I)}if(this.extraParams){var E=Ext.urlEncode(this.extraParams);I=I?(I+"&"+E):E}var J=G.url||this.url;if(typeof J=="function"){J=J.call(G.scope||window,G)}if(G.form){var H=Ext.getDom(G.form);J=J||H.action;var B=H.getAttribute("enctype");if(G.isUpload||(B&&B.toLowerCase()=="multipart/form-data")){return this.doFormUpload(G,I,J)}var C=Ext.lib.Ajax.serializeForm(H);I=I?(I+"&"+C):C}var A=G.headers;if(this.defaultHeaders){A=Ext.apply(A||{},this.defaultHeaders);if(!G.headers){G.headers=A}}var F={success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{options:G},timeout:G.timeout||this.timeout};var K=G.method||this.method||((I||G.xmlData||G.jsonData)?"POST":"GET");if(K=="GET"&&(this.disableCaching&&G.disableCaching!==false)||G.disableCaching===true){var D=G.disableCachingParam||this.disableCachingParam;J+=(J.indexOf("?")!=-1?"&":"?")+D+"="+(new Date().getTime())}if(typeof G.autoAbort=="boolean"){if(G.autoAbort){this.abort()}}else{if(this.autoAbort!==false){this.abort()}}if((K=="GET"||G.xmlData||G.jsonData)&&I){J+=(J.indexOf("?")!=-1?"&":"?")+I;I=""}this.transId=Ext.lib.Ajax.request(K,J,F,I,G);return this.transId}else{Ext.callback(G.callback,G.scope,[G,null,null]);return null}},isLoading:function(A){if(A){return Ext.lib.Ajax.isCallInProgress(A)}else{return this.transId?true:false}},abort:function(A){if(A||this.isLoading()){Ext.lib.Ajax.abort(A||this.transId)}},handleResponse:function(B){this.transId=false;var A=B.argument.options;B.argument=A?A.argument:null;this.fireEvent("requestcomplete",this,B,A);Ext.callback(A.success,A.scope,[B,A]);Ext.callback(A.callback,A.scope,[A,true,B])},handleFailure:function(B,C){this.transId=false;var A=B.argument.options;B.argument=A?A.argument:null;this.fireEvent("requestexception",this,B,A,C);Ext.callback(A.failure,A.scope,[B,A]);Ext.callback(A.callback,A.scope,[A,false,B])},doFormUpload:function(H,L,K){var J=Ext.id();var G=document.createElement("iframe");G.id=J;G.name=J;G.className="x-hidden";if(Ext.isIE){G.src=Ext.SSL_SECURE_URL}document.body.appendChild(G);if(Ext.isIE){document.frames[J].name=J}var I=Ext.getDom(H.form);I.target=J;I.method="POST";I.enctype=I.encoding="multipart/form-data";if(K){I.action=K}var A,C;if(L){A=[];L=Ext.urlDecode(L,false);for(var E in L){if(L.hasOwnProperty(E)){C=document.createElement("input");C.type="hidden";C.name=E;C.value=L[E];I.appendChild(C);A.push(C)}}}function F(){var N={responseText:"",responseXML:null};N.argument=H?H.argument:null;try{var O;if(Ext.isIE){O=G.contentWindow.document}else{O=(G.contentDocument||window.frames[J].document)}if(O&&O.body){N.responseText=O.body.innerHTML}if(O&&O.XMLDocument){N.responseXML=O.XMLDocument}else{N.responseXML=O}}catch(M){}Ext.EventManager.removeListener(G,"load",F,this);this.fireEvent("requestcomplete",this,N,H);Ext.callback(H.success,H.scope,[N,H]);Ext.callback(H.callback,H.scope,[H,true,N]);setTimeout(function(){Ext.removeNode(G)},100)}Ext.EventManager.on(G,"load",F,this);I.submit();if(A){for(var D=0,B=A.length;D<B;D++){Ext.removeNode(A[D])}}}});Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(A){return Ext.lib.Ajax.serializeForm(A)}});Ext.Updater=Ext.extend(Ext.util.Observable,{constructor:function(A,B){A=Ext.get(A);if(!B&&A.updateManager){return A.updateManager}this.el=A;this.defaultUrl=null;this.addEvents("beforeupdate","update","failure");var C=Ext.Updater.defaults;this.sslBlankUrl=C.sslBlankUrl;this.disableCaching=C.disableCaching;this.indicatorText=C.indicatorText;this.showLoadIndicator=C.showLoadIndicator;this.timeout=C.timeout;this.loadScripts=C.loadScripts;this.transaction=null;this.refreshDelegate=this.refresh.createDelegate(this);this.updateDelegate=this.update.createDelegate(this);this.formUpdateDelegate=this.formUpdate.createDelegate(this);if(!this.renderer){this.renderer=this.getDefaultRenderer()}Ext.Updater.superclass.constructor.call(this)},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer()},getEl:function(){return this.el},update:function(A,D,C,F){if(this.fireEvent("beforeupdate",this.el,A,D)!==false){var B,G;if(typeof A=="object"){B=A;A=B.url;D=D||B.params;C=C||B.callback;F=F||B.discardUrl;G=B.scope;if(typeof B.nocache!="undefined"){this.disableCaching=B.nocache}if(typeof B.text!="undefined"){this.indicatorText='<div class="loading-indicator">'+B.text+"</div>"}if(typeof B.scripts!="undefined"){this.loadScripts=B.scripts}if(typeof B.timeout!="undefined"){this.timeout=B.timeout}}this.showLoading();if(!F){this.defaultUrl=A}if(typeof A=="function"){A=A.call(this)}var E=Ext.apply({},{url:A,params:(typeof D=="function"&&G)?D.createDelegate(G):D,success:this.processSuccess,failure:this.processFailure,scope:this,callback:undefined,timeout:(this.timeout*1000),disableCaching:this.disableCaching,argument:{options:B,url:A,form:null,callback:C,scope:G||window,params:D}},B);this.transaction=Ext.Ajax.request(E)}},formUpdate:function(D,B,A,C){if(this.fireEvent("beforeupdate",this.el,D,B)!==false){if(typeof B=="function"){B=B.call(this)}D=Ext.getDom(D);this.transaction=Ext.Ajax.request({form:D,url:B,success:this.processSuccess,failure:this.processFailure,scope:this,timeout:(this.timeout*1000),argument:{url:B,form:D,callback:C,reset:A}});this.showLoading.defer(1,this)}},refresh:function(A){if(this.defaultUrl==null){return }this.update(this.defaultUrl,null,A,true)},startAutoRefresh:function(A,E,D,C,B){if(B){this.update(E||this.defaultUrl,D,C,true)}if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId)}this.autoRefreshProcId=setInterval(this.update.createDelegate(this,[E||this.defaultUrl,D,C,true]),A*1000)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId}},isAutoRefreshing:function(){return this.autoRefreshProcId?true:false},showLoading:function(){if(this.showLoadIndicator){this.el.update(this.indicatorText)}},processSuccess:function(B){this.transaction=null;if(B.argument.form&&B.argument.reset){try{B.argument.form.reset()}catch(A){}}if(this.loadScripts){this.renderer.render(this.el,B,this,this.updateComplete.createDelegate(this,[B]))}else{this.renderer.render(this.el,B,this);this.updateComplete(B)}},updateComplete:function(A){this.fireEvent("update",this.el,A);if(typeof A.argument.callback=="function"){A.argument.callback.call(A.argument.scope,this.el,true,A,A.argument.options)}},processFailure:function(A){this.transaction=null;this.fireEvent("failure",this.el,A);if(typeof A.argument.callback=="function"){A.argument.callback.call(A.argument.scope,this.el,false,A,A.argument.options)}},setRenderer:function(A){this.renderer=A},getRenderer:function(){return this.renderer},setDefaultUrl:function(A){this.defaultUrl=A},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction)}},isUpdating:function(){if(this.transaction){return Ext.Ajax.isLoading(this.transaction)}return false}});Ext.Updater.defaults={timeout:30,loadScripts:false,sslBlankUrl:(Ext.SSL_SECURE_URL||"javascript:false"),disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>'};Ext.Updater.updateElement=function(D,E,C,A){var B=Ext.get(D).getUpdater();Ext.apply(B,A);B.update(E,C,A?A.callback:null)};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(D,B,A,C){D.update(B.responseText,A.loadScripts,C)}};Ext.UpdateManager=Ext.Updater;(function(){function xf(format){var args=Array.prototype.slice.call(arguments,1);return format.replace(/\{(\d+)\}/g,function(m,i){return args[i]})}Date.formatCodeToRegex=function(character,currentGroup){var p=Date.parseCodes[character];if(p){p=Ext.type(p)=="function"?p():p;Date.parseCodes[character]=p}return p?Ext.applyIf({c:p.c?xf(p.c,currentGroup||"{0}"):p.c},p):{g:0,c:null,s:Ext.escapeRe(character)}};var $f=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{count:0},parseRegexes:[],formatFunctions:{count:0},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(month){return Date.monthNames[month].substring(0,3)},getShortDayName:function(day){return Date.dayNames[day].substring(0,3)},getMonthNumber:function(name){return Date.monthNumbers[name.substring(0,1).toUpperCase()+name.substring(1,3).toLowerCase()]},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var c="Y-m-dTH:i:sP",code=[],i=0,l=c.length;i<l;++i){var e=c.charAt(i);code.push(e=="T"?"'T'":Date.getFormatCode(e))}return code.join(" + ")},U:"Math.round(this.getTime() / 1000)"},parseDate:function(input,format){var p=Date.parseFunctions;if(p[format]==null){Date.createParser(format)}var func=p[format];return Date[func](input)},getFormatCode:function(character){var f=Date.formatCodes[character];if(f){f=Ext.type(f)=="function"?f():f;Date.formatCodes[character]=f}return f||("'"+String.escape(character)+"'")},createNewFormat:function(format){var funcName="format"+Date.formatFunctions.count++,code="Date.prototype."+funcName+" = function(){return ",special=false,ch="";Date.formatFunctions[format]=funcName;for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true}else{if(special){special=false;code+="'"+String.escape(ch)+"' + "}else{code+=Date.getFormatCode(ch)+" + "}}}eval(code.substring(0,code.length-3)+";}")},createParser:function(){var code=["Date.{0} = function(input){","var y, m, d, h = 0, i = 0, s = 0, ms = 0, o, z, u, v;","input = String(input);","d = new Date();","y = d.getFullYear();","m = d.getMonth();","d = d.getDate();","var results = input.match(Date.parseRegexes[{1}]);","if(results && results.length > 0){","{2}","if(u){","v = new Date(u * 1000);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0 && ms >= 0){","v = new Date(y, m, d, h, i, s, ms);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0){","v = new Date(y, m, d, h, i, s);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0){","v = new Date(y, m, d, h, i);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0){","v = new Date(y, m, d, h);","}else if (y >= 0 && m >= 0 && d > 0){","v = new Date(y, m, d);","}else if (y >= 0 && m >= 0){","v = new Date(y, m);","}else if (y >= 0){","v = new Date(y);","}","}","return (v && (z != null || o != null))? (Ext.type(z) == 'number' ? v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - z) : v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn))) : v;","}"].join("\n");return function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1,calc="",regex="",special=false,ch="";Date.parseFunctions[format]=funcName;for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true}else{if(special){special=false;regex+=String.escape(ch)}else{var obj=$f(ch,currentGroup);currentGroup+=obj.g;regex+=obj.s;if(obj.g&&obj.c){calc+=obj.c}}}}Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$","i");eval(xf(code,funcName,regexNum,calc))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],i=0;i<7;a.push(Date.getShortDayName(i)),++i){}return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:0,c:null,s:"(?:\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var a=[],i=0;i<12;a.push(Date.getShortMonthName(i)),++i){}return Ext.applyIf({s:"("+a.join("|")+")"},$f("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return $f("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"},g:function(){return $f("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return $f("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1);","var hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60);","var mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1);","var hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60);","var mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"z = results[{0}] * 1;\nz = (-43200 <= z && z <= 50400)? z : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var calc=[],arr=[$f("Y",1),$f("m",2),$f("d",3),$f("h",4),$f("i",5),$f("s",6),{c:"ms = (results[7] || '.0').substring(1); ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[9] == 'Z'){","z = 0;","}else{",$f("P",9).c,"}"].join("\n")}];for(var i=0,l=arr.length;i<l;++i){calc.push(arr[i].c)}return{g:1,c:calc.join(""),s:arr[0].s+"-"+arr[1].s+"-"+arr[2].s+"T"+arr[3].s+":"+arr[4].s+":"+arr[5].s+"((.|,)\\d+)?(Z|([+-]\\d{2}:\\d{2}))"}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(A){if(Date.formatFunctions[A]==null){Date.createNewFormat(A)}var B=Date.formatFunctions[A];return this[B]()},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(A){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(A?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var B=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var A=0;A<this.getMonth();++A){B+=Date.daysInMonth[A]}return B+this.getDate()-1},getWeekOfYear:function(){var B=86400000,A=7*B;return function(){var D=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/B,E=Math.floor(D/7),C=new Date(E*A).getUTCFullYear();return E-Math.floor(Date.UTC(C,0,7)/A)+1}}(),isLeapYear:function(){var A=this.getFullYear();return !!((A&3)==0&&(A%100||(A%400==0&&A)))},getFirstDayOfMonth:function(){var A=(this.getDay()-(this.getDate()-1))%7;return(A<0)?(A+7):A},getLastDayOfMonth:function(){var A=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return(A<0)?(A+7):A},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]},getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},clearTime:function(A){if(A){return this.clone().clearTime()}this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this},add:function(A,D){var C=this.clone();if(!A||D===0){return C}switch(A.toLowerCase()){case Date.MILLI:C.setMilliseconds(this.getMilliseconds()+D);break;case Date.SECOND:C.setSeconds(this.getSeconds()+D);break;case Date.MINUTE:C.setMinutes(this.getMinutes()+D);break;case Date.HOUR:C.setHours(this.getHours()+D);break;case Date.DAY:C.setDate(this.getDate()+D);break;case Date.MONTH:var B=this.getDate();if(B>28){B=Math.min(B,this.getFirstDateOfMonth().add("mo",D).getLastDateOfMonth().getDate())}C.setDate(B);C.setMonth(this.getMonth()+D);break;case Date.YEAR:C.setFullYear(this.getFullYear()+D);break}return C},between:function(C,B){var A=this.getTime();return C.getTime()<=A&&A<=B.getTime()}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari){Date.brokenSetMonth=Date.prototype.setMonth;Date.prototype.setMonth=function(B){if(B<=-1){var C=Math.ceil(-B);var D=Math.ceil(C/12);var A=(C%12)?12-C%12:0;this.setFullYear(this.getFullYear()-D);return Date.brokenSetMonth.call(this,A)}else{return Date.brokenSetMonth.apply(this,arguments)}}}Ext.util.DelayedTask=function(E,F,B){var C=null,D,A;var G=function(){var H=new Date().getTime();if(H-A>=D){clearInterval(C);C=null;E.apply(F,B||[])}};this.delay=function(J,H,I,K){if(C&&J!=D){this.cancel()}D=J;A=new Date().getTime();E=H||E;F=I||F;B=K||B;if(!C){C=setInterval(G,D)}};this.cancel=function(){if(C){clearInterval(C);C=null}}};Ext.util.TaskRunner=function(E){E=E||10;var D=[],I=[];var H=0;var C=false;var F=function(){C=false;clearInterval(H);H=0};var B=function(){if(!C){C=true;H=setInterval(A,E)}};var G=function(J){I.push(J);if(J.onStop){J.onStop.apply(J.scope||J)}};var A=function(){if(I.length>0){for(var L=0,J=I.length;L<J;L++){D.remove(I[L])}I=[];if(D.length<1){F();return }}var N=new Date().getTime();for(var L=0,J=D.length;L<J;++L){var M=D[L];var K=N-M.taskRunTime;if(M.interval<=K){var O=M.run.apply(M.scope||M,M.args||[++M.taskRunCount]);M.taskRunTime=N;if(O===false||M.taskRunCount===M.repeat){G(M);return }}if(M.duration&&M.duration<=(N-M.taskStartTime)){G(M)}}};this.start=function(J){D.push(J);J.taskStartTime=new Date().getTime();J.taskRunTime=0;J.taskRunCount=0;B();return J};this.stop=function(J){G(J);return J};this.stopAll=function(){F();for(var J=0,K=D.length;J<K;J++){if(D[J].onStop){D[J].onStop()}}D=[];I=[]}};Ext.TaskMgr=new Ext.util.TaskRunner();Ext.util.MixedCollection=function(A,B){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=A===true;if(B){this.getKey=B}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(A,C){if(arguments.length==1){C=arguments[0];A=this.getKey(C)}if(typeof A=="undefined"||A===null){this.length++;this.items.push(C);this.keys.push(null)}else{var B=this.map[A];if(B){return this.replace(A,C)}this.length++;this.items.push(C);this.map[A]=C;this.keys.push(A)}this.fireEvent("add",this.length-1,C,A);return C},getKey:function(A){return A.id},replace:function(D,C){if(arguments.length==1){C=arguments[0];D=this.getKey(C)}var B=this.item(D);if(typeof D=="undefined"||D===null||typeof B=="undefined"){return this.add(D,C)}var A=this.indexOfKey(D);this.items[A]=C;this.map[D]=C;this.fireEvent("replace",D,B,C);return C},addAll:function(C){if(arguments.length>1||Ext.isArray(C)){var A=arguments.length>1?arguments:C;for(var D=0,B=A.length;D<B;D++){this.add(A[D])}}else{for(var E in C){if(this.allowFunctions||typeof C[E]!="function"){this.add(E,C[E])}}}},each:function(C,D){var A=[].concat(this.items);for(var E=0,B=A.length;E<B;E++){if(C.call(D||A[E],A[E],E,B)===false){break}}},eachKey:function(C,D){for(var A=0,B=this.keys.length;A<B;A++){C.call(D||window,this.keys[A],this.items[A],A,B)}},find:function(C,D){for(var A=0,B=this.items.length;A<B;A++){if(C.call(D||window,this.items[A],this.keys[A])){return this.items[A]}}return null},insert:function(B,A,C){if(arguments.length==2){C=arguments[1];A=this.getKey(C)}if(B>=this.length){return this.add(A,C)}this.length++;this.items.splice(B,0,C);if(typeof A!="undefined"&&A!=null){this.map[A]=C}this.keys.splice(B,0,A);this.fireEvent("add",B,C,A);return C},remove:function(A){return this.removeAt(this.indexOf(A))},removeAt:function(B){if(B<this.length&&B>=0){this.length--;var C=this.items[B];this.items.splice(B,1);var A=this.keys[B];if(typeof A!="undefined"){delete this.map[A]}this.keys.splice(B,1);this.fireEvent("remove",C,A);return C}return false},removeKey:function(A){return this.removeAt(this.indexOfKey(A))},getCount:function(){return this.length},indexOf:function(A){return this.items.indexOf(A)},indexOfKey:function(A){return this.keys.indexOf(A)},item:function(B){var A=typeof this.map[B]!="undefined"?this.map[B]:this.items[B];return typeof A!="function"||this.allowFunctions?A:null},itemAt:function(A){return this.items[A]},key:function(A){return this.map[A]},contains:function(A){return this.indexOf(A)!=-1},containsKey:function(A){return typeof this.map[A]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(A,I,B){var G=String(I).toUpperCase()=="DESC"?-1:1;B=B||function(J,K){return J-K};var C=[],H=this.keys,D=this.items;for(var F=0,E=D.length;F<E;F++){C[C.length]={key:H[F],value:D[F],index:F}}C.sort(function(K,L){var J=B(K[A],L[A])*G;if(J==0){J=(K.index<L.index?-1:1)}return J});for(var F=0,E=C.length;F<E;F++){D[F]=C[F].value;H[F]=C[F].key}this.fireEvent("sort",this)},sort:function(B,A){this._sort("value",B,A)},keySort:function(B,A){this._sort("key",B,A||function(E,F){var C=String(E).toUpperCase(),D=String(F).toUpperCase();return C>D?1:(C<D?-1:0)})},getRange:function(C,B){var A=this.items;if(A.length<1){return[]}C=C||0;B=Math.min(typeof B=="undefined"?this.length-1:B,this.length-1);var D=[];if(C<=B){for(var E=C;E<=B;E++){D[D.length]=A[E]}}else{for(var E=C;E>=B;E--){D[D.length]=A[E]}}return D},filter:function(D,A,C,B){if(Ext.isEmpty(A,false)){return this.clone()}A=this.createValueMatcher(A,C,B);return this.filterBy(function(E){return E&&A.test(E[D])})},filterBy:function(D,E){var C=new Ext.util.MixedCollection();C.getKey=this.getKey;var A=this.keys,F=this.items;for(var G=0,B=F.length;G<B;G++){if(D.call(E||this,F[G],A[G])){C.add(A[G],F[G])}}return C},findIndex:function(E,A,C,D,B){if(Ext.isEmpty(A,false)){return -1}A=this.createValueMatcher(A,D,B);return this.findIndexBy(function(F){return F&&A.test(F[E])},null,C)},findIndexBy:function(D,E,C){var A=this.keys,F=this.items;for(var G=(C||0),B=F.length;G<B;G++){if(D.call(E||this,F[G],A[G])){return G}}if(typeof C=="number"&&C>0){for(var G=0;G<C;G++){if(D.call(E||this,F[G],A[G])){return G}}}return -1},createValueMatcher:function(A,C,B){if(!A.exec){A=String(A);A=new RegExp((C===true?"":"^")+Ext.escapeRe(A),B?"":"i")}return A},clone:function(){var C=new Ext.util.MixedCollection();var A=this.keys,D=this.items;for(var E=0,B=D.length;E<B;E++){C.add(A[E],D[E])}C.getKey=this.getKey;return C}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty;var pad=function(n){return n<10?"0"+n:n};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'};var encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true}}a.push("]");return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(o){if(typeof o=="undefined"||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o)}else{if(typeof o=="string"){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(typeof o=="boolean"){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(this.encode(i),":",v===null?"null":this.encode(v));b=true}}}a.push("}");return a.join("")}}}}}}};this.decode=function(json){return eval("("+json+")")}})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g;return{ellipsis:function(value,len){if(value&&value.length>len){return value.substr(0,len-3)+"..."}return value},undef:function(value){return value!==undefined?value:""},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(value){return String(value).replace(trimRe,"")},substr:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},uppercase:function(value){return String(value).toUpperCase()},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase()},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args)}else{return eval(fn).call(window,value)}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split(".");var whole=ps[0];var sub=ps[1]?"."+ps[1]:".00";var r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2")}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1)}return"$"+v},date:function(v,format){if(!v){return""}if(!Ext.isDate(v)){v=new Date(Date.parse(v))}return v.dateFormat(format||"m/d/Y")},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format)}},stripTagsRE:/<\/?[^>]+>/gi,stripTags:function(v){return !v?v:String(v).replace(this.stripTagsRE,"")},stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,stripScripts:function(v){return !v?v:String(v).replace(this.stripScriptsRe,"")},fileSize:function(size){if(size<1024){return size+" bytes"}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB"}else{return(Math.round(((size*10)/1048576))/10)+" MB"}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";")}return fns[a](v)}}(),nl2br:function(v){return v===undefined||v===null?"":v.replace(/\n/g,"<br/>")}}}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var O=this.html;O=["<tpl>",O,"</tpl>"].join("");var P=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/;var A=/^<tpl\b[^>]*?for="(.*?)"/;var C=/^<tpl\b[^>]*?if="(.*?)"/;var E=/^<tpl\b[^>]*?exec="(.*?)"/;var L,M=0;var H=[];while(L=O.match(P)){var B=L[0].match(A);var D=L[0].match(C);var F=L[0].match(E);var J=null,G=null,K=null;var N=B&&B[1]?B[1]:"";if(D){J=D&&D[1]?D[1]:null;if(J){G=new Function("values","parent","xindex","xcount","with(values){ return "+(Ext.util.Format.htmlDecode(J))+"; }")}}if(F){J=F&&F[1]?F[1]:null;if(J){K=new Function("values","parent","xindex","xcount","with(values){ "+(Ext.util.Format.htmlDecode(J))+"; }")}}if(N){switch(N){case".":N=new Function("values","parent","with(values){ return values; }");break;case"..":N=new Function("values","parent","with(values){ return parent; }");break;default:N=new Function("values","parent","with(values){ return "+N+"; }")}}H.push({id:M,target:N,exec:K,test:G,body:L[1]||""});O=O.replace(L[0],"{xtpl"+M+"}");++M}for(var I=H.length-1;I>=0;--I){this.compileTpl(H[I])}this.master=H[H.length-1];this.tpls=H};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(J,C,D,G,H){var A=this.tpls[J];if(A.test&&!A.test.call(this,C,D,G,H)){return""}if(A.exec&&A.exec.call(this,C,D,G,H)){return""}var B=A.target?A.target.call(this,C,D):C;D=A.target?C:D;if(A.target&&Ext.isArray(B)){var I=[];for(var F=0,E=B.length;F<E;F++){I[I.length]=A.compiled.call(this,B[F],D,F+1,E)}return I.join("")}return A.compiled.call(this,B,D,G,H)},compileTpl:function(tpl){var fm=Ext.util.Format;var useF=this.disableFormats!==true;var sep=Ext.isGecko?"+":",";var fn=function(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'"}var v;if(name==="."){v="values"}else{if(name==="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v=name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"'"+sep+format+v+args+")"+sep+"'"};var codeFn=function(m,code){return"'"+sep+"("+code+")"+sep+"'"};var body;if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};"}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("")}eval(body);return this},applyTemplate:function(A){return this.master.compiled.call(this,A,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(A){A=Ext.getDom(A);return new Ext.XTemplate(A.value||A.innerHTML)};Ext.util.CSS=function(){var C=null;var D=document;var A=/(-[a-z])/gi;var B=function(F,E){return E.charAt(1).toUpperCase()};return{createStyleSheet:function(H,E){var I;var J=D.getElementsByTagName("head")[0];var F=D.createElement("style");F.setAttribute("type","text/css");if(E){F.setAttribute("id",E)}if(Ext.isIE){J.appendChild(F);I=F.styleSheet;I.cssText=H}else{try{F.appendChild(D.createTextNode(H))}catch(G){F.cssText=H}J.appendChild(F);I=F.styleSheet?F.styleSheet:(F.sheet||D.styleSheets[D.styleSheets.length-1])}this.cacheStyleSheet(I);return I},removeStyleSheet:function(E){var F=D.getElementById(E);if(F){F.parentNode.removeChild(F)}},swapStyleSheet:function(E,G){this.removeStyleSheet(E);var F=D.createElement("link");F.setAttribute("rel","stylesheet");F.setAttribute("type","text/css");F.setAttribute("id",E);F.setAttribute("href",G);D.getElementsByTagName("head")[0].appendChild(F)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(G){if(!C){C={}}try{var E=G.cssRules||G.rules;for(var H=E.length-1;H>=0;--H){C[E[H].selectorText]=E[H]}}catch(F){}},getRules:function(H){if(C==null||H){C={};var F=D.styleSheets;for(var G=0,I=F.length;G<I;G++){try{this.cacheStyleSheet(F[G])}catch(E){}}}return C},getRule:function(H,F){var G=this.getRules(F);if(!Ext.isArray(H)){return G[H]}for(var E=0;E<H.length;E++){if(G[H[E]]){return G[H[E]]}}return null},updateRule:function(I,F,G){if(!Ext.isArray(I)){var E=this.getRule(I);if(E){E.style[F.replace(A,B)]=G;return true}}else{for(var H=0;H<I.length;H++){if(this.updateRule(I[H],F,G)){return true}}}return false}}}();Ext.util.ClickRepeater=function(A,B){this.el=Ext.get(A);this.el.unselectable();Ext.apply(this,B);this.addEvents("mousedown","click","mouseup");this.el.on("mousedown",this.handleMouseDown,this);if(this.preventDefault||this.stopDefault){this.el.on("click",function(C){if(this.preventDefault){C.preventDefault()}if(this.stopDefault){C.stopEvent()}},this)}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)};Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,destroy:function(){Ext.destroy(this.el);this.purgeListeners()},handleMouseDown:function(){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this);this.fireEvent("click",this);if(this.accelerate){this.delay=400}this.timer=this.click.defer(this.delay||this.interval,this)},click:function(){this.fireEvent("click",this);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this)},easeOutExpo:function(D,A,B,C){return(D==C)?A+B:B*(-Math.pow(2,-10*D/C)+1)+A},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass)}this.click()},handleMouseUp:function(){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this)}});Ext.KeyNav=function(A,B){this.el=Ext.get(A);Ext.apply(this,B);if(!this.disabled){this.disabled=true;this.enable()}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,prepareEvent:function(C){var B=C.getKey();var A=this.keyToHandler[B];if(Ext.isSafari2&&A&&B>=37&&B<=40){C.stopEvent()}},relay:function(C){var B=C.getKey();var A=this.keyToHandler[B];if(A&&this[A]){if(this.doRelay(C,this[A],A)!==true){C[this.defaultEventAction]()}}},doRelay:function(C,A,B){return A.call(this.scope||this,C)},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},enable:function(){if(this.disabled){if(this.forceKeyDown||Ext.isIE||Ext.isSafari3||Ext.isAir){this.el.on("keydown",this.relay,this)}else{this.el.on("keydown",this.prepareEvent,this);this.el.on("keypress",this.relay,this)}this.disabled=false}},disable:function(){if(!this.disabled){if(this.forceKeyDown||Ext.isIE||Ext.isSafari3||Ext.isAir){this.el.un("keydown",this.relay,this)}else{this.el.un("keydown",this.prepareEvent,this);this.el.un("keypress",this.relay,this)}this.disabled=true}}};Ext.KeyMap=function(C,A,B){this.el=Ext.get(C);this.eventName=B||"keydown";this.bindings=[];if(A){this.addBinding(A)}this.enable()};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(K){if(Ext.isArray(K)){for(var I=0,G=K.length;I<G;I++){this.addBinding(K[I])}return }var A=K.key,L=K.shift,N=K.ctrl,H=K.alt,E=K.fn||K.handler,B=K.scope;if(K.stopEvent){this.stopEvent=K.stopEvent}if(typeof A=="string"){var D=[];var F=A.toUpperCase();for(var J=0,G=F.length;J<G;J++){D.push(F.charCodeAt(J))}A=D}var M=Ext.isArray(A);var C=function(O){if((!L||O.shiftKey)&&(!N||O.ctrlKey)&&(!H||O.altKey)){var Q=O.getKey();if(M){for(var P=0,R=A.length;P<R;P++){if(A[P]==Q){if(this.stopEvent){O.stopEvent()}E.call(B||window,Q,O);return }}}else{if(Q==A){if(this.stopEvent){O.stopEvent()}E.call(B||window,Q,O)}}}};this.bindings.push(C)},on:function(A,F,G){var C,B,E,D;if(typeof A=="object"&&!Ext.isArray(A)){C=A.key;B=A.shift;E=A.ctrl;D=A.alt}else{C=A}this.addBinding({key:C,shift:B,ctrl:E,alt:D,fn:F,scope:G})},handleKeyDown:function(B){if(this.enabled){var D=this.bindings;for(var C=0,A=D.length;C<A;C++){D[C].call(this,B)}}},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}}};Ext.util.TextMetrics=function(){var A;return{measure:function(B,D,C){if(!A){A=Ext.util.TextMetrics.Instance(B,C)}A.bind(B);A.setFixedWidth(C||"auto");return A.getSize(D)},createInstance:function(B,C){return Ext.util.TextMetrics.Instance(B,C)}}}();Ext.util.TextMetrics.Instance=function(A,C){var D=new Ext.Element(document.createElement("div"));document.body.appendChild(D.dom);D.position("absolute");D.setLeftTop(-1000,-1000);D.hide();if(C){D.setWidth(C)}var B={getSize:function(E){D.update(E);var F=D.getSize();D.update("");return F},bind:function(E){D.setStyle(Ext.fly(E).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(E){D.setWidth(E)},getWidth:function(E){D.dom.style.width="auto";return this.getSize(E).width},getHeight:function(E){return this.getSize(E).height}};B.bind(A);return B};Ext.Element.measureText=Ext.util.TextMetrics.measure;(function(){var B=Ext.EventManager;var A=Ext.lib.Dom;Ext.dd.DragDrop=function(C,E,D){if(C){this.init(C,E,D)}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(D,C){},startDrag:function(D,C){},b4Drag:function(C){},onDrag:function(C){},onDragEnter:function(D,C){},b4DragOver:function(C){},onDragOver:function(D,C){},b4DragOut:function(C){},onDragOut:function(D,C){},b4DragDrop:function(C){},onDragDrop:function(D,C){},onInvalidDrop:function(C){},b4EndDrag:function(C){},endDrag:function(C){},b4MouseDown:function(C){},onMouseDown:function(C){},onMouseUp:function(C){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(H,J,C){if(typeof J=="number"){J={left:J,right:J,top:J,bottom:J}}J=J||this.defaultPadding;var F=Ext.get(this.getEl()).getBox();var M=Ext.get(H);var D=M.getScroll();var G,L=M.dom;if(L==document.body){G={x:D.left,y:D.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}}else{var E=M.getXY();G={x:E[0]+D.left,y:E[1]+D.top,width:L.clientWidth,height:L.clientHeight}}var I=F.y-G.y;var K=F.x-G.x;this.resetConstraints();this.setXConstraint(K-(J.left||0),G.width-K-F.width-(J.right||0),this.xTickSize);this.setYConstraint(I-(J.top||0),G.height-I-F.height-(J.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(C,E,D){this.initTarget(C,E,D);B.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(C,E,D){this.config=D||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof C!=="string"){C=Ext.id(C)}this.id=C;this.addToGroup((E)?E:"default");this.handleElId=C;this.setDragElId(C);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(D,F,C,E){if(!F&&0!==F){this.padding=[D,D,D,D]}else{if(!C&&0!==C){this.padding=[D,F,D,F]}else{this.padding=[D,F,C,E]}}},setInitPosition:function(E,F){var D=this.getEl();if(!this.DDM.verifyEl(D)){return }var G=E||0;var H=F||0;var C=A.getXY(D);this.initPageX=C[0]-G;this.initPageY=C[1]-H;this.lastPageX=C[0];this.lastPageY=C[1];this.setStartPosition(C)},setStartPosition:function(C){var D=C||A.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=D[0];this.startPageY=D[1]},addToGroup:function(C){this.groups[C]=true;this.DDM.regDragDrop(this,C)},removeFromGroup:function(C){if(this.groups[C]){delete this.groups[C]}this.DDM.removeDDFromGroup(this,C)},setDragElId:function(C){this.dragElId=C},setHandleElId:function(C){if(typeof C!=="string"){C=Ext.id(C)}this.handleElId=C;this.DDM.regHandle(this.id,C)},setOuterHandleElId:function(C){if(typeof C!=="string"){C=Ext.id(C)}B.on(C,"mousedown",this.handleMouseDown,this);this.setHandleElId(C);this.hasOuterHandles=true},unreg:function(){B.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(C,D){if(this.primaryButtonOnly&&C.button!=0){return }if(this.isLocked()){return }this.DDM.refreshCache(this.groups);var E=new Ext.lib.Point(Ext.lib.Event.getPageX(C),Ext.lib.Event.getPageY(C));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(E,this)){}else{if(this.clickValidator(C)){this.setStartPosition();this.b4MouseDown(C);this.onMouseDown(C);this.DDM.handleMouseDown(C,this);this.DDM.stopEvent(C)}else{}}},clickValidator:function(C){var D=C.getTarget();return(this.isValidHandleChild(D)&&(this.id==this.handleElId||this.DDM.handleWasClicked(D,this.id)))},addInvalidHandleType:function(D){var C=D.toUpperCase();this.invalidHandleTypes[C]=C},addInvalidHandleId:function(C){if(typeof C!=="string"){C=Ext.id(C)}this.invalidHandleIds[C]=C},addInvalidHandleClass:function(C){this.invalidHandleClasses.push(C)},removeInvalidHandleType:function(D){var C=D.toUpperCase();delete this.invalidHandleTypes[C]},removeInvalidHandleId:function(C){if(typeof C!=="string"){C=Ext.id(C)}delete this.invalidHandleIds[C]},removeInvalidHandleClass:function(D){for(var C=0,E=this.invalidHandleClasses.length;C<E;++C){if(this.invalidHandleClasses[C]==D){delete this.invalidHandleClasses[C]}}},isValidHandleChild:function(E){var F=true;var C;try{C=E.nodeName.toUpperCase()}catch(D){C=E.nodeName}F=F&&!this.invalidHandleTypes[C];F=F&&!this.invalidHandleIds[E.id];for(var G=0,H=this.invalidHandleClasses.length;F&&G<H;++G){F=!Ext.fly(E).hasClass(this.invalidHandleClasses[G])}return F},setXTicks:function(C,F){this.xTicks=[];this.xTickSize=F;var D={};for(var E=this.initPageX;E>=this.minX;E=E-F){if(!D[E]){this.xTicks[this.xTicks.length]=E;D[E]=true}}for(E=this.initPageX;E<=this.maxX;E=E+F){if(!D[E]){this.xTicks[this.xTicks.length]=E;D[E]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(C,F){this.yTicks=[];this.yTickSize=F;var D={};for(var E=this.initPageY;E>=this.minY;E=E-F){if(!D[E]){this.yTicks[this.yTicks.length]=E;D[E]=true}}for(E=this.initPageY;E<=this.maxY;E=E+F){if(!D[E]){this.yTicks[this.yTicks.length]=E;D[E]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(C,D,E){this.leftConstraint=C;this.rightConstraint=D;this.minX=this.initPageX-C;this.maxX=this.initPageX+D;if(E){this.setXTicks(this.initPageX,E)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(E,C,D){this.topConstraint=E;this.bottomConstraint=C;this.minY=this.initPageY-E;this.maxY=this.initPageY+C;if(D){this.setYTicks(this.initPageY,D)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var C=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var D=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(C,D)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(C,F){if(!F){return C}else{if(F[0]>=C){return F[0]}else{for(var H=0,I=F.length;H<I;++H){var G=H+1;if(F[G]&&F[G]>=C){var D=C-F[H];var E=F[G]-C;return(E>D)?F[H]:F[G]}}return F[F.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var A=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(E,F){for(var D in this.ids){for(var B in this.ids[D]){var C=this.ids[D][B];if(!this.isTypeOfDD(C)){continue}C[E].apply(C,F)}}},_onLoad:function(){this.init();A.on(document,"mouseup",this.handleMouseUp,this,true);A.on(document,"mousemove",this.handleMouseMove,this,true);A.on(window,"unload",this._onUnload,this,true);A.on(window,"resize",this._onResize,this,true)},_onResize:function(B){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(C,B){if(!this.initialized){this.init()}if(!this.ids[B]){this.ids[B]={}}this.ids[B][C.id]=C},removeDDFromGroup:function(C,B){if(!this.ids[B]){this.ids[B]={}}var D=this.ids[B];if(D&&D[C.id]){delete D[C.id]}},_remove:function(C){for(var B in C.groups){if(B&&this.ids[B]&&this.ids[B][C.id]){delete this.ids[B][C.id]}}delete this.handleIds[C.id]},regHandle:function(C,B){if(!this.handleIds[C]){this.handleIds[C]={}}this.handleIds[C][B]=B},isDragDrop:function(B){return(this.getDDById(B))?true:false},getRelated:function(C,F){var D=[];for(var E in C.groups){for(j in this.ids[E]){var B=this.ids[E][j];if(!this.isTypeOfDD(B)){continue}if(!F||B.isTarget){D[D.length]=B}}}return D},isLegalTarget:function(C,D){var F=this.getRelated(C,true);for(var E=0,B=F.length;E<B;++E){if(F[E].id==D.id){return true}}return false},isTypeOfDD:function(B){return(B&&B.__ygDragDrop)},isHandle:function(C,B){return(this.handleIds[C]&&this.handleIds[C][B])},getDDById:function(C){for(var B in this.ids){if(this.ids[B][C]){return this.ids[B][C]}}return null},handleMouseDown:function(C,D){if(Ext.QuickTips){Ext.QuickTips.disable()}if(this.dragCurrent){this.handleMouseUp(C)}this.currentTarget=C.getTarget();this.dragCurrent=D;var B=D.getEl();this.startX=C.getPageX();this.startY=C.getPageY();this.deltaX=this.startX-B.offsetLeft;this.deltaY=this.startY-B.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var E=Ext.dd.DDM;E.startDrag(E.startX,E.startY)},this.clickTimeThresh)},startDrag:function(B,C){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(B,C);this.dragCurrent.startDrag(B,C)}this.dragThreshMet=true},handleMouseUp:function(B){if(Ext.QuickTips){Ext.QuickTips.enable()}if(!this.dragCurrent){return }clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(B,true)}else{}this.stopDrag(B);this.stopEvent(B)},stopEvent:function(B){if(this.stopPropagation){B.stopPropagation()}if(this.preventDefault){B.preventDefault()}},stopDrag:function(B){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(B);this.dragCurrent.endDrag(B)}this.dragCurrent.onMouseUp(B)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(C){if(!this.dragCurrent){return true}if(Ext.isIE&&(C.button!==0&&C.button!==1&&C.button!==2)){this.stopEvent(C);return this.handleMouseUp(C)}if(!this.dragThreshMet){var D=Math.abs(this.startX-C.getPageX());var B=Math.abs(this.startY-C.getPageY());if(D>this.clickPixelThresh||B>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(C);this.dragCurrent.onDrag(C);if(!this.dragCurrent.moveOnly){this.fireEvents(C,false)}}this.stopEvent(C);return true},fireEvents:function(E,D){var B=this.dragCurrent;if(!B||B.isLocked()){return }var O=E.getPoint();var N=[];var K=[];var G=[];var I=[];var L=[];for(var J in this.dragOvers){var M=this.dragOvers[J];if(!this.isTypeOfDD(M)){continue}if(!this.isOverTarget(O,M,this.mode)){K.push(M)}N[J]=true;delete this.dragOvers[J]}for(var C in B.groups){if("string"!=typeof C){continue}for(J in this.ids[C]){var H=this.ids[C][J];if(!this.isTypeOfDD(H)){continue}if(H.isTarget&&!H.isLocked()&&H!=B){if(this.isOverTarget(O,H,this.mode)){if(D){I.push(H)}else{if(!N[H.id]){L.push(H)}else{G.push(H)}this.dragOvers[H.id]=H}}}}}if(this.mode){if(K.length){B.b4DragOut(E,K);B.onDragOut(E,K)}if(L.length){B.onDragEnter(E,L)}if(G.length){B.b4DragOver(E,G);B.onDragOver(E,G)}if(I.length){B.b4DragDrop(E,I);B.onDragDrop(E,I)}}else{var F=0;for(J=0,F=K.length;J<F;++J){B.b4DragOut(E,K[J].id);B.onDragOut(E,K[J].id)}for(J=0,F=L.length;J<F;++J){B.onDragEnter(E,L[J].id)}for(J=0,F=G.length;J<F;++J){B.b4DragOver(E,G[J].id);B.onDragOver(E,G[J].id)}for(J=0,F=I.length;J<F;++J){B.b4DragDrop(E,I[J].id);B.onDragDrop(E,I[J].id)}}if(D&&!I.length){B.onInvalidDrop(E)}},getBestMatch:function(E){var C=null;var F=E.length;if(F==1){C=E[0]}else{for(var D=0;D<F;++D){var B=E[D];if(B.cursorIsOver){C=B;break}else{if(!C||C.overlap.getArea()<B.overlap.getArea()){C=B}}}}return C},refreshCache:function(F){for(var B in F){if("string"!=typeof B){continue}for(var E in this.ids[B]){var D=this.ids[B][E];if(this.isTypeOfDD(D)){var C=this.getLocation(D);if(C){this.locationCache[D.id]=C}else{delete this.locationCache[D.id]}}}}},verifyEl:function(D){if(D){var B;if(Ext.isIE){try{B=D.offsetParent}catch(C){}}else{B=D.offsetParent}if(B){return true}}return false},getLocation:function(G){if(!this.isTypeOfDD(G)){return null}var I=G.getEl(),D,J,K,B,C,M,L,E,H;try{D=Ext.lib.Dom.getXY(I)}catch(F){}if(!D){return null}J=D[0];K=J+I.offsetWidth;B=D[1];C=B+I.offsetHeight;M=B-G.padding[0];L=K+G.padding[1];E=C+G.padding[2];H=J-G.padding[3];return new Ext.lib.Region(M,L,E,H)},isOverTarget:function(B,J,H){var F=this.locationCache[J.id];if(!F||!this.useCache){F=this.getLocation(J);this.locationCache[J.id]=F}if(!F){return false}J.cursorIsOver=F.contains(B);var C=this.dragCurrent;if(!C||!C.getTargetCoord||(!H&&!C.constrainX&&!C.constrainY)){return J.cursorIsOver}J.overlap=null;var E=C.getTargetCoord(B.x,B.y);var I=C.getDragEl();var G=new Ext.lib.Region(E.y,E.x+I.offsetWidth,E.y+I.offsetHeight,E.x);var D=G.intersect(F);if(D){J.overlap=D;return(H)?true:J.cursorIsOver}else{return false}},_onUnload:function(C,B){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var B in this.elementCache){delete this.elementCache[B]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(C){var B=this.elementCache[C];if(!B||!B.el){B=this.elementCache[C]=new this.ElementWrapper(Ext.getDom(C))}return B},getElement:function(B){return Ext.getDom(B)},getCss:function(C){var B=Ext.getDom(C);return(B)?B.style:null},ElementWrapper:function(B){this.el=B||null;this.id=this.el&&B.id;this.css=this.el&&B.style},getPosX:function(B){return Ext.lib.Dom.getX(B)},getPosY:function(B){return Ext.lib.Dom.getY(B)},swapNode:function(D,B){if(D.swapNode){D.swapNode(B)}else{var C=B.parentNode;var E=B.nextSibling;if(E==D){C.insertBefore(D,B)}else{if(B==D.nextSibling){C.insertBefore(B,D)}else{D.parentNode.replaceChild(B,D);C.insertBefore(D,E)}}}},getScroll:function(){var D,B,C=document.documentElement,E=document.body;if(C&&(C.scrollTop||C.scrollLeft)){D=C.scrollTop;B=C.scrollLeft}else{if(E){D=E.scrollTop;B=E.scrollLeft}else{}}return{top:D,left:B}},getStyle:function(C,B){return Ext.fly(C).getStyle(B)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(B,C){var D=Ext.lib.Dom.getXY(C);Ext.lib.Dom.setXY(B,D)},numericSort:function(B,C){return(B-C)},_timeoutCount:0,_addListeners:function(){var B=Ext.dd.DDM;if(Ext.lib.Event&&document){B._onLoad()}else{if(B._timeoutCount>2000){}else{setTimeout(B._addListeners,10);if(document&&document.body){B._timeoutCount+=1}}}},handleWasClicked:function(B,C){if(this.isHandle(C,B.id)){return true}else{var D=B.parentNode;while(D){if(this.isHandle(C,D.id)){return true}else{D=D.parentNode}}}return false}}}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners()}Ext.dd.DD=function(C,B,A){if(C){this.init(C,B,A)}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(D,A){var B=D-this.startPageX;var C=A-this.startPageY;this.setDelta(B,C)},setDelta:function(A,B){this.deltaX=A;this.deltaY=B},setDragElPos:function(C,A){var B=this.getDragEl();this.alignElWithMouse(B,C,A)},alignElWithMouse:function(H,D,E){var F=this.getTargetCoord(D,E);var A=H.dom?H:Ext.fly(H,"_dd");if(!this.deltaSetXY){var C=[F.x,F.y];A.setXY(C);var G=A.getLeft(true);var B=A.getTop(true);this.deltaSetXY=[G-F.x,B-F.y]}else{A.setLeftTop(F.x+this.deltaSetXY[0],F.y+this.deltaSetXY[1])}this.cachePosition(F.x,F.y);this.autoScroll(F.x,F.y,H.offsetHeight,H.offsetWidth);return F},cachePosition:function(A,B){if(A){this.lastPageX=A;this.lastPageY=B}else{var C=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=C[0];this.lastPageY=C[1]}},autoScroll:function(E,F,J,D){if(this.scroll){var C=Ext.lib.Dom.getViewHeight();var M=Ext.lib.Dom.getViewWidth();var A=this.DDM.getScrollTop();var K=this.DDM.getScrollLeft();var G=J+F;var B=D+E;var H=(C+A-F-this.deltaY);var I=(M+K-E-this.deltaX);var L=40;var N=(document.all)?80:30;if(G>C&&H<L){window.scrollTo(K,A+N)}if(F<A&&A>0&&F-A<L){window.scrollTo(K,A-N)}if(B>M&&I<L){window.scrollTo(K+N,A)}if(E<K&&K>0&&E-K<L){window.scrollTo(K-N,A)}}},getTargetCoord:function(D,A){var B=D-this.deltaX;var C=A-this.deltaY;if(this.constrainX){if(B<this.minX){B=this.minX}if(B>this.maxX){B=this.maxX}}if(this.constrainY){if(C<this.minY){C=this.minY}if(C>this.maxY){C=this.maxY}}B=this.getTick(B,this.xTicks);C=this.getTick(C,this.yTicks);return{x:B,y:C}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(A){this.autoOffset(A.getPageX(),A.getPageY())},b4Drag:function(A){this.setDragElPos(A.getPageX(),A.getPageY())},toString:function(){return("DD "+this.id)}});Ext.dd.DDProxy=function(C,B,A){if(C){this.init(C,B,A);this.initFrame()}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var A=this;var B=document.body;if(!B||!B.firstChild){setTimeout(function(){A.createFrame()},50);return }var C=this.getDragEl();if(!C){C=document.createElement("div");C.id=this.dragElId;var D=C.style;D.position="absolute";D.visibility="hidden";D.cursor="move";D.border="2px solid #aaa";D.zIndex=999;B.insertBefore(C,B.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(C,D){var E=this.getEl();var B=this.getDragEl();var A=B.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(A.width,10)/2),Math.round(parseInt(A.height,10)/2))}this.setDragElPos(C,D);Ext.fly(B).show()},_resizeProxy:function(){if(this.resizeFrame){var A=this.getEl();Ext.fly(this.getDragEl()).setSize(A.offsetWidth,A.offsetHeight)}},b4MouseDown:function(A){var B=A.getPageX();var C=A.getPageY();this.autoOffset(B,C);this.setDragElPos(B,C)},b4StartDrag:function(B,A){this.showFrame(B,A)},b4EndDrag:function(A){Ext.fly(this.getDragEl()).hide()},endDrag:function(C){var A=this.getEl();var B=this.getDragEl();B.style.visibility="";this.beforeMove();A.style.visibility="hidden";Ext.dd.DDM.moveToEl(A,B);B.style.visibility="hidden";A.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.dd.DDTarget=function(C,B,A){if(C){this.initTarget(C,B,A)}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{toString:function(){return("DDTarget "+this.id)}});Ext.dd.DragTracker=function(A){Ext.apply(this,A);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el)}};Ext.extend(Ext.dd.DragTracker,Ext.util.Observable,{active:false,tolerance:5,autoStart:false,initEl:function(A){this.el=Ext.get(A);A.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this)},onMouseDown:function(C,A){if(this.fireEvent("mousedown",this,C)!==false&&this.onBeforeStart(C)!==false){this.startXY=this.lastXY=C.getXY();this.dragTarget=this.delegate?A:this.el.dom;C.preventDefault();var B=Ext.getDoc();B.on("mouseup",this.onMouseUp,this);B.on("mousemove",this.onMouseMove,this);B.on("selectstart",this.stopSelect,this);if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this)}}},onMouseMove:function(C,D){C.preventDefault();var A=C.getXY(),B=this.startXY;this.lastXY=A;if(!this.active){if(Math.abs(B[0]-A[0])>this.tolerance||Math.abs(B[1]-A[1])>this.tolerance){this.triggerStart()}else{return }}this.fireEvent("mousemove",this,C);this.onDrag(C);this.fireEvent("drag",this,C)},onMouseUp:function(A){var B=Ext.getDoc();B.un("mousemove",this.onMouseMove,this);B.un("mouseup",this.onMouseUp,this);B.un("selectstart",this.stopSelect,this);A.preventDefault();this.clearStart();this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,A);this.onEnd(A);this.fireEvent("dragend",this,A)},triggerStart:function(A){this.clearStart();this.active=true;this.onStart(this.startXY);this.fireEvent("dragstart",this,this.startXY)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(A){A.stopEvent();return false},onBeforeStart:function(A){},onStart:function(A){},onDrag:function(A){},onEnd:function(A){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(A){return A?this.constrainModes[A].call(this,this.lastXY):this.lastXY},getOffset:function(C){var A=this.getXY(C);var B=this.startXY;return[B[0]-A[0],B[1]-A[1]]},constrainModes:{point:function(A){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion()}var B=this.dragRegion;B.left=A[0];B.top=A[1];B.right=A[0];B.bottom=A[1];B.constrainTo(this.elRegion);return[B.left,B.top]}}});Ext.dd.ScrollManager=function(){var H=Ext.dd.DragDropMgr;var F={};var I=null;var C={};var D=function(K){I=null;J()};var B=function(){if(H.dragCurrent){H.refreshCache(H.dragCurrent.groups)}};var G=function(){if(H.dragCurrent){var K=Ext.dd.ScrollManager;var L=C.el.ddScrollConfig?C.el.ddScrollConfig.increment:K.increment;if(!K.animate){if(C.el.scroll(C.dir,L)){B()}}else{C.el.scroll(C.dir,L,true,K.animDuration,B)}}};var J=function(){if(C.id){clearInterval(C.id)}C.id=0;C.el=null;C.dir=""};var E=function(M,K){J();C.el=M;C.dir=K;var L=(M.ddScrollConfig&&M.ddScrollConfig.frequency)?M.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;C.id=setInterval(G,L)};var A=function(L,S){if(S||!H.dragCurrent){return }var R=Ext.dd.ScrollManager;if(!I||I!=H.dragCurrent){I=H.dragCurrent;R.refreshCache()}var Q=Ext.lib.Event.getXY(L);var P=new Ext.lib.Point(Q[0],Q[1]);for(var N in F){var M=F[N],O=M._region;var K=M.ddScrollConfig?M.ddScrollConfig:R;if(O&&O.contains(P)&&M.isScrollable()){if(O.bottom-P.y<=K.vthresh){if(C.el!=M){E(M,"down")}return }else{if(O.right-P.x<=K.hthresh){if(C.el!=M){E(M,"left")}return }else{if(P.y-O.top<=K.vthresh){if(C.el!=M){E(M,"up")}return }else{if(P.x-O.left<=K.hthresh){if(C.el!=M){E(M,"right")}return }}}}}}J()};H.fireEvents=H.fireEvents.createSequence(A,H);H.stopDrag=H.stopDrag.createSequence(D,H);return{register:function(L){if(Ext.isArray(L)){for(var M=0,K=L.length;M<K;M++){this.register(L[M])}}else{L=Ext.get(L);F[L.id]=L}},unregister:function(L){if(Ext.isArray(L)){for(var M=0,K=L.length;M<K;M++){this.unregister(L[M])}}else{L=Ext.get(L);delete F[L.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,refreshCache:function(){for(var K in F){if(typeof F[K]=="object"){F[K]._region=F[K].getRegion()}}}}}();Ext.dd.Registry=function(){var C={};var A={};var B=0;var D=function(F,G){if(typeof F=="string"){return F}var E=F.id;if(!E&&G!==false){E="extdd-"+(++B);F.id=E}return E};return{register:function(F,E){E=E||{};if(typeof F=="string"){F=document.getElementById(F)}E.ddel=F;C[D(F)]=E;if(E.isHandle!==false){A[E.ddel.id]=E}if(E.handles){var G=E.handles;for(var H=0,I=G.length;H<I;H++){A[D(G[H])]=E}}},unregister:function(G){var E=D(G,false);var F=C[E];if(F){delete C[E];if(F.handles){var H=F.handles;for(var I=0,J=H.length;I<J;I++){delete A[D(H[I],false)]}}}},getHandle:function(E){if(typeof E!="string"){E=E.id}return A[E]},getHandleFromEvent:function(E){var F=Ext.lib.Event.getTarget(E);return F?A[F.id]:null},getTarget:function(E){if(typeof E!="string"){E=E.id}return C[E]},getTargetFromEvent:function(E){var F=Ext.lib.Event.getTarget(E);return F?C[F.id]||A[F.id]:null}}}();Ext.dd.StatusProxy=function(A){Ext.apply(this,A);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!A||A.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(A){A=A||this.dropNotAllowed;if(this.dropStatus!=A){this.el.replaceClass(this.dropStatus,A);this.dropStatus=A}},reset:function(A){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(A){this.ghost.update("")}},update:function(B){if(typeof B=="string"){this.ghost.update(B)}else{this.ghost.update("");B.style.margin="0";this.ghost.dom.appendChild(B)}var A=this.ghost.dom.firstChild;if(A){Ext.fly(A).setStyle(Ext.isIE?"styleFloat":"cssFloat","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(A){this.el.hide();if(A){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(A,C,B){this.callback=C;this.scope=B;if(A&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:A,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null}};Ext.dd.DragSource=function(A,B){this.el=Ext.get(A);if(!this.dragData){this.dragData={}}Ext.apply(this,B);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(A){return this.dragData},onDragEnter:function(D,C){var A=Ext.dd.DragDropMgr.getDDById(C);this.cachedTarget=A;if(this.beforeDragEnter(A,D,C)!==false){if(A.isNotifyTarget){var B=A.notifyEnter(this,D,this.dragData);this.proxy.setStatus(B)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(A,D,C)}}},beforeDragEnter:function(A,B,C){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(D,C){var A=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(C);if(this.beforeDragOver(A,D,C)!==false){if(A.isNotifyTarget){var B=A.notifyOver(this,D,this.dragData);this.proxy.setStatus(B)}if(this.afterDragOver){this.afterDragOver(A,D,C)}}},beforeDragOver:function(A,B,C){return true},onDragOut:function(A,C){var B=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(C);if(this.beforeDragOut(B,A,C)!==false){if(B.isNotifyTarget){B.notifyOut(this,A,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(B,A,C)}}this.cachedTarget=null},beforeDragOut:function(A,B,C){return true},onDragDrop:function(A,C){var B=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(C);if(this.beforeDragDrop(B,A,C)!==false){if(B.isNotifyTarget){if(B.notifyDrop(this,A,this.dragData)){this.onValidDrop(B,A,C)}else{this.onInvalidDrop(B,A,C)}}else{this.onValidDrop(B,A,C)}if(this.afterDragDrop){this.afterDragDrop(B,A,C)}}delete this.cachedTarget},beforeDragDrop:function(A,B,C){return true},onValidDrop:function(A,B,C){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(A,B,C)}},getRepairXY:function(A,B){return this.el.getXY()},onInvalidDrop:function(A,B,C){this.beforeInvalidDrop(A,B,C);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,B,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(B,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(B,C)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(A,B,C){return true},handleMouseDown:function(A){if(this.dragging){return }var B=this.getDragData(A);if(B&&this.onBeforeDrag(B,A)!==false){this.dragData=B;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(B,A){return true},onStartDrag:Ext.emptyFn,startDrag:function(B,A){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(B,A);this.proxy.show()},onInitDrag:function(B,C){var A=this.el.dom.cloneNode(true);A.id=Ext.id();this.proxy.update(A);this.onStartDrag(B,C);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(A){},endDrag:function(A){this.onEndDrag(this.dragData,A)},onEndDrag:function(B,A){},autoOffset:function(B,A){this.setDelta(-12,-20)}});Ext.dd.DropTarget=function(A,B){this.el=Ext.get(A);Ext.apply(this,B);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})};Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(B,C,A){if(this.overClass){this.el.addClass(this.overClass)}return this.dropAllowed},notifyOver:function(B,C,A){return this.dropAllowed},notifyOut:function(B,C,A){if(this.overClass){this.el.removeClass(this.overClass)}},notifyDrop:function(B,C,A){return false}});Ext.dd.DragZone=function(A,B){Ext.dd.DragZone.superclass.constructor.call(this,A,B);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}};Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(A){return Ext.dd.Registry.getHandleFromEvent(A)},onInitDrag:function(B,A){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(B,A);return true},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false},getRepairXY:function(A){return Ext.Element.fly(this.dragData.ddel).getXY()}});Ext.dd.DropZone=function(A,B){Ext.dd.DropZone.superclass.constructor.call(this,A,B)};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(A){return Ext.dd.Registry.getTargetFromEvent(A)},onNodeEnter:function(C,B,D,A){},onNodeOver:function(C,B,D,A){return this.dropAllowed},onNodeOut:function(C,B,D,A){},onNodeDrop:function(C,B,D,A){return false},onContainerOver:function(B,C,A){return this.dropNotAllowed},onContainerDrop:function(B,C,A){return false},notifyEnter:function(B,C,A){return this.dropNotAllowed},notifyOver:function(B,D,A){var C=this.getTargetFromEvent(D);if(!C){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,B,D,A);this.lastOverNode=null}return this.onContainerOver(B,D,A)}if(this.lastOverNode!=C){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,B,D,A)}this.onNodeEnter(C,B,D,A);this.lastOverNode=C}return this.onNodeOver(C,B,D,A)},notifyOut:function(B,C,A){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,B,C,A);this.lastOverNode=null}},notifyDrop:function(B,D,A){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,B,D,A);this.lastOverNode=null}var C=this.getTargetFromEvent(D);return C?this.onNodeDrop(C,B,D,A):this.onContainerDrop(B,D,A)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.data.SortTypes={none:function(A){return A},stripTagsRE:/<\/?[^>]+>/gi,asText:function(A){return String(A).replace(this.stripTagsRE,"")},asUCText:function(A){return String(A).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(A){return String(A).toUpperCase()},asDate:function(A){if(!A){return 0}if(Ext.isDate(A)){return A.getTime()}return Date.parse(String(A))},asFloat:function(B){var A=parseFloat(String(B).replace(/,/g,""));if(isNaN(A)){A=0}return A},asInt:function(B){var A=parseInt(String(B).replace(/,/g,""));if(isNaN(A)){A=0}return A}};Ext.data.Record=function(B,A){this.id=(A||A===0)?A:++Ext.data.Record.AUTO_ID;this.data=B};Ext.data.Record.create=function(C){var E=Ext.extend(Ext.data.Record,{});var D=E.prototype;D.fields=new Ext.util.MixedCollection(false,function(F){return F.name});for(var A=0,B=C.length;A<B;A++){D.fields.add(new Ext.data.Field(C[A]))}E.getField=function(F){return D.fields.get(F)};return E};Ext.data.Record.AUTO_ID=1000;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,join:function(A){this.store=A},set:function(B,A){if(String(this.data[B])==String(A)){return }this.dirty=true;if(!this.modified){this.modified={}}if(typeof this.modified[B]=="undefined"){this.modified[B]=this.data[B]}this.data[B]=A;if(!this.editing&&this.store){this.store.afterEdit(this)}},get:function(A){return this.data[A]},beginEdit:function(){this.editing=true;this.modified={}},cancelEdit:function(){this.editing=false;delete this.modified},endEdit:function(){this.editing=false;if(this.dirty&&this.store){this.store.afterEdit(this)}},reject:function(A){var B=this.modified;for(var C in B){if(typeof B[C]!="function"){this.data[C]=B[C]}}this.dirty=false;delete this.modified;this.editing=false;if(this.store&&A!==true){this.store.afterReject(this)}},commit:function(A){this.dirty=false;delete this.modified;this.editing=false;if(this.store&&A!==true){this.store.afterCommit(this)}},getChanges:function(){var B=this.modified,A={};for(var C in B){if(B.hasOwnProperty(C)){A[C]=this.data[C]}}return A},hasError:function(){return this.error!=null},clearError:function(){this.error=null},copy:function(A){return new this.constructor(Ext.apply({},this.data),A||this.id)},isModified:function(A){return !!(this.modified&&this.modified.hasOwnProperty(A))}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var B=0,A;A=arguments[B];B++){this.add(A)}},unregister:function(){for(var B=0,A;A=arguments[B];B++){this.remove(this.lookup(A))}},lookup:function(A){return typeof A=="object"?A:this.get(A)},getKey:function(A){return A.storeId||A.id}});Ext.data.Store=function(A){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(B){return B.id};this.baseParams={};this.paramNames={start:"start",limit:"limit",sort:"sort",dir:"dir"};if(A&&A.data){this.inlineData=A.data;delete A.data}Ext.apply(this,A);if(this.url&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url})}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType}if(this.reader.onMetaChange){this.reader.onMetaChange=this.onMetaChange.createDelegate(this)}}if(this.recordType){this.fields=this.recordType.prototype.fields}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","beforeload","load","loadexception");if(this.proxy){this.relayEvents(this.proxy,["loadexception"])}this.sortToggle={};if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction)}Ext.data.Store.superclass.constructor.call(this);if(this.storeId||this.id){Ext.StoreMgr.register(this)}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}};Ext.extend(Ext.data.Store,Ext.util.Observable,{remoteSort:false,pruneModifiedRecords:false,lastOptions:null,destroy:function(){if(this.storeId||this.id){Ext.StoreMgr.unregister(this)}this.data=null;this.purgeListeners()},add:function(A){A=[].concat(A);if(A.length<1){return }for(var C=0,B=A.length;C<B;C++){A[C].join(this)}var D=this.data.length;this.data.addAll(A);if(this.snapshot){this.snapshot.addAll(A)}this.fireEvent("add",this,A,D)},addSorted:function(B){var A=this.findInsertIndex(B);this.insert(A,B)},remove:function(B){var A=this.data.indexOf(B);this.data.removeAt(A);if(this.pruneModifiedRecords){this.modified.remove(B)}if(this.snapshot){this.snapshot.remove(B)}this.fireEvent("remove",this,B,A)},removeAt:function(A){this.remove(this.getAt(A))},removeAll:function(){this.data.clear();if(this.snapshot){this.snapshot.clear()}if(this.pruneModifiedRecords){this.modified=[]}this.fireEvent("clear",this)},insert:function(D,A){A=[].concat(A);for(var C=0,B=A.length;C<B;C++){this.data.insert(D,A[C]);A[C].join(this)}this.fireEvent("add",this,A,D)},indexOf:function(A){return this.data.indexOf(A)},indexOfId:function(A){return this.data.indexOfKey(A)},getById:function(A){return this.data.key(A)},getAt:function(A){return this.data.itemAt(A)},getRange:function(A,B){return this.data.getRange(A,B)},storeOptions:function(A){A=Ext.apply({},A);delete A.callback;delete A.scope;this.lastOptions=A},load:function(A){A=A||{};if(this.fireEvent("beforeload",this,A)!==false){this.storeOptions(A);var C=Ext.apply(A.params||{},this.baseParams);if(this.sortInfo&&this.remoteSort){var B=this.paramNames;C[B.sort]=this.sortInfo.field;C[B.dir]=this.sortInfo.direction}this.proxy.load(C,this.reader,this.loadRecords,this,A);return true}else{return false}},reload:function(A){this.load(Ext.applyIf(A||{},this.lastOptions))},loadRecords:function(C,A,D){if(!C||D===false){if(D!==false){this.fireEvent("load",this,[],A)}if(A.callback){A.callback.call(A.scope||this,[],A,false)}return }var E=C.records,F=C.totalRecords||E.length;if(!A||A.add!==true){if(this.pruneModifiedRecords){this.modified=[]}for(var G=0,B=E.length;G<B;G++){E[G].join(this)}if(this.snapshot){this.data=this.snapshot;delete this.snapshot}this.data.clear();this.data.addAll(E);this.totalLength=F;this.applySort();this.fireEvent("datachanged",this)}else{this.totalLength=Math.max(F,this.data.length+E.length);this.add(E)}this.fireEvent("load",this,E,A);if(A.callback){A.callback.call(A.scope||this,E,A,true)}},loadData:function(C,B){var A=this.reader.readRecords(C);this.loadRecords(A,{add:B},true)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if(this.sortInfo&&!this.remoteSort){var B=this.sortInfo,A=B.field;this.sortData(A,B.direction)}},sortData:function(D,C){C=C||"ASC";var B=this.fields.get(D).sortType;var A=function(G,H){var E=B(G.data[D]),F=B(H.data[D]);return E>F?1:(E<F?-1:0)};this.data.sort(C,A);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(C,A)}},setDefaultSort:function(A,B){B=B?B.toUpperCase():"ASC";this.sortInfo={field:A,direction:B};this.sortToggle[A]=B},sort:function(C,E){var D=this.fields.get(C);if(!D){return false}if(!E){if(this.sortInfo&&this.sortInfo.field==D.name){E=(this.sortToggle[D.name]||"ASC").toggle("ASC","DESC")}else{E=D.sortDir}}var A=(this.sortToggle)?this.sortToggle[D.name]:null;var B=(this.sortInfo)?this.sortInfo:null;this.sortToggle[D.name]=E;this.sortInfo={field:D.name,direction:E};if(!this.remoteSort){this.applySort();this.fireEvent("datachanged",this)}else{if(!this.load(this.lastOptions)){if(A){this.sortToggle[D.name]=A}if(B){this.sortInfo=B}}}},each:function(A,B){this.data.each(A,B)},getModifiedRecords:function(){return this.modified},createFilterFn:function(D,A,C,B){if(Ext.isEmpty(A,false)){return false}A=this.data.createValueMatcher(A,C,B);return function(E){return A.test(E.data[D])}},sum:function(D,C,B){var F=this.data.items,A=0;C=C||0;B=(B||B===0)?B:F.length-1;for(var E=C;E<=B;E++){A+=(F[E].data[D]||0)}return A},filter:function(D,E,C,B){var A=this.createFilterFn(D,E,C,B);return A?this.filterBy(A):this.clearFilter()},filterBy:function(A,B){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(A,B||this);this.fireEvent("datachanged",this)},query:function(D,E,C,B){var A=this.createFilterFn(D,E,C,B);return A?this.queryBy(A):this.data.clone()},queryBy:function(A,B){var C=this.snapshot||this.data;return C.filterBy(A,B||this)},find:function(E,F,C,D,B){var A=this.createFilterFn(E,F,D,B);return A?this.data.findIndexBy(A,null,C):-1},findBy:function(A,B,C){return this.data.findIndexBy(A,B,C)},collect:function(D,C,I){var E=(I===true&&this.snapshot)?this.snapshot.items:this.data.items;var B,A,J=[],H={};for(var G=0,F=E.length;G<F;G++){B=E[G].data[D];A=String(B);if((C||!Ext.isEmpty(B))&&!H[A]){H[A]=true;J[J.length]=B}}return J},clearFilter:function(A){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(A!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return this.snapshot&&this.snapshot!=this.data},afterEdit:function(A){if(this.modified.indexOf(A)==-1){this.modified.push(A)}this.fireEvent("update",this,A,Ext.data.Record.EDIT)},afterReject:function(A){this.modified.remove(A);this.fireEvent("update",this,A,Ext.data.Record.REJECT)},afterCommit:function(A){this.modified.remove(A);this.fireEvent("update",this,A,Ext.data.Record.COMMIT)},commitChanges:function(){var A=this.modified.slice(0);this.modified=[];for(var C=0,B=A.length;C<B;C++){A[C].commit()}},rejectChanges:function(){var A=this.modified.slice(0);this.modified=[];for(var C=0,B=A.length;C<B;C++){A[C].reject()}},onMetaChange:function(A,B,C){this.recordType=B;this.fields=B.prototype.fields;delete this.snapshot;this.sortInfo=A.sortInfo;this.modified=[];this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(B){this.suspendEvents();var C=this.data.clone();this.data.add(B);this.applySort();var A=this.data.indexOf(B);this.data=C;this.resumeEvents();return A}});Ext.data.SimpleStore=function(A){Ext.data.SimpleStore.superclass.constructor.call(this,Ext.apply(A,{reader:new Ext.data.ArrayReader({id:A.id},Ext.data.Record.create(A.fields))}))};Ext.extend(Ext.data.SimpleStore,Ext.data.Store,{loadData:function(C,A){if(this.expandData===true){var D=[];for(var E=0,B=C.length;E<B;E++){D[D.length]=[C[E]]}C=D}Ext.data.SimpleStore.superclass.loadData.call(this,C,A)}});Ext.data.JsonStore=function(A){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(A,{proxy:A.proxy||(!A.data?new Ext.data.HttpProxy({url:A.url}):undefined),reader:new Ext.data.JsonReader(A,A.fields)}))};Ext.extend(Ext.data.JsonStore,Ext.data.Store);Ext.data.Field=function(D){if(typeof D=="string"){D={name:D}}Ext.apply(this,D);if(!this.type){this.type="auto"}var E=Ext.data.SortTypes;if(typeof this.sortType=="string"){this.sortType=E[this.sortType]}if(!this.sortType){switch(this.type){case"string":this.sortType=E.asUCString;break;case"date":this.sortType=E.asDate;break;default:this.sortType=E.none}}var C=/[\$,%]/g;if(!this.convert){var A,B=this.dateFormat;switch(this.type){case"":case"auto":case undefined:A=function(F){return F};break;case"string":A=function(F){return(F===undefined||F===null)?"":String(F)};break;case"int":A=function(F){return F!==undefined&&F!==null&&F!==""?parseInt(String(F).replace(C,""),10):""};break;case"float":A=function(F){return F!==undefined&&F!==null&&F!==""?parseFloat(String(F).replace(C,""),10):""};break;case"bool":case"boolean":A=function(F){return F===true||F==="true"||F==1};break;case"date":A=function(F){if(!F){return""}if(Ext.isDate(F)){return F}if(B){if(B=="timestamp"){return new Date(F*1000)}if(B=="time"){return new Date(parseInt(F,10))}return Date.parseDate(F,B)}var G=Date.parse(F);return G?new Date(G):null};break}this.convert=A}};Ext.data.Field.prototype={dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC"};Ext.data.DataReader=function(B,A){this.meta=B;this.recordType=Ext.isArray(A)?Ext.data.Record.create(A):A};Ext.data.DataReader.prototype={};Ext.data.DataProxy=function(){this.addEvents("beforeload","load");Ext.data.DataProxy.superclass.constructor.call(this)};Ext.extend(Ext.data.DataProxy,Ext.util.Observable);Ext.data.MemoryProxy=function(A){Ext.data.MemoryProxy.superclass.constructor.call(this);this.data=A};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{load:function(D,G,C,F,A){D=D||{};var B;try{B=G.readRecords(this.data)}catch(E){this.fireEvent("loadexception",this,A,null,E);C.call(F,null,A,false);return }C.call(F,B,A,true)},update:function(A,B){}});Ext.data.HttpProxy=function(A){Ext.data.HttpProxy.superclass.constructor.call(this);this.conn=A;this.useAjax=!A||!A.events};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},load:function(D,A,C,F,B){if(this.fireEvent("beforeload",this,D)!==false){var E={params:D||{},request:{callback:C,scope:F,arg:B},reader:A,callback:this.loadResponse,scope:this};if(this.useAjax){Ext.applyIf(E,this.conn);if(this.activeRequest){Ext.Ajax.abort(this.activeRequest)}this.activeRequest=Ext.Ajax.request(E)}else{this.conn.request(E)}}else{C.call(F||this,null,B,false)}},loadResponse:function(C,D,A){delete this.activeRequest;if(!D){this.fireEvent("loadexception",this,C,A);C.request.callback.call(C.request.scope,null,C.request.arg,false);return }var B;try{B=C.reader.read(A)}catch(E){this.fireEvent("loadexception",this,C,A,E);C.request.callback.call(C.request.scope,null,C.request.arg,false);return }this.fireEvent("load",this,C,C.request.arg);C.request.callback.call(C.request.scope,B,C.request.arg,true)},update:function(A){},updateResponse:function(A){}});Ext.data.ScriptTagProxy=function(A){Ext.data.ScriptTagProxy.superclass.constructor.call(this);Ext.apply(this,A);this.head=document.getElementsByTagName("head")[0]};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,load:function(G,F,D,C,B){if(this.fireEvent("beforeload",this,G)!==false){var I=Ext.urlEncode(Ext.apply(G,this.extraParams));var J=this.url;J+=(J.indexOf("?")!=-1?"&":"?")+I;if(this.nocache){J+="&_dc="+(new Date().getTime())}var K=++Ext.data.ScriptTagProxy.TRANS_ID;var A={id:K,cb:"stcCallback"+K,scriptId:"stcScript"+K,params:G,arg:B,url:J,callback:D,scope:C,reader:F};var H=this;window[A.cb]=function(L){H.handleResponse(L,A)};J+=String.format("&{0}={1}",this.callbackParam,A.cb);if(this.autoAbort!==false){this.abort()}A.timeoutId=this.handleFailure.defer(this.timeout,this,[A]);var E=document.createElement("script");E.setAttribute("src",J);E.setAttribute("type","text/javascript");E.setAttribute("id",A.scriptId);this.head.appendChild(E);this.trans=A}else{D.call(C||this,null,B,false)}},isLoading:function(){return this.trans?true:false},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans)}},destroyTrans:function(A,B){this.head.removeChild(document.getElementById(A.scriptId));clearTimeout(A.timeoutId);if(B){window[A.cb]=undefined;try{delete window[A.cb]}catch(C){}}else{window[A.cb]=function(){window[A.cb]=undefined;try{delete window[A.cb]}catch(D){}}}},handleResponse:function(C,A){this.trans=false;this.destroyTrans(A,true);var B;try{B=A.reader.readRecords(C)}catch(D){this.fireEvent("loadexception",this,C,A.arg,D);A.callback.call(A.scope||window,null,A.arg,false);return }this.fireEvent("load",this,C,A.arg);A.callback.call(A.scope||window,B,A.arg,true)},handleFailure:function(A){this.trans=false;this.destroyTrans(A,false);this.fireEvent("loadexception",this,null,A.arg);A.callback.call(A.scope||window,null,A.arg,false)}});Ext.data.JsonReader=function(B,A){B=B||{};Ext.data.JsonReader.superclass.constructor.call(this,B,A||B.fields)};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(response){var json=response.responseText;var o=eval("("+json+")");if(!o){throw {message:"JsonReader.read: Json object not found"}}return this.readRecords(o)},onMetaChange:function(B,C,A){},simpleAccess:function(A,B){return A[B]},getJsonAccessor:function(){var A=/[\[\.]/;return function(C){try{return(A.test(C))?new Function("obj","return obj."+C):function(D){return D[C]}}catch(B){}return Ext.emptyFn}}(),readRecords:function(K){this.jsonData=K;if(K.metaData){delete this.ef;this.meta=K.metaData;this.recordType=Ext.data.Record.create(K.metaData.fields);this.onMetaChange(this.meta,this.recordType,K)}var P=this.meta,W=this.recordType,N=W.prototype.fields,R=N.items,S=N.length;if(!this.ef){if(P.totalProperty){this.getTotal=this.getJsonAccessor(P.totalProperty)}if(P.successProperty){this.getSuccess=this.getJsonAccessor(P.successProperty)}this.getRoot=P.root?this.getJsonAccessor(P.root):function(A){return A};if(P.id){var D=this.getJsonAccessor(P.id);this.getId=function(A){var B=D(A);return(B===undefined||B==="")?null:B}}else{this.getId=function(){return null}}this.ef=[];for(var F=0;F<S;F++){N=R[F];var J=(N.mapping!==undefined&&N.mapping!==null)?N.mapping:N.name;this.ef[F]=this.getJsonAccessor(J)}}var H=this.getRoot(K),M=H.length,O=M,T=true;if(P.totalProperty){var Q=parseInt(this.getTotal(K),10);if(!isNaN(Q)){O=Q}}if(P.successProperty){var Q=this.getSuccess(K);if(Q===false||Q==="false"){T=false}}var E=[];for(var F=0;F<M;F++){var I=H[F];var V={};var L=this.getId(I);for(var G=0;G<S;G++){N=R[G];var Q=this.ef[G](I);V[N.name]=N.convert((Q!==undefined)?Q:N.defaultValue,I)}var U=new W(V,L);U.json=I;E[F]=U}return{success:T,records:E,totalRecords:O}}});Ext.data.XmlReader=function(B,A){B=B||{};Ext.data.XmlReader.superclass.constructor.call(this,B,A||B.fields)};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(B){var A=B.responseXML;if(!A){throw {message:"XmlReader.read: XML Document not available"}}return this.readRecords(A)},readRecords:function(B){this.xmlData=B;var H=B.documentElement||B;var N=Ext.DomQuery;var U=this.recordType,K=U.prototype.fields;var S=this.meta.id;var P=0,R=true;if(this.meta.totalRecords){P=N.selectNumber(this.meta.totalRecords,H,0)}if(this.meta.success){var L=N.selectValue(this.meta.success,H,true);R=L!==false&&L!=="false"}var E=[];var J=N.select(this.meta.record,H);for(var F=0,D=J.length;F<D;F++){var I=J[F];var V={};var M=S?N.selectValue(S,I):undefined;for(var G=0,O=K.length;G<O;G++){var C=K.items[G];var Q=N.selectValue(C.mapping||C.name,I,C.defaultValue);Q=C.convert(Q,I);V[C.name]=Q}var T=new U(V,M);T.node=I;E[E.length]=T}return{success:R,records:E,totalRecords:P||E.length}}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(J){var K=this.meta?this.meta.id:null;var F=this.recordType,B=F.prototype.fields;var H=[];var P=J;for(var D=0;D<P.length;D++){var I=P[D];var N={};var L=((K||K===0)&&I[K]!==undefined&&I[K]!==""?I[K]:null);for(var E=0,M=B.length;E<M;E++){var A=B.items[E];var G=A.mapping!==undefined&&A.mapping!==null?A.mapping:E;var O=I[G]!==undefined?I[G]:A.defaultValue;O=A.convert(O,I);N[A.name]=O}var C=new F(N,L);C.json=I;H[H.length]=C}return{records:H,totalRecords:H.length}}});Ext.data.Tree=function(A){this.nodeHash={};this.root=null;if(A){this.setRootNode(A)}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)};Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(A){this.root=A;A.ownerTree=this;A.isRoot=true;this.registerNode(A);return A},getNodeById:function(A){return this.nodeHash[A]},registerNode:function(A){this.nodeHash[A.id]=A},unregisterNode:function(A){delete this.nodeHash[A.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});Ext.data.Node=function(A){this.attributes=A||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"ynode-");this.attributes.id=this.id}this.childNodes=[];if(!this.childNodes.indexOf){this.childNodes.indexOf=function(C){for(var D=0,B=this.length;D<B;D++){if(this[D]==C){return D}}return -1}}this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)};Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(A){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false}var B=this.getOwnerTree();if(B){if(B.proxyNodeEvent.apply(B,arguments)===false){return false}}return true},isLeaf:function(){return this.leaf===true},setFirstChild:function(A){this.firstChild=A},setLastChild:function(A){this.lastChild=A},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this)},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this)},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(E){var D=false;if(Ext.isArray(E)){D=E}else{if(arguments.length>1){D=arguments}}if(D){for(var F=0,B=D.length;F<B;F++){this.appendChild(D[F])}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,E)===false){return false}var A=this.childNodes.length;var G=E.parentNode;if(G){if(E.fireEvent("beforemove",E.getOwnerTree(),E,G,this,A)===false){return false}G.removeChild(E)}A=this.childNodes.length;if(A==0){this.setFirstChild(E)}this.childNodes.push(E);E.parentNode=this;var C=this.childNodes[A-1];if(C){E.previousSibling=C;C.nextSibling=E}else{E.previousSibling=null}E.nextSibling=null;this.setLastChild(E);E.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,E,A);if(G){E.fireEvent("move",this.ownerTree,E,G,this,A)}return E}},removeChild:function(A){var B=this.childNodes.indexOf(A);if(B==-1){return false}if(this.fireEvent("beforeremove",this.ownerTree,this,A)===false){return false}this.childNodes.splice(B,1);if(A.previousSibling){A.previousSibling.nextSibling=A.nextSibling}if(A.nextSibling){A.nextSibling.previousSibling=A.previousSibling}if(this.firstChild==A){this.setFirstChild(A.nextSibling)}if(this.lastChild==A){this.setLastChild(A.previousSibling)}A.setOwnerTree(null);A.parentNode=null;A.previousSibling=null;A.nextSibling=null;this.fireEvent("remove",this.ownerTree,this,A);return A},insertBefore:function(E,B){if(!B){return this.appendChild(E)}if(E==B){return false}if(this.fireEvent("beforeinsert",this.ownerTree,this,E,B)===false){return false}var A=this.childNodes.indexOf(B);var F=E.parentNode;var D=A;if(F==this&&this.childNodes.indexOf(E)<A){D--}if(F){if(E.fireEvent("beforemove",E.getOwnerTree(),E,F,this,A,B)===false){return false}F.removeChild(E)}if(D==0){this.setFirstChild(E)}this.childNodes.splice(D,0,E);E.parentNode=this;var C=this.childNodes[D-1];if(C){E.previousSibling=C;C.nextSibling=E}else{E.previousSibling=null}E.nextSibling=B;B.previousSibling=E;E.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,E,B);if(F){E.fireEvent("move",this.ownerTree,E,F,this,D,B)}return E},remove:function(){this.parentNode.removeChild(this);return this},item:function(A){return this.childNodes[A]},replaceChild:function(B,C){var A=C?C.nextSibling:null;this.removeChild(C);this.insertBefore(B,A);return C},indexOf:function(A){return this.childNodes.indexOf(A)},getOwnerTree:function(){if(!this.ownerTree){var A=this;while(A){if(A.ownerTree){this.ownerTree=A.ownerTree;break}A=A.parentNode}}return this.ownerTree},getDepth:function(){var A=0;var B=this;while(B.parentNode){++A;B=B.parentNode}return A},setOwnerTree:function(A){if(A!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this)}this.ownerTree=A;var C=this.childNodes;for(var D=0,B=C.length;D<B;D++){C[D].setOwnerTree(A)}if(A){A.registerNode(this)}}},getPath:function(D){D=D||"id";var B=this.parentNode;var A=[this.attributes[D]];while(B){A.unshift(B.attributes[D]);B=B.parentNode}var C=this.getOwnerTree().pathSeparator;return C+A.join(C)},bubble:function(D,A,B){var C=this;while(C){if(D.apply(A||C,B||[C])===false){break}C=C.parentNode}},cascade:function(C,D,A){if(C.apply(D||this,A||[this])!==false){var E=this.childNodes;for(var F=0,B=E.length;F<B;F++){E[F].cascade(C,D,A)}}},eachChild:function(C,D,A){var E=this.childNodes;for(var F=0,B=E.length;F<B;F++){if(C.apply(D||this,A||[E[F]])===false){break}}},findChild:function(D,C){var E=this.childNodes;for(var A=0,B=E.length;A<B;A++){if(E[A].attributes[D]==C){return E[A]}}return null},findChildBy:function(C,D){var E=this.childNodes;for(var A=0,B=E.length;A<B;A++){if(C.call(D||E[A],E[A])===true){return E[A]}}return null},sort:function(E,F){var G=this.childNodes;var B=G.length;if(B>0){var D=F?function(){E.apply(F,arguments)}:E;G.sort(D);for(var A=0;A<B;A++){var C=G[A];C.previousSibling=G[A-1];C.nextSibling=G[A+1];if(A==0){this.setFirstChild(C)}if(A==B-1){this.setLastChild(C)}}}},contains:function(A){return A.isAncestor(this)},isAncestor:function(B){var A=this.parentNode;while(A){if(A==B){return true}A=A.parentNode}return false},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{remoteGroup:false,groupOnSort:false,clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy}this.reload()}else{this.applySort();this.fireEvent("datachanged",this)}},groupBy:function(C,A){if(this.groupField==C&&!A){return }this.groupField=C;if(this.remoteGroup){if(!this.baseParams){this.baseParams={}}this.baseParams.groupBy=C}if(this.groupOnSort){this.sort(C);return }if(this.remoteGroup){this.reload()}else{var B=this.sortInfo||{};if(B.field!=C){this.applySort()}else{this.sortData(C)}this.fireEvent("datachanged",this)}},applySort:function(){Ext.data.GroupingStore.superclass.applySort.call(this);if(!this.groupOnSort&&!this.remoteGroup){var A=this.getGroupState();if(A&&A!=this.sortInfo.field){this.sortData(this.groupField)}}},applyGrouping:function(A){if(this.groupField!==false){this.groupBy(this.groupField,true);return true}else{if(A===true){this.fireEvent("datachanged",this)}return false}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField}});Ext.ComponentMgr=function(){var A=new Ext.util.MixedCollection();var B={};return{register:function(C){A.add(C)},unregister:function(C){A.remove(C)},get:function(C){return A.get(C)},onAvailable:function(C,D,E){A.on("add",function(G,F){if(F.id==C){D.call(E||F,F);A.un("add",D,E)}})},all:A,registerType:function(C,D){B[C]=D;D.xtype=C},create:function(D,C){return new B[D.xtype||C](D)}}}();Ext.reg=Ext.ComponentMgr.registerType;Ext.Component=function(A){A=A||{};if(A.initialConfig){if(A.isAction){this.baseAction=A}A=A.initialConfig}else{if(A.tagName||A.dom||typeof A=="string"){A={applyTo:A,id:A.id||A}}}this.initialConfig=A;Ext.apply(this,A);this.addEvents("disable","enable","beforeshow","show","beforehide","hide","beforerender","render","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this)}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var C=0,B=this.plugins.length;C<B;C++){this.plugins[C]=this.initPlugin(this.plugins[C])}}else{this.plugins=this.initPlugin(this.plugins)}}if(this.stateful!==false){this.initState(A)}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,hidden:false,disabled:false,rendered:false,ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(A){A.init(this);return A},initComponent:Ext.emptyFn,render:function(A,B){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!A&&this.el){this.el=Ext.get(this.el);A=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(A);if(this.ctCls){this.container.addClass(this.ctCls)}this.rendered=true;if(B!==undefined){if(typeof B=="number"){B=this.container.dom.childNodes[B]}else{B=Ext.getDom(B)}}this.onRender(this.container,B||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode])}if(this.cls){this.el.addClass(this.cls);delete this.cls}if(this.style){this.el.applyStyles(this.style);delete this.style}if(this.overCls){this.el.addClassOnOver(this.overCls)}this.fireEvent("render",this);this.afterRender(this.container);if(this.hidden){this.hide()}if(this.disabled){this.disable()}if(this.stateful!==false){this.initStateEvents()}}return this},initState:function(B){if(Ext.state.Manager){var C=this.getStateId();if(C){var A=Ext.state.Manager.get(C);if(A){if(this.fireEvent("beforestaterestore",this,A)!==false){this.applyState(A);this.fireEvent("staterestore",this,A)}}}}},getStateId:function(){return this.stateId||((this.id.indexOf("ext-comp-")==0||this.id.indexOf("ext-gen")==0)?null:this.id)},initStateEvents:function(){if(this.stateEvents){for(var B=0,A;A=this.stateEvents[B];B++){this.on(A,this.saveState,this,{delay:100})}}},applyState:function(A,B){if(A){Ext.apply(this,A)}},getState:function(){return null},saveState:function(){if(Ext.state.Manager){var A=this.getStateId();if(A){var B=this.getState();if(this.fireEvent("beforestatesave",this,B)!==false){Ext.state.Manager.set(A,B);this.fireEvent("statesave",this,B)}}}},applyToMarkup:function(A){this.allowDomMove=false;this.el=Ext.get(A);this.render(this.el.dom.parentNode)},addClass:function(A){if(this.el){this.el.addClass(A)}else{this.cls=this.cls?this.cls+" "+A:A}},removeClass:function(A){if(this.el){this.el.removeClass(A)}else{if(this.cls){this.cls=this.cls.split(" ").remove(A).join(" ")}}},onRender:function(A,B){if(this.autoEl){if(typeof this.autoEl=="string"){this.el=document.createElement(this.autoEl)}else{var C=document.createElement("div");Ext.DomHelper.overwrite(C,this.autoEl);this.el=C.firstChild}if(!this.el.id){this.el.id=this.getId()}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){A.dom.insertBefore(this.el.dom,B)}}},getAutoCreate:function(){var A=typeof this.autoCreate=="object"?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!A.id){A.id=this.id}return A},afterRender:Ext.emptyFn,destroy:function(){if(this.fireEvent("beforedestroy",this)!==false){this.beforeDestroy();if(this.rendered){this.el.removeAllListeners();this.el.remove();if(this.actionMode=="container"){this.container.remove()}}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners()}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.getId()},focus:function(A,B){if(B){this.focus.defer(typeof B=="number"?B:10,this,[A,false]);return }if(this.rendered){this.el.focus();if(A===true){this.el.dom.select()}}return this},blur:function(){if(this.rendered){this.el.blur()}return this},disable:function(){if(this.rendered){this.onDisable()}this.disabled=true;this.fireEvent("disable",this);return this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true},enable:function(){if(this.rendered){this.onEnable()}this.disabled=false;this.fireEvent("enable",this);return this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false},setDisabled:function(A){this[A?"disable":"enable"]()},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(typeof this.autoRender=="boolean"?Ext.getBody():this.autoRender)}if(this.rendered){this.onShow()}this.fireEvent("show",this)}return this},onShow:function(){if(this.hideParent){this.container.removeClass("x-hide-"+this.hideMode)}else{this.getActionEl().removeClass("x-hide-"+this.hideMode)}},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide()}this.fireEvent("hide",this)}return this},onHide:function(){if(this.hideParent){this.container.addClass("x-hide-"+this.hideMode)}else{this.getActionEl().addClass("x-hide-"+this.hideMode)}},setVisible:function(A){if(A){this.show()}else{this.hide()}return this},isVisible:function(){return this.rendered&&this.getActionEl().isVisible()},cloneConfig:function(A){A=A||{};var C=A.id||Ext.id();var B=Ext.applyIf(A,this.initialConfig);B.id=C;return new this.constructor(B)},getXType:function(){return this.constructor.xtype},isXType:function(A,B){if(typeof A=="function"){A=A.xtype}else{if(typeof A=="object"){A=A.constructor.xtype}}return !B?("/"+this.getXTypes()+"/").indexOf("/"+A+"/")!=-1:this.constructor.xtype==A},getXTypes:function(){var B=this.constructor;if(!B.xtypes){var C=[],A=this;while(A&&A.constructor.xtype){C.unshift(A.constructor.xtype);A=A.constructor.superclass}B.xtypeChain=C;B.xtypes=C.join("/")}return B.xtypes},findParentBy:function(B){for(var A=this.ownerCt;(A!=null)&&!B(A,this);A=A.ownerCt){}return A||null},findParentByType:function(A){return typeof A=="function"?this.findParentBy(function(B){return B.constructor===A}):this.findParentBy(function(B){return B.constructor.xtype===A})},mon:function(C,A,D,E,B){if(!this.mons){this.mons=[];this.on("beforedestroy",function(){for(var F=0,G=this.mons.length;F<G;F++){var H=this.mons[F];H.item.un(H.ename,H.fn,H.scope)}},this)}this.mons.push({item:C,ename:A,fn:D,scope:E});C.on(A,D,E,B)}});Ext.reg("component",Ext.Component);Ext.Action=function(A){this.initialConfig=A;this.items=[]};Ext.Action.prototype={isAction:true,setText:function(A){this.initialConfig.text=A;this.callEach("setText",[A])},getText:function(){return this.initialConfig.text},setIconClass:function(A){this.initialConfig.iconCls=A;this.callEach("setIconClass",[A])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(A){this.initialConfig.disabled=A;this.callEach("setDisabled",[A])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(A){this.initialConfig.hidden=A;this.callEach("setVisible",[!A])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(A,B){this.initialConfig.handler=A;this.initialConfig.scope=B;this.callEach("setHandler",[A,B])},each:function(A,B){Ext.each(this.items,A,B)},callEach:function(C,A){var D=this.items;for(var E=0,B=D.length;E<B;E++){D[E][C].apply(D[E],A)}},addComponent:function(A){this.items.push(A);A.on("destroy",this.removeComponent,this)},removeComponent:function(A){this.items.remove(A)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}};(function(){Ext.Layer=function(G,H){G=G||{};var F=Ext.DomHelper;var D=G.parentEl,E=D?Ext.getDom(D):document.body;if(H){this.dom=Ext.getDom(H)}if(!this.dom){var C=G.dh||{tag:"div",cls:"x-layer"};this.dom=F.append(E,C)}if(G.cls){this.addClass(G.cls)}this.constrain=G.constrain!==false;this.visibilityMode=Ext.Element.VISIBILITY;if(G.id){this.id=this.dom.id=G.id}else{this.id=Ext.id(this.dom)}this.zindex=G.zindex||this.getZIndex();this.position("absolute",this.zindex);if(G.shadow){this.shadowOffset=G.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:G.shadow})}else{this.shadowOffset=0}this.useShim=G.shim!==false&&Ext.useShims;this.useDisplay=G.useDisplay;this.hide()};var B=Ext.Element.prototype;var A=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt(this.getStyle("z-index"),10)||11000},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var C=A.shift();if(!C){C=this.createShim();C.enableDisplayMode("block");C.dom.style.display="none";C.dom.style.visibility="visible"}var D=this.dom.parentNode;if(C.dom.parentNode!=D){D.insertBefore(C.dom,this.dom)}C.setStyle("z-index",this.getZIndex()-2);this.shim=C;return C},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);A.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(C){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(C){this.sync(true)}}},sync:function(K){var E=this.shadow;if(!this.updating&&this.isVisible()&&(E||this.useShim)){var H=this.getShim();var F=this.getWidth(),I=this.getHeight();var J=this.getLeft(true),D=this.getTop(true);if(E&&!this.shadowDisabled){if(K&&!E.isVisible()){E.show(this)}else{E.realign(J,D,F,I)}if(H){if(K){H.show()}var G=E.adjusts,C=H.dom.style;C.left=(Math.min(J,J+G.l))+"px";C.top=(Math.min(D,D+G.t))+"px";C.width=(F+G.w)+"px";C.height=(I+G.h)+"px"}}else{if(H){if(K){H.show()}H.setSize(F,I);H.setLeftTop(J,D)}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide()}this.removeAllListeners();Ext.removeNode(this.dom);Ext.Element.uncache(this.id)},remove:function(){this.destroy()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(C){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var H=Ext.lib.Dom.getViewWidth(),L=Ext.lib.Dom.getViewHeight();var C=Ext.getDoc().getScroll();var D=this.getXY();var G=D[0],I=D[1];var F=this.dom.offsetWidth+this.shadowOffset,K=this.dom.offsetHeight+this.shadowOffset;var J=false;if((G+F)>H+C.left){G=H-F-this.shadowOffset;J=true}if((I+K)>L+C.top){I=L-K-this.shadowOffset;J=true}if(G<C.left){G=C.left;J=true}if(I<C.top){I=C.top;J=true}if(J){if(this.avoidY){var E=this.avoidY;if(I<=E&&(I+K)>=E){I=E-K-5}}D=[G,I];this.storeXY(D);B.setXY.call(this,D);this.sync()}}},isVisible:function(){return this.visible},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("")}else{if(this.lastXY){B.setXY.call(this,this.lastXY)}else{if(this.lastLT){B.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false)}else{this.setLeftTop(-10000,-10000)}},setVisible:function(F,G,D,C,E){if(F){this.showAction()}if(G&&F){var H=function(){this.sync(true);if(C){C()}}.createDelegate(this);B.setVisible.call(this,true,true,D,H,E)}else{if(!F){this.hideUnders(true)}var H=C;if(G){H=function(){this.hideAction();if(C){C()}}.createDelegate(this)}B.setVisible.call(this,F,G,D,H,E);if(F){this.sync(true)}else{if(!G){this.hideAction()}}}},storeXY:function(C){delete this.lastLT;this.lastXY=C},storeLeftTop:function(C,D){delete this.lastXY;this.lastLT=[C,D]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(C){this.storeLeftTop(C,this.getTop(true));B.setLeft.apply(this,arguments);this.sync()},setTop:function(C){this.storeLeftTop(this.getLeft(true),C);B.setTop.apply(this,arguments);this.sync()},setLeftTop:function(C,D){this.storeLeftTop(C,D);B.setLeftTop.apply(this,arguments);this.sync()},setXY:function(E,G,D,C,F){this.fixDisplay();this.beforeAction();this.storeXY(E);var H=this.createCB(C);B.setXY.call(this,E,G,D,H,F);if(!G){H()}},createCB:function(C){var D=this;return function(){D.constrainXY();D.sync(true);if(C){C()}}},setX:function(G,F,D,C,E){this.setXY([G,this.getY()],F,D,C,E)},setY:function(C,G,E,D,F){this.setXY([this.getX(),C],G,E,D,F)},setSize:function(E,D,F,I,H,C){this.beforeAction();var G=this.createCB(H);B.setSize.call(this,E,D,F,I,G,C);if(!F){G()}},setWidth:function(F,G,D,C,E){this.beforeAction();var H=this.createCB(C);B.setWidth.call(this,F,G,D,H,E);if(!G){H()}},setHeight:function(E,F,C,H,D){this.beforeAction();var G=this.createCB(H);B.setHeight.call(this,E,F,C,G,D);if(!F){G()}},setBounds:function(D,F,C,J,E,H,G,I){this.beforeAction();var K=this.createCB(G);if(!E){this.storeXY([D,F]);B.setXY.call(this,[D,F]);B.setSize.call(this,C,J,E,H,K,I);K()}else{B.setBounds.call(this,D,F,C,J,E,H,K,I)}return this},setZIndex:function(C){this.zindex=C;this.setStyle("z-index",C+2);if(this.shadow){this.shadow.setZIndex(C+1)}if(this.shim){this.shim.setStyle("z-index",C)}}})})();Ext.Shadow=function(C){Ext.apply(this,C);if(typeof this.mode!="string"){this.mode=this.defaultMode}var B=this.offset,D={h:0};var A=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":D.w=0;D.l=D.t=B;D.t-=1;if(Ext.isIE){D.l-=this.offset+A;D.t-=this.offset+A;D.w-=A;D.h-=A;D.t+=1}break;case"sides":D.w=(B*2);D.l=-B;D.t=B-1;if(Ext.isIE){D.l-=(this.offset-A);D.t-=this.offset+A;D.l+=1;D.w-=(this.offset-A)*2;D.w-=A+1;D.h-=1}break;case"frame":D.w=D.h=(B*2);D.l=D.t=-B;D.t+=1;D.h-=2;if(Ext.isIE){D.l-=(this.offset-A);D.t-=(this.offset-A);D.l+=1;D.w-=(this.offset+A+1);D.h-=(this.offset+A);D.h+=1}break}this.adjusts=D};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(A){A=Ext.get(A);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=A.dom){this.el.insertBefore(A)}}this.el.setStyle("z-index",this.zIndex||parseInt(A.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")"}this.realign(A.getLeft(true),A.getTop(true),A.getWidth(),A.getHeight());this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(L,N,A,I){if(!this.el){return }var D=this.adjusts,F=this.el.dom,M=F.style;var H=0;M.left=(L+D.l)+"px";M.top=(N+D.t)+"px";var B=(A+D.w),J=(I+D.h),G=B+"px",C=J+"px";if(M.width!=G||M.height!=C){M.width=G;M.height=C;if(!Ext.isIE){var E=F.childNodes;var K=Math.max(0,(B-12))+"px";E[0].childNodes[1].style.width=K;E[1].childNodes[1].style.width=K;E[2].childNodes[1].style.width=K;E[1].style.height=Math.max(0,(J-12))+"px"}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el}},setZIndex:function(A){this.zIndex=A;if(this.el){this.el.setStyle("z-index",A)}}};Ext.Shadow.Pool=function(){var A=[];var B=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var C=A.shift();if(!C){C=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,B));C.autoBoxAdjust=false}return C},push:function(C){A.push(C)}}}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:false,deferHeight:false,setSize:function(A,E){if(typeof A=="object"){E=A.height;A=A.width}if(!this.boxReady){this.width=A;this.height=E;return this}if(this.lastSize&&this.lastSize.width==A&&this.lastSize.height==E){return this}this.lastSize={width:A,height:E};var F=this.adjustSize(A,E);var C=F.width,B=F.height;if(C!==undefined||B!==undefined){var D=this.getResizeEl();if(!this.deferHeight&&C!==undefined&&B!==undefined){D.setSize(C,B)}else{if(!this.deferHeight&&B!==undefined){D.setHeight(B)}else{if(C!==undefined){D.setWidth(C)}}}this.onResize(C,B,A,E);this.fireEvent("resize",this,C,B,A,E)}return this},setWidth:function(A){return this.setSize(A)},setHeight:function(A){return this.setSize(undefined,A)},getSize:function(){return this.el.getSize()},getPosition:function(A){if(A===true){return[this.el.getLeft(true),this.el.getTop(true)]}return this.xy||this.el.getXY()},getBox:function(B){var A=this.el.getSize();if(B===true){A.x=this.el.getLeft(true);A.y=this.el.getTop(true)}else{var C=this.xy||this.el.getXY();A.x=C[0];A.y=C[1]}return A},updateBox:function(A){this.setSize(A.width,A.height);this.setPagePosition(A.x,A.y);return this},getResizeEl:function(){return this.resizeEl||this.el},getPositionEl:function(){return this.positionEl||this.el},setPosition:function(B,C){if(B&&typeof B[1]=="number"){C=B[1];B=B[0]}this.x=B;this.y=C;if(!this.boxReady){return this}var A=this.adjustPosition(B,C);var D=A.x,E=A.y;var F=this.getPositionEl();if(D!==undefined||E!==undefined){if(D!==undefined&&E!==undefined){F.setLeftTop(D,E)}else{if(D!==undefined){F.setLeft(D)}else{if(E!==undefined){F.setTop(E)}}}this.onPosition(D,E);this.fireEvent("move",this,D,E)}return this},setPagePosition:function(B,C){if(B&&typeof B[1]=="number"){C=B[1];B=B[0]}this.pageX=B;this.pageY=C;if(!this.boxReady){return }if(B===undefined||C===undefined){return }var A=this.el.translatePoints(B,C);this.setPosition(A.left,A.top);return this},onRender:function(A,B){Ext.BoxComponent.superclass.onRender.call(this,A,B);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl)}if(this.positionEl){this.positionEl=Ext.get(this.positionEl)}},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);this.boxReady=true;this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y)}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY)}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.el.getWidth(),this.autoHeight?undefined:this.el.getHeight());return this},onResize:function(C,A,B,D){},onPosition:function(B,A){},adjustSize:function(B,A){if(this.autoWidth){B="auto"}if(this.autoHeight){A="auto"}return{width:B,height:A}},adjustPosition:function(B,A){return{x:B,y:A}}});Ext.reg("box",Ext.BoxComponent);Ext.SplitBar=function(E,C,A,D,B){this.el=Ext.get(E,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(C,true);this.orientation=A||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!B){this.proxy=Ext.SplitBar.createProxy(this.orientation)}else{this.proxy=Ext.get(B).dom}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=D||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h")}else{this.placement=D||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v")}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(B,C){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var E=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var D=E-this.activeMinSize;var A=Math.max(this.activeMaxSize-E,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?D:A,this.placement==Ext.SplitBar.LEFT?A:D);this.dd.setYConstraint(0,0)}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?D:A,this.placement==Ext.SplitBar.TOP?A:D)}this.dragSpecs.startSize=E;this.dragSpecs.startPoint=[B,C];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,B,C)},onEndProxyDrag:function(C){Ext.get(this.proxy).setDisplayed(false);var A=Ext.lib.Event.getXY(C);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay}var B;if(this.orientation==Ext.SplitBar.HORIZONTAL){B=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?A[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-A[0])}else{B=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?A[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-A[1])}B=Math.min(Math.max(B,this.activeMinSize),this.activeMaxSize);if(B!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,B)!==false){this.adapter.setElementSize(this,B);this.fireEvent("moved",this,B);this.fireEvent("resize",this,B)}}},getAdapter:function(){return this.adapter},setAdapter:function(A){this.adapter=A;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(A){this.minSize=A},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(A){this.maxSize=A},setCurrentSize:function(A){var B=this.animate;this.animate=false;this.adapter.setElementSize(this,A);this.animate=B},destroy:function(A){if(this.shim){this.shim.remove()}this.dd.unreg();Ext.destroy(Ext.get(this.proxy));if(A){this.el.remove()}}});Ext.SplitBar.createProxy=function(A){var C=new Ext.Element(document.createElement("div"));C.unselectable();var B="x-splitbar-proxy";C.addClass(B+" "+(A==Ext.SplitBar.HORIZONTAL?B+"-h":B+"-v"));document.body.appendChild(C.dom);return C.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(A){},getElementSize:function(A){if(A.orientation==Ext.SplitBar.HORIZONTAL){return A.resizingEl.getWidth()}else{return A.resizingEl.getHeight()}},setElementSize:function(A,B,C){if(A.orientation==Ext.SplitBar.HORIZONTAL){if(!A.animate){A.resizingEl.setWidth(B);if(C){C(A,B)}}else{A.resizingEl.setWidth(B,true,0.1,C,"easeOut")}}else{if(!A.animate){A.resizingEl.setHeight(B);if(C){C(A,B)}}else{A.resizingEl.setHeight(B,true,0.1,C,"easeOut")}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(A){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(A)};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(A){this.basic.init(A)},getElementSize:function(A){return this.basic.getElementSize(A)},setElementSize:function(A,B,C){this.basic.setElementSize(A,B,this.moveSplitter.createDelegate(this,[A]))},moveSplitter:function(B){var A=Ext.SplitBar;switch(B.placement){case A.LEFT:B.el.setX(B.resizingEl.getRight());break;case A.RIGHT:B.el.setStyle("right",(this.container.getWidth()-B.resizingEl.getLeft())+"px");break;case A.TOP:B.el.setY(B.resizingEl.getBottom());break;case A.BOTTOM:B.el.setY(B.resizingEl.getTop()-B.el.getHeight());break}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{autoDestroy:true,defaultType:"panel",initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var A=this.items;if(A){delete this.items;if(Ext.isArray(A)&&A.length>0){this.add.apply(this,A)}else{this.add(A)}}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout()}},setLayout:function(A){if(this.layout&&this.layout!=A){this.layout.setContainer(null)}this.initItems();this.layout=A;A.setContainer(this)},render:function(){Ext.Container.superclass.render.apply(this,arguments);if(this.layout){if(typeof this.layout=="string"){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig)}this.setLayout(this.layout);if(this.activeItem!==undefined){var A=this.activeItem;delete this.activeItem;this.layout.setActiveItem(A);return }}if(!this.ownerCt){this.doLayout()}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false])}},getLayoutTarget:function(){return this.el},getComponentId:function(A){return A.itemId||A.id},add:function(E){if(!this.items){this.initItems()}var F=arguments,A=F.length;if(A>1){for(var D=0;D<A;D++){this.add(F[D])}return }var B=this.lookupComponent(this.applyDefaults(E));var C=this.items.length;if(this.fireEvent("beforeadd",this,B,C)!==false&&this.onBeforeAdd(B)!==false){this.items.add(B);B.ownerCt=this;this.fireEvent("add",this,B,C)}return B},insert:function(D,E){if(!this.items){this.initItems()}var F=arguments,A=F.length;if(A>2){for(var C=A-1;C>=1;--C){this.insert(D,F[C])}return }var B=this.lookupComponent(this.applyDefaults(E));if(B.ownerCt==this&&this.items.indexOf(B)<D){--D}if(this.fireEvent("beforeadd",this,B,D)!==false&&this.onBeforeAdd(B)!==false){this.items.insert(D,B);B.ownerCt=this;this.fireEvent("add",this,B,D)}return B},applyDefaults:function(A){if(this.defaults){if(typeof A=="string"){A=Ext.ComponentMgr.get(A);Ext.apply(A,this.defaults)}else{if(!A.events){Ext.applyIf(A,this.defaults)}else{Ext.apply(A,this.defaults)}}}return A},onBeforeAdd:function(A){if(A.ownerCt){A.ownerCt.remove(A,false)}if(this.hideBorders===true){A.border=(A.border===true)}},remove:function(B,A){var C=this.getComponent(B);if(C&&this.fireEvent("beforeremove",this,C)!==false){this.items.remove(C);delete C.ownerCt;if(A===true||(A!==false&&this.autoDestroy)){C.destroy()}if(this.layout&&this.layout.activeItem==C){delete this.layout.activeItem}this.fireEvent("remove",this,C)}return C},removeAll:function(A){var C,B=[];while((C=this.items.last())){B.unshift(this.remove(C,A))}return B},getComponent:function(A){if(typeof A=="object"){return A}return this.items.get(A)},lookupComponent:function(A){if(typeof A=="string"){return Ext.ComponentMgr.get(A)}else{if(!A.events){return this.createComponent(A)}}return A},createComponent:function(A){return Ext.ComponentMgr.create(A,this.defaultType)},doLayout:function(D){if(this.rendered&&this.layout){this.layout.layout()}if(D!==false&&this.items){var E=this.items.items;for(var A=0,B=E.length;A<B;A++){var C=E[A];if(C.doLayout){C.doLayout()}}}},getLayout:function(){if(!this.layout){var A=new Ext.layout.ContainerLayout(this.layoutConfig);this.setLayout(A)}return this.layout},beforeDestroy:function(){if(this.items){Ext.destroy.apply(Ext,this.items.items)}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this)}if(this.layout&&this.layout.destroy){this.layout.destroy()}Ext.Container.superclass.beforeDestroy.call(this)},bubble:function(D,A,B){var C=this;while(C){if(D.apply(A||C,B||[C])===false){break}C=C.ownerCt}},cascade:function(C,D,A){if(C.apply(D||this,A||[this])!==false){if(this.items){var E=this.items.items;for(var F=0,B=E.length;F<B;F++){if(E[F].cascade){E[F].cascade(C,D,A)}else{C.apply(D||E[F],A||[E[F]])}}}}},findById:function(C){var B,A=this;this.cascade(function(D){if(A!=D&&D.id===C){B=D;return false}});return B||null},findByType:function(A,B){return this.findBy(function(C){return C.isXType(A,B)})},find:function(A,B){return this.findBy(function(C){return C[A]===B})},findBy:function(C,D){var B=[],A=this;this.cascade(function(E){if(A!=E&&C.call(D||E,E,A)===true){B.push(E)}});return B}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=function(A){Ext.apply(this,A)};Ext.layout.ContainerLayout.prototype={monitorResize:false,activeItem:null,layout:function(){var A=this.container.getLayoutTarget();this.onLayout(this.container,A);this.container.fireEvent("afterlayout",this.container,this)},onLayout:function(B,A){this.renderAll(B,A)},isValidParent:function(C,A){var B=C.getPositionEl?C.getPositionEl():C.getEl();return B.dom.parentNode==A.dom},renderAll:function(E,D){var A=E.items.items;for(var F=0,B=A.length;F<B;F++){var C=A[F];if(C&&(!C.rendered||!this.isValidParent(C,D))){this.renderItem(C,F,D)}}},renderItem:function(C,B,D){if(C&&!C.rendered){C.render(D,B);if(this.extraCls){var A=C.getPositionEl?C.getPositionEl():C;A.addClass(this.extraCls)}if(this.renderHidden&&C!=this.activeItem){C.hide()}}else{if(C&&!this.isValidParent(C,D)){if(this.extraCls){var A=C.getPositionEl?C.getPositionEl():C;A.addClass(this.extraCls)}if(typeof B=="number"){B=D.dom.childNodes[B]}D.dom.insertBefore(C.getEl().dom,B||null);if(this.renderHidden&&C!=this.activeItem){C.hide()}}}},onResize:function(){if(this.container.collapsed){return }var A=this.container.bufferResize;if(A){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.layout,this);this.resizeBuffer=typeof A=="number"?A:100}this.resizeTask.delay(this.resizeBuffer)}else{this.layout()}},setContainer:function(A){if(this.monitorResize&&A!=this.container){if(this.container){this.container.un("resize",this.onResize,this)}if(A){A.on("resize",this.onResize,this)}}this.container=A},parseMargins:function(A){var C=A.split(" ");var B=C.length;if(B==1){C[1]=C[0];C[2]=C[0];C[3]=C[0]}if(B==2){C[2]=C[0];C[3]=C[1]}return{top:parseInt(C[0],10)||0,right:parseInt(C[1],10)||0,bottom:parseInt(C[2],10)||0,left:parseInt(C[3],10)||0}},destroy:Ext.emptyFn};Ext.Container.LAYOUTS.auto=Ext.layout.ContainerLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,onLayout:function(B,A){Ext.layout.FitLayout.superclass.onLayout.call(this,B,A);if(!this.container.collapsed){this.setItemSize(this.activeItem||B.items.itemAt(0),A.getStyleSize())}},setItemSize:function(A,B){if(A&&B.height>0){A.setSize(B)}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,renderHidden:true,setActiveItem:function(A){A=this.container.getComponent(A);if(this.activeItem!=A){if(this.activeItem){this.activeItem.hide()}this.activeItem=A;A.show();this.layout()}},renderAll:function(B,A){if(this.deferredRender){this.renderItem(this.activeItem,undefined,A)}else{Ext.layout.CardLayout.superclass.renderAll.call(this,B,A)}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,getAnchorViewSize:function(B,A){return A.dom==document.body?A.getViewSize():A.getStyleSize()},onLayout:function(G,D){Ext.layout.AnchorLayout.superclass.onLayout.call(this,G,D);var M=this.getAnchorViewSize(G,D);var O=M.width,H=M.height;if(O<20||H<20){return }var K,B;if(G.anchorSize){if(typeof G.anchorSize=="number"){K=G.anchorSize}else{K=G.anchorSize.width;B=G.anchorSize.height}}else{K=G.initialConfig.width;B=G.initialConfig.height}var E=G.items.items,F=E.length,I,C,A,J,L;for(I=0;I<F;I++){C=E[I];if(C.anchor){A=C.anchorSpec;if(!A){var N=C.anchor.split(" ");C.anchorSpec=A={right:this.parseAnchor(N[0],C.initialConfig.width,K),bottom:this.parseAnchor(N[1],C.initialConfig.height,B)}}J=A.right?this.adjustWidthAnchor(A.right(O),C):undefined;L=A.bottom?this.adjustHeightAnchor(A.bottom(H),C):undefined;if(J||L){C.setSize(J||undefined,L||undefined)}}}},parseAnchor:function(F,B,A){if(F&&F!="none"){var D;if(/^(r|right|b|bottom)$/i.test(F)){var C=A-B;return function(G){if(G!==D){D=G;return G-C}}}else{if(F.indexOf("%")!=-1){var E=parseFloat(F.replace("%",""))*0.01;return function(G){if(G!==D){D=G;return Math.floor(G*E)}}}else{F=parseInt(F,10);if(!isNaN(F)){return function(G){if(G!==D){D=G;return G+F}}}}}}return false},adjustWidthAnchor:function(A,B){return A},adjustHeightAnchor:function(A,B){return A}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,extraCls:"x-column",scrollOffset:0,isValidParent:function(A,B){return(A.getPositionEl?A.getPositionEl():A.getEl()).dom.parentNode==this.innerCt.dom},onLayout:function(H,E){var G=H.items.items,F=G.length,D,J;if(!this.innerCt){E.addClass("x-column-layout-ct");this.innerCt=E.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"})}this.renderAll(H,this.innerCt);var A=Ext.isIE&&E.dom!=Ext.getBody().dom?E.getStyleSize():E.getViewSize();if(A.width<1&&A.height<1){return }var C=A.width-E.getPadding("lr")-this.scrollOffset,I=A.height-E.getPadding("tb"),B=C;this.innerCt.setWidth(C);for(J=0;J<F;J++){D=G[J];if(!D.columnWidth){B-=(D.getSize().width+D.getEl().getMargins("lr"))}}B=B<0?0:B;for(J=0;J<F;J++){D=G[J];if(D.columnWidth){D.setSize(Math.floor(D.columnWidth*B)-D.getEl().getMargins("lr"))}}}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,onLayout:function(m,L){var i;if(!this.rendered){L.position();L.addClass("x-border-layout-ct");var M=m.items.items;i=[];for(var X=0,V=M.length;X<V;X++){var Q=M[X];var c=Q.region;if(Q.collapsed){i.push(Q)}Q.collapsed=false;if(!Q.rendered){Q.cls=Q.cls?Q.cls+" x-border-panel":"x-border-panel";Q.render(L,X)}this[c]=c!="center"&&Q.split?new Ext.layout.BorderLayout.SplitRegion(this,Q.initialConfig,c):new Ext.layout.BorderLayout.Region(this,Q.initialConfig,c);this[c].render(L,Q)}this.rendered=true}var P=L.getViewSize();if(P.width<20||P.height<20){if(i){this.restoreCollapsed=i}return }else{if(this.restoreCollapsed){i=this.restoreCollapsed;delete this.restoreCollapsed}}var T=P.width,U=P.height;var W=T,Z=U,b=0,Y=0;var K=this.north,R=this.south,e=this.west,S=this.east,Q=this.center;if(!Q&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+m.id}if(K&&K.isVisible()){var N=K.getSize();var J=K.getMargins();N.width=T-(J.left+J.right);N.x=J.left;N.y=J.top;b=N.height+N.y+J.bottom;Z-=b;K.applyLayout(N)}if(R&&R.isVisible()){var N=R.getSize();var J=R.getMargins();N.width=T-(J.left+J.right);N.x=J.left;var O=(N.height+J.top+J.bottom);N.y=U-O+J.top;Z-=O;R.applyLayout(N)}if(e&&e.isVisible()){var N=e.getSize();var J=e.getMargins();N.height=Z-(J.top+J.bottom);N.x=J.left;N.y=b+J.top;var n=(N.width+J.left+J.right);Y+=n;W-=n;e.applyLayout(N)}if(S&&S.isVisible()){var N=S.getSize();var J=S.getMargins();N.height=Z-(J.top+J.bottom);var n=(N.width+J.left+J.right);N.x=T-n+J.left;N.y=b+J.top;W-=n;S.applyLayout(N)}if(Q){var J=Q.getMargins();var h={x:Y+J.left,y:b+J.top,width:W-(J.left+J.right),height:Z-(J.top+J.bottom)};Q.applyLayout(h)}if(i){for(var X=0,V=i.length;X<V;X++){i[X].collapse(false)}}if(Ext.isIE&&Ext.isStrict){L.repaint()}},destroy:function(){var A=["north","south","east","west"];for(var B=0;B<A.length;B++){var C=this[A[B]];if(C){if(C.destroy){C.destroy()}else{if(C.split){C.split.destroy(true)}}}}Ext.layout.BorderLayout.superclass.destroy.call(this)}});Ext.layout.BorderLayout.Region=function(A,B,C){Ext.apply(this,B);this.layout=A;this.position=C;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins)}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins)}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0}}else{this.cmargins=Ext.applyIf(this.cmargins||{},C=="north"||C=="south"?this.defaultNSCMargins:this.defaultEWCMargins)}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},isCollapsed:false,render:function(A,D){this.panel=D;D.el.enableDisplayMode();this.targetEl=A;this.el=D.el;var B=D.getState,C=this.position;D.getState=function(){return Ext.apply(B.call(D)||{},this.state)}.createDelegate(this);if(C!="center"){D.allowQueuedExpand=false;D.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible){D.collapseEl="el";D.slideAnchor=this.getSlideAnchor()}if(D.tools&&D.tools.toggle){D.tools.toggle.addClass("x-tool-collapse-"+C);D.tools.toggle.addClassOnOver("x-tool-collapse-"+C+"-over")}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var A=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');A.disableFormats=true;A.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=A}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true})}else{var B=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);B.addClassOnOver("x-tool-expand-"+this.position+"-over");B.on("click",this.onExpandClick,this,{stopEvent:true});if(this.floatable!==false){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.collapseClick,this)}}}return this.collapsedEl},onExpandClick:function(A){if(this.isSlid){this.afterSlideIn();this.panel.expand(false)}else{this.panel.expand()}},onCollapseClick:function(A){this.panel.collapse()},beforeCollapse:function(A,B){this.lastAnim=B;if(this.splitEl){this.splitEl.hide()}this.getCollapsedEl().show();this.panel.el.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout()},onCollapse:function(A){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible"}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2})}this.state.collapsed=true;this.panel.saveState()},beforeExpand:function(B){var A=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,A.getHeight())}else{this.panel.setSize(A.getWidth(),undefined)}A.hide();A.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",100)},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show()}this.layout.layout();this.panel.el.setStyle("z-index",1);this.state.collapsed=false;this.panel.saveState()},collapseClick:function(A){if(this.isSlid){A.stopPropagation();this.slideIn()}else{A.stopPropagation();this.slideOut()}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide()}else{if(this.splitEl){this.splitEl.hide()}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show()}else{if(this.splitEl){this.splitEl.show()}}},isVisible:function(){return !this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(A){this.panel=A},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(B){var A=this.getCollapsedEl();A.setLeftTop(B.x,B.y);A.setSize(B.width,B.height)},applyLayout:function(A){if(this.isCollapsed){this.applyLayoutCollapsed(A)}else{this.panel.setPosition(A.x,A.y);this.panel.setSize(A.width,A.height)}},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){var A=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(B){if(!B.within(this.el,true)){A.delay(500)}},mouseover:function(B){A.cancel()},scope:this}}this.el.on(this.autoHideHd)}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover)}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return }this.isSlid=true;var A=this.panel.tools;if(A&&A.toggle){A.toggle.hide()}this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,this.collapsedEl.getHeight())}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined)}this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",102);this.panel.el.replaceClass("x-panel-collapsed","x-panel-floating");if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:true})}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var A=this.panel.tools;if(A&&A.toggle){A.toggle.show()}},slideIn:function(A){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(A);return }this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(A)},scope:this,block:true})}else{this.el.hide();this.afterSlideIn()}},slideInIf:function(A){if(!A.within(this.el)){this.slideIn()}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){var A=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];break}},getExpandAdj:function(){var A=this.collapsedEl,B=this.cmargins;switch(this.position){case"west":return[-(B.right+A.getWidth()+B.left),0];break;case"east":return[B.right+A.getWidth()+B.left,0];break;case"north":return[0,-(B.top+B.bottom+A.getHeight())];break;case"south":return[0,B.top+B.bottom+A.getHeight()];break}}};Ext.layout.BorderLayout.SplitRegion=function(A,B,C){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,A,B,C);this.applyLayout=this.applyFns[C]};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(D){if(this.isCollapsed){return this.applyLayoutCollapsed(D)}var C=this.splitEl.dom,A=C.style;this.panel.setPosition(D.x,D.y);var B=C.offsetWidth;A.left=(D.x+D.width-B)+"px";A.top=(D.y)+"px";A.height=Math.max(0,D.height)+"px";this.panel.setSize(D.width-B,D.height)},east:function(D){if(this.isCollapsed){return this.applyLayoutCollapsed(D)}var C=this.splitEl.dom,A=C.style;var B=C.offsetWidth;this.panel.setPosition(D.x+B,D.y);A.left=(D.x)+"px";A.top=(D.y)+"px";A.height=Math.max(0,D.height)+"px";this.panel.setSize(D.width-B,D.height)},north:function(D){if(this.isCollapsed){return this.applyLayoutCollapsed(D)}var C=this.splitEl.dom,A=C.style;var B=C.offsetHeight;this.panel.setPosition(D.x,D.y);A.left=(D.x)+"px";A.top=(D.y+D.height-B)+"px";A.width=Math.max(0,D.width)+"px";this.panel.setSize(D.width,D.height-B)},south:function(D){if(this.isCollapsed){return this.applyLayoutCollapsed(D)}var C=this.splitEl.dom,A=C.style;var B=C.offsetHeight;this.panel.setPosition(D.x,D.y+B);A.left=(D.x)+"px";A.top=(D.y)+"px";A.width=Math.max(0,D.width)+"px";this.panel.setSize(D.width,D.height-B)}},render:function(B,D){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,B,D);var C=this.position;this.splitEl=B.createChild({cls:"x-layout-split x-layout-split-"+C,html:"&#160;",id:this.panel.id+"-xsplit"});if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+C,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true})}var A=this.splitSettings[C];this.split=new Ext.SplitBar(this.splitEl.dom,D.el,A.orientation);this.split.placement=A.placement;this.split.getMaximumSize=this[A.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[A.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[A.maxProp];if(D.hidden){this.splitEl.hide()}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this)}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize()}var A=this.panel.getSize();if(this.position=="north"||this.position=="south"){A.height+=this.splitEl.dom.offsetHeight}else{A.width+=this.splitEl.dom.offsetWidth}return A},getHMaxSize:function(){var A=this.maxSize||10000;var B=this.layout.center;return Math.min(A,(this.el.getWidth()+B.el.getWidth())-B.getMinWidth())},getVMaxSize:function(){var A=this.maxSize||10000;var B=this.layout.center;return Math.min(A,(this.el.getHeight()+B.el.getHeight())-B.getMinHeight())},onSplitMove:function(A,B){var C=this.panel.getSize();this.lastSplitSize=B;if(this.position=="north"||this.position=="south"){this.panel.setSize(C.width,B);this.state.height=B}else{this.panel.setSize(B,C.height);this.state.width=B}this.layout.layout();this.panel.saveState();return false},getSplitBar:function(){return this.split},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl)}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",getAnchorViewSize:function(B,A){return(B.body||B.el).getStyleSize()},setContainer:function(A){Ext.layout.FormLayout.superclass.setContainer.call(this,A);if(A.labelAlign){A.addClass("x-form-label-"+A.labelAlign)}if(A.hideLabels){this.labelStyle="display:none";this.elementStyle="padding-left:0;";this.labelAdjust=0}else{this.labelSeparator=A.labelSeparator||this.labelSeparator;A.labelWidth=A.labelWidth||100;if(typeof A.labelWidth=="number"){var C=(typeof A.labelPad=="number"?A.labelPad:5);this.labelAdjust=A.labelWidth+C;this.labelStyle="width:"+A.labelWidth+"px;";this.elementStyle="padding-left:"+(A.labelWidth+C)+"px"}if(A.labelAlign=="top"){this.labelStyle="width:auto;";this.labelAdjust=0;this.elementStyle="padding-left:0;"}}if(!this.fieldTpl){var B=new Ext.Template('<div class="x-form-item {5}" tabIndex="-1">','<label for="{0}" style="{2}" class="x-form-item-label">{1}{4}</label>','<div class="x-form-element" id="x-form-el-{0}" style="{3}">','</div><div class="{6}"></div>',"</div>");B.disableFormats=true;B.compile();Ext.layout.FormLayout.prototype.fieldTpl=B}},getLabelStyle:function(C){var A="",E=[this.labelStyle,C];for(var D=0,B=E.length;D<B;++D){if(E[D]){A+=E[D];if(A.substr(-1,1)!=";"){A+=";"}}}return A},renderItem:function(C,B,D){if(C&&!C.rendered&&C.isFormField&&C.inputType!="hidden"){var A=[C.id,C.fieldLabel,this.getLabelStyle(C.labelStyle),this.elementStyle||"",typeof C.labelSeparator=="undefined"?this.labelSeparator:C.labelSeparator,(C.itemCls||this.container.itemCls||"")+(C.hideLabel?" x-hide-label":""),C.clearCls||"x-form-clear-left"];if(typeof B=="number"){B=D.dom.childNodes[B]||null}if(B){this.fieldTpl.insertBefore(B,A)}else{this.fieldTpl.append(D,A)}C.render("x-form-el-"+C.id)}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)}},adjustWidthAnchor:function(A,B){return A-(B.isFormField?(B.hideLabel?0:this.labelAdjust):0)},isValidParent:function(A,B){return true}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.Accordion=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,renderItem:function(A){if(this.animate===false){A.animCollapse=false}A.collapsible=true;if(this.autoWidth){A.autoWidth=true}if(this.titleCollapse){A.titleCollapse=true}if(this.hideCollapseTool){A.hideCollapseTool=true}if(this.collapseFirst!==undefined){A.collapseFirst=this.collapseFirst}if(!this.activeItem&&!A.collapsed){this.activeItem=A}else{if(this.activeItem){A.collapsed=true}}Ext.layout.Accordion.superclass.renderItem.apply(this,arguments);A.header.addClass("x-accordion-hd");A.on("beforeexpand",this.beforeExpand,this)},beforeExpand:function(C,A){var B=this.activeItem;if(B){if(this.sequence){delete this.activeItem;if(!B.collapsed){B.collapse({callback:function(){C.expand(A||true)},scope:this});return false}}else{B.collapse(this.animate)}}this.activeItem=C;if(this.activeOnTop){C.el.dom.parentNode.insertBefore(C.el.dom,C.el.dom.parentNode.firstChild)}this.layout()},setItemSize:function(D,E){if(this.fill&&D){var A=this.container.items.items;var F=0;for(var G=0,B=A.length;G<B;G++){var C=A[G];if(C!=D){F+=(C.getSize().height-C.bwrap.getHeight())}}E.height-=F;D.setSize(E)}}});Ext.Container.LAYOUTS.accordion=Ext.layout.Accordion;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,setContainer:function(A){Ext.layout.TableLayout.superclass.setContainer.call(this,A);this.currentRow=0;this.currentColumn=0;this.cells=[]},onLayout:function(F,D){var E=F.items.items,B=E.length,C,A;if(!this.table){D.addClass("x-table-layout-ct");this.table=D.createChild({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},null,true);this.renderAll(F,D)}},getRow:function(B){var A=this.table.tBodies[0].childNodes[B];if(!A){A=document.createElement("tr");this.table.tBodies[0].appendChild(A)}return A},getNextCell:function(C){var B=this.getNextNonSpan(this.currentColumn,this.currentRow);var F=this.currentColumn=B[0],G=this.currentRow=B[1];for(var D=G;D<G+(C.rowspan||1);D++){if(!this.cells[D]){this.cells[D]=[]}for(var H=F;H<F+(C.colspan||1);H++){this.cells[D][H]=true}}var E=document.createElement("td");if(C.cellId){E.id=C.cellId}var A="x-table-layout-cell";if(C.cellCls){A+=" "+C.cellCls}E.className=A;if(C.colspan){E.colSpan=C.colspan}if(C.rowspan){E.rowSpan=C.rowspan}this.getRow(G).appendChild(E);return E},getNextNonSpan:function(B,C){var A=this.columns;while((A&&B>=A)||(this.cells[C]&&this.cells[C][B])){if(A&&B>=A){C++;B=0}else{B++}}return[B,C]},renderItem:function(C,B,D){if(C&&!C.rendered){C.render(this.getNextCell(C));if(this.extraCls){var A=C.getPositionEl?C.getPositionEl():C;A.addClass(this.extraCls)}}},isValidParent:function(A,B){return true}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",isForm:false,setContainer:function(A){Ext.layout.AbsoluteLayout.superclass.setContainer.call(this,A);if(A.isXType("form")){this.isForm=true}},onLayout:function(B,A){if(this.isForm){B.body.position()}else{A.position()}Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,B,A)},getAnchorViewSize:function(B,A){return this.isForm?B.body.getStyleSize():Ext.layout.AbsoluteLayout.superclass.getAnchorViewSize.call(this,B,A)},isValidParent:function(A,B){return this.isForm?true:Ext.layout.AbsoluteLayout.superclass.isValidParent.call(this,A,B)},adjustWidthAnchor:function(A,B){return A?A-B.getPosition(true)[0]:A},adjustHeightAnchor:function(A,B){return A?A-B.getPosition(true)[1]:A}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el},fireResize:function(B,A){this.fireEvent("resize",this,B,A,B,A)}});Ext.reg("viewport",Ext.Viewport);Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.tbar){this.elements+=",tbar";if(typeof this.tbar=="object"){this.topToolbar=this.tbar}delete this.tbar}if(this.bbar){this.elements+=",bbar";if(typeof this.bbar=="object"){this.bottomToolbar=this.bbar}delete this.bbar}if(this.header===true){this.elements+=",header";delete this.header}else{if(this.title&&this.header!==false){this.elements+=",header"}}if(this.footer===true){this.elements+=",footer";delete this.footer}if(this.buttons){var C=this.buttons;this.buttons=[];for(var A=0,B=C.length;A<B;A++){if(C[A].render){C[A].ownerCt=this;this.buttons.push(C[A])}else{this.addButton(C[A])}}}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10})}},createElement:function(B,C){if(this[B]){C.appendChild(this[B].dom);return }if(B==="bwrap"||this.elements.indexOf(B)!=-1){if(this[B+"Cfg"]){this[B]=Ext.fly(C).createChild(this[B+"Cfg"])}else{var A=document.createElement("div");A.className=this[B+"Cls"];this[B]=Ext.get(C.appendChild(A))}if(this[B+"CssClass"]){this[B].addClass(this[B+"CssClass"])}if(this[B+"Style"]){this[B].applyStyles(this[B+"Style"])}}},onRender:function(F,G){Ext.Panel.superclass.onRender.call(this,F,G);this.createClasses();if(this.el){this.el.addClass(this.baseCls);this.header=this.el.down("."+this.headerCls);this.bwrap=this.el.down("."+this.bwrapCls);var A=this.bwrap?this.bwrap:this.el;this.tbar=A.down("."+this.tbarCls);this.body=A.down("."+this.bodyCls);this.bbar=A.down("."+this.bbarCls);this.footer=A.down("."+this.footerCls);this.fromMarkup=true}else{this.el=F.createChild({id:this.id,cls:this.baseCls},G)}var M=this.el,C=M.dom;if(this.cls){this.el.addClass(this.cls)}if(this.buttons){this.elements+=",footer"}if(this.frame){M.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",C.firstChild.firstChild.firstChild);this.createElement("bwrap",C);var O=this.bwrap.dom;var I=C.childNodes[1],L=C.childNodes[2];O.appendChild(I);O.appendChild(L);var N=O.firstChild.firstChild.firstChild;this.createElement("tbar",N);this.createElement("body",N);this.createElement("bbar",N);this.createElement("footer",O.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter"}}else{this.createElement("header",C);this.createElement("bwrap",C);var O=this.bwrap.dom;this.createElement("tbar",O);this.createElement("body",O);this.createElement("bbar",O);this.createElement("footer",O);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader")}}}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder")}if(this.footer){this.footer.addClass(this.footerCls+"-noborder")}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder")}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder")}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder")}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls)}}}if(this.floating){this.makeFloating(this.floating)}if(this.collapsible){this.tools=this.tools?this.tools.slice(0):[];if(!this.hideCollapseTool){this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this})}if(this.titleCollapse&&this.header){this.header.on("click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer")}}if(this.tools){var D=this.tools;this.tools={};this.addTool.apply(this,D)}else{this.tools={}}if(this.buttons&&this.buttons.length>0){var J=this.footer.createChild({cls:"x-panel-btns-ct",cn:{cls:"x-panel-btns x-panel-btns-"+this.buttonAlign,html:'<table cellspacing="0"><tbody><tr></tr></tbody></table><div class="x-clear"></div>'}},null,true);var B=J.getElementsByTagName("tr")[0];for(var H=0,E=this.buttons.length;H<E;H++){var P=this.buttons[H];var K=document.createElement("td");K.className="x-panel-btn-td";P.render(B.appendChild(K))}}if(this.tbar&&this.topToolbar){if(Ext.isArray(this.topToolbar)){this.topToolbar=new Ext.Toolbar(this.topToolbar)}this.topToolbar.render(this.tbar);this.topToolbar.ownerCt=this}if(this.bbar&&this.bottomToolbar){if(Ext.isArray(this.bottomToolbar)){this.bottomToolbar=new Ext.Toolbar(this.bottomToolbar)}this.bottomToolbar.render(this.bbar);this.bottomToolbar.ownerCt=this}},setIconClass:function(A){var B=this.iconCls;this.iconCls=A;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(B,this.iconCls)}else{var C=this.header.dom;var D=C.firstChild&&String(C.firstChild.tagName).toLowerCase()=="img"?C.firstChild:null;if(D){Ext.fly(D).replaceClass(B,this.iconCls)}else{Ext.DomHelper.insertBefore(C.firstChild,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls})}}}this.fireEvent("iconchange",this,A,B)},makeFloating:function(A){this.floating=true;this.el=new Ext.Layer(typeof A=="object"?A:{shadow:this.shadow!==undefined?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined},this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},addButton:function(B,D,E){var C={handler:D,scope:E,minWidth:this.minButtonWidth,hideParent:true};if(typeof B=="string"){C.text=B}else{Ext.apply(C,B)}var A=new Ext.Button(C);A.ownerCt=this;if(!this.buttons){this.buttons=[]}this.buttons.push(A);return A},addTool:function(){if(!this[this.toolTarget]){return }if(!this.toolTemplate){var C=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');C.disableFormats=true;C.compile();Ext.Panel.prototype.toolTemplate=C}for(var D=0,F=arguments,G=F.length;D<G;D++){var A=F[D];if(!this.tools[A.id]){var B="x-tool-"+A.id+"-over";var E=this.toolTemplate.insertFirst((A.align!=="left")?this[this.toolTarget]:this[this.toolTarget].child("span"),A,true);this.tools[A.id]=E;E.enableDisplayMode("block");E.on("click",this.createToolHandler(E,A,B,this));if(A.on){E.on(A.on)}if(A.hidden){E.hide()}if(A.qtip){if(typeof A.qtip=="object"){Ext.QuickTips.register(Ext.apply({target:E.id},A.qtip))}else{E.dom.qtip=A.qtip}}E.addClassOnOver(B)}}},onShow:function(){if(this.floating){return this.el.show()}Ext.Panel.superclass.onShow.call(this)},onHide:function(){if(this.floating){return this.el.hide()}Ext.Panel.superclass.onHide.call(this)},createToolHandler:function(D,B,C,A){return function(E){D.removeClass(C);E.stopEvent();if(B.handler){B.handler.call(B.scope||D,E,D,A)}}},afterRender:function(){if(this.fromMarkup&&this.height===undefined&&!this.autoHeight){this.height=this.el.getHeight()}if(this.floating&&!this.hidden&&!this.initHidden){this.el.show()}if(this.title){this.setTitle(this.title)}this.setAutoScroll();if(this.html){this.body.update(typeof this.html=="object"?Ext.DomHelper.markup(this.html):this.html);delete this.html}if(this.contentEl){var A=Ext.getDom(this.contentEl);Ext.fly(A).removeClass(["x-hidden","x-hide-display"]);this.body.dom.appendChild(A)}if(this.collapsed){this.collapsed=false;this.collapse(false)}Ext.Panel.superclass.afterRender.call(this);this.initEvents()},setAutoScroll:function(){if(this.rendered&&this.autoScroll){var A=this.body||this.el;if(A){A.setOverflow("auto")}}},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys)}return this.keyMap},initEvents:function(){if(this.keys){this.getKeyMap()}if(this.draggable){this.initDraggable()}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,typeof this.draggable=="boolean"?null:this.draggable)},beforeEffect:function(){if(this.floating){this.el.beforeAction()}this.el.addClass("x-panel-animated")},afterEffect:function(){this.syncShadow();this.el.removeClass("x-panel-animated")},createEffect:function(D,A,C){var B={scope:C,block:true};if(D===true){B.callback=A;return B}else{if(!D.callback){B.callback=A}else{B.callback=function(){A.call(C);Ext.callback(D.callback,D.scope)}}}return Ext.applyIf(B,D)},collapse:function(A){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,A)===false){return }var B=A===true||(A!==false&&this.animCollapse);this.beforeEffect();this.onCollapse(B,A);return this},onCollapse:function(B,A){if(B){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(A||true,this.afterCollapse,this),this.collapseDefaults))}else{this[this.collapseEl].hide();this.afterCollapse()}},afterCollapse:function(){this.collapsed=true;this.el.addClass(this.collapsedCls);this.afterEffect();this.fireEvent("collapse",this)},expand:function(A){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,A)===false){return }var B=A===true||(A!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect();this.onExpand(B,A);return this},onExpand:function(B,A){if(B){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(A||true,this.afterExpand,this),this.expandDefaults))}else{this[this.collapseEl].show();this.afterExpand()}},afterExpand:function(){this.collapsed=false;this.afterEffect();this.fireEvent("expand",this)},toggleCollapse:function(A){this[this.collapsed?"expand":"collapse"](A);return this},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask()}Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask()}Ext.Panel.superclass.onEnable.call(this)},onResize:function(B,A){if(B!==undefined||A!==undefined){if(!this.collapsed){if(typeof B=="number"){this.body.setWidth(this.adjustBodyWidth(B-this.getFrameWidth()))}else{if(B=="auto"){this.body.setWidth(B)}}if(typeof A=="number"){this.body.setHeight(this.adjustBodyHeight(A-this.getFrameHeight()))}else{if(A=="auto"){this.body.setHeight(A)}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())}}else{this.queuedBodySize={width:B,height:A};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height);this.doLayout()},this,{single:true})}}this.fireEvent("bodyresize",this,B,A)}this.syncShadow()},adjustBodyHeight:function(A){return A},adjustBodyWidth:function(A){return A},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var A=this.el.getFrameWidth("lr");if(this.frame){var B=this.bwrap.dom.firstChild;A+=(Ext.fly(B).getFrameWidth("l")+Ext.fly(B.firstChild).getFrameWidth("r"));var C=this.bwrap.dom.firstChild.firstChild.firstChild;A+=Ext.fly(C).getFrameWidth("lr")}return A},getFrameHeight:function(){var B=this.el.getFrameWidth("tb");B+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0);if(this.frame){var D=this.el.dom.firstChild;var C=this.bwrap.dom.lastChild;B+=(D.offsetHeight+C.offsetHeight);var A=this.bwrap.dom.firstChild.firstChild.firstChild;B+=Ext.fly(A).getFrameWidth("tb")}else{B+=(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0)}return B},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.getSize().height-this.getFrameHeight()},syncShadow:function(){if(this.floating){this.el.sync(true)}},getLayoutTarget:function(){return this.body},setTitle:function(A,B){this.title=A;if(this.header&&this.headerAsText){this.header.child("span").update(A)}if(B){this.setIconClass(B)}this.fireEvent("titlechange",this,A);return this},getUpdater:function(){return this.body.getUpdater()},load:function(){var A=this.body.getUpdater();A.update.apply(A,arguments);return this},beforeDestroy:function(){if(this.header){this.header.removeAllListeners();if(this.headerAsText){Ext.Element.uncache(this.header.child("span"))}}Ext.Element.uncache(this.header,this.tbar,this.bbar,this.footer,this.body,this.bwrap);if(this.tools){for(var B in this.tools){Ext.destroy(this.tools[B])}}if(this.buttons){for(var A in this.buttons){Ext.destroy(this.buttons[A])}}Ext.destroy(this.topToolbar,this.bottomToolbar);Ext.Panel.superclass.beforeDestroy.call(this)},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer"},createGhost:function(B,C,A){var D=document.createElement("div");D.className="x-panel-ghost "+(B?B:"");if(this.header){D.appendChild(this.el.dom.firstChild.cloneNode(true))}Ext.fly(D.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());D.style.width=this.el.dom.offsetWidth+"px";if(!A){this.container.dom.appendChild(D)}else{Ext.getDom(A).appendChild(D)}if(C!==false&&this.el.useShim!==false){var E=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},D);E.show();return E}else{return new Ext.Element(D)}},doAutoLoad:function(){this.body.load(typeof this.autoLoad=="object"?this.autoLoad:{url:this.autoLoad})},getTool:function(A){return this.tools[A]}});Ext.reg("panel",Ext.Panel);Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,closeAction:"close",elements:"header,body",collapsible:false,initHidden:true,monitorResize:true,frame:true,floating:true,initComponent:function(){Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore")},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox())},onRender:function(A,B){Ext.Window.superclass.onRender.call(this,A,B);if(this.plain){this.el.addClass("x-window-plain")}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mask.on("click",this.focus,this)}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget)}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction});this.resizer.window=this;this.resizer.on("beforeresize",this.beforeResize,this)}if(this.draggable){this.header.addClass("x-window-draggable")}this.initTools();this.el.on("mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);this.hidden=true;if(this.maximized){this.maximized=false;this.maximize()}if(this.closable){var A=this.getKeyMap();A.on(27,this.onEsc,this);A.disable()}},initDraggable:function(){this.dd=new Ext.Window.DD(this)},onEsc:function(){this[this.closeAction]()},beforeDestroy:function(){this.hide();if(this.doAnchor){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this)}Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask);Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.manager){this.manager.unregister(this)}Ext.Window.superclass.onDestroy.call(this)},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])})}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true});this.header.on("dblclick",this.toggleMaximize,this)}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})}},resizerAction:function(){var A=this.proxy.getBox();this.proxy.hide();this.window.handleResize(A);return A},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox()},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint()}},handleResize:function(A){var B=this.resizeBox;if(B.x!=A.x||B.y!=A.y){this.updateBox(A)}else{this.setSize(A)}this.focus();this.updateHandles();this.saveState();if(this.layout){this.doLayout()}this.fireEvent("resize",this,A.width,A.height)},focus:function(){var C=this.focusEl,B=this.defaultButton,A=typeof B;if(A!="undefined"){if(A=="number"){C=this.buttons[B]}else{if(A=="string"){C=Ext.getCmp(B)}else{C=B}}}C.focus.defer(10,C)},setAnimateTarget:function(A){A=Ext.get(A);this.animateTarget=A},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var B=this.el.getAlignToXY(this.container,"c-c");var A=this.el.translatePoints(B[0],B[1]);this.x=this.x===undefined?A.left:this.x;this.y=this.y===undefined?A.top:this.y}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false)}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show()}},show:function(C,B,A){if(!this.rendered){this.render(Ext.getBody())}if(this.hidden===false){this.toFront();return }if(this.fireEvent("beforeshow",this)===false){return }if(B){this.on("show",B,A,{single:true})}this.hidden=false;if(C!==undefined){this.setAnimateTarget(C)}this.beforeShow();if(this.animateTarget){this.animShow()}else{this.afterShow()}},afterShow:function(){this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer()}if(Ext.isMac&&Ext.isGecko){this.cascade(this.setAutoScroll)}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this)}this.doConstrain();if(this.layout){this.doLayout()}if(this.keyMap){this.keyMap.enable()}this.toFront();this.updateHandles();this.fireEvent("show",this)},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var A=this.getBox(false);A.callback=this.afterShow;A.scope=this;A.duration=0.25;A.easing="easeNone";A.opacity=0.5;A.block=true;this.el.setStyle("display","none");this.proxy.shift(A)},hide:function(C,B,A){if(this.activeGhost){this.hide.defer(100,this,[C,B,A]);return }if(this.hidden||this.fireEvent("beforehide",this)===false){return }if(B){this.on("hide",B,A,{single:true})}this.hidden=true;if(C!==undefined){this.setAnimateTarget(C)}if(this.animateTarget){this.animHide()}else{this.el.hide();this.afterHide()}},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this)}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked")}if(this.keyMap){this.keyMap.disable()}this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var B=this.getBox(false);this.proxy.setBox(B);this.el.hide();var A=this.animateTarget.getBox();A.callback=this.afterHide;A.scope=this;A.duration=0.25;A.easing="easeNone";A.block=true;A.opacity=0;this.proxy.shift(A)},onWindowResize:function(){if(this.maximized){this.fitContainer()}if(this.modal){this.mask.setSize("100%","100%");var A=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true))}this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var A;if(this.constrain){A={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset}}else{var B=this.getSize();A={right:-(B.width-100),bottom:-(B.height-25)}}var C=this.el.getConstrainToXY(this.container,true,A);if(C){this.setPosition(C[0],C[1])}}},ghost:function(B){var C=this.createGhost(B);var A=this.getBox(true);C.setLeftTop(A.x,A.y);C.setWidth(A.width);this.el.hide();this.activeGhost=C;return C},unghost:function(A,B){if(A!==false){this.el.show();this.focus();if(Ext.isMac&&Ext.isGecko){this.cascade(this.setAutoScroll)}}if(B!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true))}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost},minimize:function(){this.fireEvent("minimize",this)},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.hide(null,function(){this.fireEvent("close",this);this.destroy()},this)}},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show()}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock()}if(this.collapsible){this.tools.toggle.hide()}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this)}},restore:function(){if(this.maximized){this.el.removeClass("x-window-maximized");this.tools.restore.hide();this.tools.maximize.show();this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock()}if(this.collapsible){this.tools.toggle.show()}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this)}},toggleMaximize:function(){this[this.maximized?"restore":"maximize"]()},fitContainer:function(){var A=this.container.getViewSize();this.setSize(A.width,A.height)},setZIndex:function(A){if(this.modal){this.mask.setStyle("z-index",A)}this.el.setZIndex(++A);A+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++A)}this.lastZIndex=A},alignTo:function(A,B,D){var C=this.el.getAlignToXY(A,B,D);this.setPagePosition(C[0],C[1]);return this},anchorTo:function(E,C,D,A){if(this.doAnchor){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this)}this.doAnchor=function(){this.alignTo(E,C,D)};Ext.EventManager.onWindowResize(this.doAnchor,this);var B=typeof A;if(B!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:B=="number"?A:50})}this.doAnchor();return this},toFront:function(A){if(this.manager.bringToFront(this)){if(!A||!A.getTarget().focus){this.focus()}}return this},setActive:function(A){if(A){if(!this.maximized){this.el.enableShadow(true)}this.fireEvent("activate",this)}else{this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.manager.sendToBack(this);return this},center:function(){var A=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(A[0],A[1]);return this}});Ext.reg("window",Ext.Window);Ext.Window.DD=function(A){this.win=A;Ext.Window.DD.superclass.constructor.call(this,A.el.id,"WindowDD-"+A.id);this.setHandleElId(A.header.id);this.scroll=false};Ext.extend(Ext.Window.DD,Ext.dd.DD,{moveOnly:true,headerOffsets:[100,25],startDrag:function(){var B=this.win;this.proxy=B.ghost();if(B.constrain!==false){var C=B.el.shadowOffset;this.constrainTo(B.container,{right:C,left:C,bottom:C})}else{if(B.constrainHeader!==false){var A=this.proxy.getSize();this.constrainTo(B.container,{right:-(A.width-this.headerOffsets[0]),bottom:-(A.height-this.headerOffsets[1])})}}},b4Drag:Ext.emptyFn,onDrag:function(A){this.alignElWithMouse(this.proxy,A.getPageX(),A.getPageY())},endDrag:function(A){this.win.unghost();this.win.saveState()}});Ext.WindowGroup=function(){var D={};var F=[];var E=null;var G=function(H,I){return(!H._lastAccess||H._lastAccess<I._lastAccess)?-1:1};var C=function(){var H=F,J=H.length;if(J>0){H.sort(G);var I=H[0].manager.zseed;for(var L=0;L<J;L++){var K=H[L];if(K&&!K.hidden){K.setZIndex(I+(L*10))}}}B()};var A=function(H){if(H!=E){if(E){E.setActive(false)}E=H;if(H){H.setActive(true)}}};var B=function(){for(var H=F.length-1;H>=0;--H){if(!F[H].hidden){A(F[H]);return }}A(null)};return{zseed:9000,register:function(H){D[H.id]=H;F.push(H);H.on("hide",B)},unregister:function(H){delete D[H.id];H.un("hide",B);F.remove(H)},get:function(H){return typeof H=="object"?H:D[H]},bringToFront:function(H){H=this.get(H);if(H!=E){H._lastAccess=new Date().getTime();C();return true}return false},sendToBack:function(H){H=this.get(H);H._lastAccess=-(new Date().getTime());C();return H},hideAll:function(){for(var H in D){if(D[H]&&typeof D[H]!="function"&&D[H].isVisible()){D[H].hide()}}},getActive:function(){return E},getBy:function(H,I){var L=[];for(var J=F.length-1;J>=0;--J){var K=F[J];if(H.call(I||K,K)!==false){L.push(K)}}return L},each:function(I,J){for(var H in D){if(D[H]&&typeof D[H]!="function"){if(I.call(J||D[H],D[H])===false){return }}}}}};Ext.WindowMgr=new Ext.WindowGroup();Ext.dd.PanelProxy=function(B,A){this.panel=B;this.id=this.panel.id+"-ddproxy";Ext.apply(this,A)};Ext.dd.PanelProxy.prototype={insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(undefined,undefined,Ext.getBody());this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize())}this.panel.el.dom.style.display="none"}},repair:function(A,C,B){this.hide();if(typeof C=="function"){C.call(B||this)}},moveProxy:function(B,A){if(this.proxy){B.insertBefore(this.proxy.dom,A)}}};Ext.Panel.DD=function(A,B){this.panel=A;this.dragData={panel:A};this.proxy=new Ext.dd.PanelProxy(A,B);Ext.Panel.DD.superclass.constructor.call(this,A.el,B);var C=A.header;if(C){this.setHandleElId(C.id)}(C?C:this.panel.body).setStyle("cursor","move");this.scroll=false};Ext.extend(Ext.Panel.DD,Ext.dd.DragSource,{showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(B,A){this.proxy.show()},b4MouseDown:function(A){var B=A.getPageX();var C=A.getPageY();this.autoOffset(B,C)},onInitDrag:function(B,A){this.onStartDrag(B,A);return true},createFrame:Ext.emptyFn,getDragEl:function(A){return this.proxy.ghost.dom},endDrag:function(A){this.proxy.hide();this.panel.saveState()},autoOffset:function(B,A){B-=this.startPageX;A-=this.startPageY;this.setDelta(B,A)}});Ext.state.Provider=function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)};Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(A,B){return typeof this.state[A]=="undefined"?B:this.state[A]},clear:function(A){delete this.state[A];this.fireEvent("statechange",this,A,null)},set:function(B,A){this.state[B]=A;this.fireEvent("statechange",this,B,A)},decodeValue:function(J){var A=/^(a|n|d|b|s|o)\:(.*)$/;var H=A.exec(unescape(J));if(!H||!H[1]){return }var E=H[1];var C=H[2];switch(E){case"n":return parseFloat(C);case"d":return new Date(Date.parse(C));case"b":return(C=="1");case"a":var D=[];var B=C.split("^");for(var I=0,G=B.length;I<G;I++){D.push(this.decodeValue(B[I]))}return D;case"o":var D={};var B=C.split("^");for(var I=0,G=B.length;I<G;I++){var F=B[I].split("=");D[F[0]]=this.decodeValue(F[1])}return D;default:return C}},encodeValue:function(F){var A;if(typeof F=="number"){A="n:"+F}else{if(typeof F=="boolean"){A="b:"+(F?"1":"0")}else{if(Ext.isDate(F)){A="d:"+F.toGMTString()}else{if(Ext.isArray(F)){var C="";for(var D=0,B=F.length;D<B;D++){C+=this.encodeValue(F[D]);if(D!=B-1){C+="^"}}A="a:"+C}else{if(typeof F=="object"){var C="";for(var E in F){if(typeof F[E]!="function"&&F[E]!==undefined){C+=E+"="+this.encodeValue(F[E])+"^"}}A="o:"+C.substring(0,C.length-1)}else{A="s:"+F}}}}}return escape(A)}});Ext.state.Manager=function(){var A=new Ext.state.Provider();return{setProvider:function(B){A=B},get:function(C,B){return A.get(C,B)},set:function(B,C){A.set(B,C)},clear:function(B){A.clear(B)},getProvider:function(){return A}}}();Ext.state.CookieProvider=function(A){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,A);this.state=this.readCookies()};Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(B,A){if(typeof A=="undefined"||A===null){this.clear(B);return }this.setCookie(B,A);Ext.state.CookieProvider.superclass.set.call(this,B,A)},clear:function(A){this.clearCookie(A);Ext.state.CookieProvider.superclass.clear.call(this,A)},readCookies:function(){var F={};var C=document.cookie+";";var A=/\s?(.*?)=(.*?);/g;var D;while((D=A.exec(C))!=null){var B=D[1];var E=D[2];if(B&&B.substring(0,3)=="ys-"){F[B.substr(3)]=this.decodeValue(E)}}return F},setCookie:function(B,A){document.cookie="ys-"+B+"="+this.encodeValue(A)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")},clearCookie:function(A){document.cookie="ys-"+A+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(typeof this.tpl=="string"){this.tpl=new Ext.XTemplate(this.tpl)}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","selectionchange","beforeselect");this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite()},onRender:function(){if(!this.el){this.el=document.createElement("div");this.el.id=this.id}Ext.DataView.superclass.onRender.apply(this,arguments)},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.el.on({click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.el.on({mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})}if(this.store){this.setStore(this.store,true)}},refresh:function(){this.clearSelections(false,true);this.el.update("");var A=this.store.getRange();if(A.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){this.el.update(this.emptyText)}this.hasSkippedEmptyText=true;this.all.clear();return }this.tpl.overwrite(this.el,this.collectData(A,0));this.all.fill(Ext.query(this.itemSelector,this.el.dom));this.updateIndexes(0)},prepareData:function(A){return A},collectData:function(A,C){var D=[];for(var E=0,B=A.length;E<B;E++){D[D.length]=this.prepareData(A[E].data,C+E,A[E])}return D},bufferRender:function(B){var A=document.createElement("div");this.tpl.overwrite(A,this.collectData(B));return Ext.query(this.itemSelector,A)},onUpdate:function(C,B){var A=this.store.indexOf(B);var D=this.isSelected(A);var F=this.all.elements[A];var E=this.bufferRender([B],A)[0];this.all.replaceElement(A,E,true);if(D){this.selected.replaceElement(F,E);this.all.item(A).addClass(this.selectedClass)}this.updateIndexes(A,A)},onAdd:function(C,E,D){if(this.all.getCount()==0){this.refresh();return }var F=this.bufferRender(E,D),B,A=this.all.elements;if(D<this.all.getCount()){B=this.all.item(D).insertSibling(F,"before",true);A.splice.apply(A,[D,0].concat(F))}else{B=this.all.last().insertSibling(F,"after",true);A.push.apply(A,F)}this.updateIndexes(D)},onRemove:function(C,B,A){this.deselect(A);this.all.removeElement(A,true);this.updateIndexes(A)},refreshNode:function(A){this.onUpdate(this.store,this.store.getAt(A))},updateIndexes:function(C,D){var A=this.all.elements;C=C||0;D=D||((D===0)?0:(A.length-1));for(var B=C;B<=D;B++){A[B].viewIndex=B}},getStore:function(){return this.store},setStore:function(B,A){if(!A&&this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.refresh,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this)}if(B){B=Ext.StoreMgr.lookup(B);B.on("beforeload",this.onBeforeLoad,this);B.on("datachanged",this.refresh,this);B.on("add",this.onAdd,this);B.on("remove",this.onRemove,this);B.on("update",this.onUpdate,this);B.on("clear",this.refresh,this)}this.store=B;if(B){this.refresh()}},findItemFromChild:function(A){return Ext.fly(A).findParent(this.itemSelector,this.el)},onClick:function(C){var A=C.getTarget(this.itemSelector,this.el);if(A){var B=this.indexOf(A);if(this.onItemClick(A,B,C)!==false){this.fireEvent("click",this,B,A,C)}}else{if(this.fireEvent("containerclick",this,C)!==false){this.clearSelections()}}},onContextMenu:function(A){var B=A.getTarget(this.itemSelector,this.el);if(B){this.fireEvent("contextmenu",this,this.indexOf(B),B,A)}},onDblClick:function(A){var B=A.getTarget(this.itemSelector,this.el);if(B){this.fireEvent("dblclick",this,this.indexOf(B),B,A)}},onMouseOver:function(A){var B=A.getTarget(this.itemSelector,this.el);if(B&&B!==this.lastItem){this.lastItem=B;Ext.fly(B).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(B),B,A)}},onMouseOut:function(A){if(this.lastItem){if(!A.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,A);delete this.lastItem}}},onItemClick:function(A,B,C){if(this.fireEvent("beforeclick",this,B,A,C)===false){return false}if(this.multiSelect){this.doMultiSelection(A,B,C);C.preventDefault()}else{if(this.singleSelect){this.doSingleSelection(A,B,C);C.preventDefault()}}return true},doSingleSelection:function(A,B,C){if(C.ctrlKey&&this.isSelected(B)){this.deselect(B)}else{this.select(B,false)}},doMultiSelection:function(D,B,C){if(C.shiftKey&&this.last!==false){var A=this.last;this.selectRange(A,B,C.ctrlKey);this.last=A}else{if((C.ctrlKey||this.simpleSelect)&&this.isSelected(B)){this.deselect(B)}else{this.select(B,C.ctrlKey||C.shiftKey||this.simpleSelect)}}},getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){var A=[],C=this.selected.elements;for(var D=0,B=C.length;D<B;D++){A.push(C[D].viewIndex)}return A},getSelectedRecords:function(){var C=[],D=this.selected.elements;for(var A=0,B=D.length;A<B;A++){C[C.length]=this.store.getAt(D[A].viewIndex)}return C},getRecords:function(A){var C=[],D=A;for(var E=0,B=D.length;E<B;E++){C[C.length]=this.store.getAt(D[E].viewIndex)}return C},getRecord:function(A){return this.store.getAt(A.viewIndex)},clearSelections:function(B,A){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!A){this.selected.removeClass(this.selectedClass)}this.selected.clear();this.last=false;if(!B){this.fireEvent("selectionchange",this,this.selected.elements)}}},isSelected:function(A){return this.selected.contains(this.getNode(A))},deselect:function(A){if(this.isSelected(A)){A=this.getNode(A);this.selected.removeElement(A);if(this.last==A.viewIndex){this.last=false}Ext.fly(A).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements)}},select:function(E,C,A){if(Ext.isArray(E)){if(!C){this.clearSelections(true)}for(var F=0,B=E.length;F<B;F++){this.select(E[F],true,true)}if(!A){this.fireEvent("selectionchange",this,this.selected.elements)}}else{var D=this.getNode(E);if(!C){this.clearSelections(true)}if(D&&!this.isSelected(D)){if(this.fireEvent("beforeselect",this,D,this.selected.elements)!==false){Ext.fly(D).addClass(this.selectedClass);this.selected.add(D);this.last=D.viewIndex;if(!A){this.fireEvent("selectionchange",this,this.selected.elements)}}}}},selectRange:function(C,B,A){if(!A){this.clearSelections(true)}this.select(this.getNodes(C,B),true)},getNode:function(A){if(typeof A=="string"){return document.getElementById(A)}else{if(typeof A=="number"){return this.all.elements[A]}}return A},getNodes:function(C,B){var D=this.all.elements;C=C||0;B=typeof B=="undefined"?Math.max(D.length-1,0):B;var A=[],E;if(C<=B){for(E=C;E<=B&&D[E];E++){A.push(D[E])}}else{for(E=C;E>=B&&D[E];E--){A.push(D[E])}}return A},indexOf:function(A){A=this.getNode(A);if(typeof A.viewIndex=="number"){return A.viewIndex}return this.all.indexOf(A)},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.el.update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear()}},onDestroy:function(){Ext.DataView.superclass.onDestroy.call(this);this.setStore(null)}});Ext.reg("dataview",Ext.DataView);Ext.ColorPalette=function(A){Ext.ColorPalette.superclass.constructor.call(this,A);this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true)}};Ext.extend(Ext.ColorPalette,Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],onRender:function(A,B){var D=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');var C=document.createElement("div");C.id=this.getId();C.className=this.itemCls;D.overwrite(C,this.colors);A.dom.insertBefore(C,B);this.el=Ext.get(C);this.el.on(this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.el.on("click",Ext.emptyFn,this,{delegate:"a",preventDefault:true})}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var A=this.value;this.value=null;this.select(A)}},handleClick:function(A,B){A.preventDefault();if(!this.disabled){var C=B.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(C.toUpperCase())}},select:function(B){B=B.replace("#","");if(B!=this.value||this.allowReselect){var A=this.el;if(this.value){A.child("a.color-"+this.value).removeClass("x-color-palette-sel")}A.child("a.color-"+B).addClass("x-color-palette-sel");this.value=B;this.fireEvent("select",this,B)}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.Component,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",constrainToViewport:true,monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime():new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this)}this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var B=this.disabledDates;var C="(?:";for(var A=0;A<B.length;A++){C+=B[A];if(A!=B.length-1){C+="|"}}this.disabledDatesRE=new RegExp(C+")")}},setDisabledDates:function(A){if(Ext.isArray(A)){this.disabledDates=A;this.disabledDatesRE=null}else{this.disabledDatesRE=A}this.initDisabledDays();this.update(this.value,true)},setDisabledDays:function(A){this.disabledDays=A;this.update(this.value,true)},setMinDate:function(A){this.minDate=A;this.update(this.value,true)},setMaxDate:function(A){this.maxDate=A;this.update(this.value,true)},setValue:function(A){var B=this.value;this.value=A.clearTime(true);if(this.el){this.update(this.value)}},getValue:function(){return this.value},focus:function(){if(this.el){this.update(this.activeDate)}},onRender:function(I,D){var G=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'];var E=this.dayNames;for(var F=0;F<7;F++){var C=this.startDay+F;if(C>6){C=C-7}G.push("<th><span>",E[C].substr(0,1),"</span></th>")}G[G.length]="</tr></thead><tbody><tr>";for(var F=0;F<42;F++){if(F%7==0&&F!=0){G[G.length]="</tr><tr>"}G[G.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>'}G.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var H=document.createElement("div");H.className="x-date-picker";H.innerHTML=G.join("");I.dom.insertBefore(H,D);this.el=Ext.get(H);this.eventEl=Ext.get(H.firstChild);this.leftClickRpt=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});this.rightClickRpt=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.eventEl.on("mousewheel",this.handleMouseWheel,this);this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");var A=new Ext.KeyNav(this.eventEl,{left:function(J){J.ctrlKey?this.showPrevMonth():this.update(this.activeDate.add("d",-1))},right:function(J){J.ctrlKey?this.showNextMonth():this.update(this.activeDate.add("d",1))},up:function(J){J.ctrlKey?this.showNextYear():this.update(this.activeDate.add("d",-7))},down:function(J){J.ctrlKey?this.showPrevYear():this.update(this.activeDate.add("d",7))},pageUp:function(J){this.showNextMonth()},pageDown:function(J){this.showPrevMonth()},enter:function(J){J.stopPropagation();return true},scope:this});this.eventEl.on("click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.on("click",this.showMonthPicker,this);this.mbtn.el.child(this.mbtn.menuClassTarget).addClass("x-btn-with-menu");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var B=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,B),tooltip:String.format(this.todayTip,B),handler:this.selectToday,scope:this})}if(Ext.isIE){this.el.repaint()}this.update(this.value)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var B=['<table border="0" cellspacing="0">'];for(var A=0;A<6;A++){B.push('<tr><td class="x-date-mp-month"><a href="#">',this.monthNames[A].substr(0,3),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',this.monthNames[A+6].substr(0,3),"</a></td>",A==0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>')}B.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(B.join(""));this.monthPicker.on("click",this.onMonthClick,this);this.monthPicker.on("dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(E,D,C){C+=1;if((C%2)==0){E.dom.xmonth=5+Math.round(C*0.5)}else{E.dom.xmonth=Math.round((C-1)*0.5)}})}},showMonthPicker:function(){this.createMonthPicker();var A=this.el.getSize();this.monthPicker.setSize(A);this.monthPicker.child("table").setSize(A);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2})},updateMPYear:function(C){this.mpyear=C;var E=this.mpYears.elements;for(var A=1;A<=10;A++){var D=E[A-1],B;if((A%2)==0){B=C+Math.round(A*0.5);D.firstChild.innerHTML=B;D.xyear=B}else{B=C-(5-Math.round(A*0.5));D.firstChild.innerHTML=B;D.xyear=B}this.mpYears.item(A-1)[B==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(A){this.mpMonths.each(function(B,D,C){B[B.dom.xmonth==A?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(A){},onMonthClick:function(D,A){D.stopEvent();var E=new Ext.Element(A),B;if(E.is("button.x-date-mp-cancel")){this.hideMonthPicker()}else{if(E.is("button.x-date-mp-ok")){var C=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(C.getMonth()!=this.mpSelMonth){C=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth()}this.update(C);this.hideMonthPicker()}else{if(B=E.up("td.x-date-mp-month",2)){this.mpMonths.removeClass("x-date-mp-sel");B.addClass("x-date-mp-sel");this.mpSelMonth=B.dom.xmonth}else{if(B=E.up("td.x-date-mp-year",2)){this.mpYears.removeClass("x-date-mp-sel");B.addClass("x-date-mp-sel");this.mpSelYear=B.dom.xyear}else{if(E.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10)}else{if(E.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10)}}}}}}},onMonthDblClick:function(C,A){C.stopEvent();var D=new Ext.Element(A),B;if(B=D.up("td.x-date-mp-month",2)){this.update(new Date(this.mpSelYear,B.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}else{if(B=D.up("td.x-date-mp-year",2)){this.update(new Date(B.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}}},hideMonthPicker:function(A){if(this.monthPicker){if(A===true){this.monthPicker.hide()}else{this.monthPicker.slideOut("t",{duration:0.2})}}},showPrevMonth:function(A){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(A){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(B){var A=B.getWheelDelta();if(A>0){this.showPrevMonth();B.stopEvent()}else{if(A<0){this.showNextMonth();B.stopEvent()}}},handleDateClick:function(A,B){A.stopEvent();if(B.dateValue&&!Ext.fly(B.parentNode).hasClass("x-date-disabled")){this.setValue(new Date(B.dateValue));this.fireEvent("select",this,this.value)}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value)}},update:function(P,Z){var AJ=this.activeDate;this.activeDate=P;if(!Z&&AJ&&this.el){var t=P.getTime();if(AJ.getMonth()==P.getMonth()&&AJ.getFullYear()==P.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(A){if(A.dom.firstChild.dateValue==t){A.addClass("x-date-selected");setTimeout(function(){try{A.dom.firstChild.focus()}catch(B){}},50);return false}});return }}var AC=P.getDaysInMonth();var d=P.getFirstDateOfMonth();var AF=d.getDay()-this.startDay;if(AF<=this.startDay){AF+=7}var X=P.add("mo",-1);var AE=X.getDaysInMonth()-AF;var AG=this.cells.elements;var Y=this.textNodes;AC+=AF;var M=86400000;var U=(new Date(X.getFullYear(),X.getMonth(),AE)).clearTime();var W=new Date().clearTime().getTime();var R=P.clearTime().getTime();var T=this.minDate?this.minDate.clearTime():Number.NEGATIVE_INFINITY;var K=this.maxDate?this.maxDate.clearTime():Number.POSITIVE_INFINITY;var Q=this.disabledDatesRE;var V=this.disabledDatesText;var L=this.disabledDays?this.disabledDays.join(""):false;var S=this.disabledDaysText;var i=this.format;if(this.showToday){var AA=new Date().clearTime();var AH=(AA<T||AA>K||(Q&&i&&Q.test(AA.dateFormat(i)))||(L&&L.indexOf(AA.getDay())!=-1));this.todayBtn.setDisabled(AH);this.todayKeyListener[AH?"disable":"enable"]()}var AB=function(B,D){D.title="";var C=U.getTime();D.firstChild.dateValue=C;if(C==W){D.className+=" x-date-today";D.title=B.todayText}if(C==R){D.className+=" x-date-selected";setTimeout(function(){try{D.firstChild.focus()}catch(E){}},50)}if(C<T){D.className=" x-date-disabled";D.title=B.minText;return }if(C>K){D.className=" x-date-disabled";D.title=B.maxText;return }if(L){if(L.indexOf(U.getDay())!=-1){D.title=S;D.className=" x-date-disabled"}}if(Q&&i){var A=U.dateFormat(i);if(Q.test(A)){D.title=V.replace("%0",A);D.className=" x-date-disabled"}}};var O=0;for(;O<AF;O++){Y[O].innerHTML=(++AE);U.setDate(U.getDate()+1);AG[O].className="x-date-prevday";AB(this,AG[O])}for(;O<AC;O++){var AI=O-AF+1;Y[O].innerHTML=(AI);U.setDate(U.getDate()+1);AG[O].className="x-date-active";AB(this,AG[O])}var N=0;for(;O<42;O++){Y[O].innerHTML=(++N);U.setDate(U.getDate()+1);AG[O].className="x-date-nextday";AB(this,AG[O])}this.mbtn.setText(this.monthNames[P.getMonth()]+" "+P.getFullYear());if(!this.internalRender){var AD=this.el.dom.firstChild;var w=AD.offsetWidth;this.el.setWidth(w+this.el.getBorderWidth("lr"));Ext.fly(AD).setWidth(w);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){AD.rows[0].cells[1].style.width=(w-(AD.rows[0].cells[0].offsetWidth+AD.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[P])}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.leftClickRpt,this.rightClickRpt,this.monthPicker,this.eventEl,this.mbtn,this.todayBtn)}}});Ext.reg("datepicker",Ext.DatePicker);Ext.TabPanel=Ext.extend(Ext.Panel,{monitorResize:true,deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:null,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout({deferredRender:this.deferredRender}));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header"}else{this.elements+=",footer";this.stripTarget="footer"}if(!this.stack){this.stack=Ext.TabPanel.AccessStack()}this.initItems()},render:function(){Ext.TabPanel.superclass.render.apply(this,arguments);if(this.activeTab!==undefined){var A=this.activeTab;delete this.activeTab;this.setActiveTab(A)}},onRender:function(F,B){Ext.TabPanel.superclass.onRender.call(this,F,B);if(this.plain){var C=this.tabPosition=="top"?"header":"footer";this[C].addClass("x-tab-panel-"+C+"-plain")}var A=this[this.stripTarget];this.stripWrap=A.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var D=(this.tabPosition=="bottom"?this.stripWrap:null);this.stripSpacer=A.createChild({cls:"x-tab-strip-spacer"},D);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge"});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var E=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close" onclick="return false;"></a>','<a class="x-tab-right" href="#" onclick="return false;"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");E.disableFormats=true;E.compile();Ext.TabPanel.prototype.itemTpl=E}this.items.each(this.initTab,this)},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.on("add",this.onAdd,this);this.on("remove",this.onRemove,this);this.strip.on("mousedown",this.onStripMouseDown,this);this.strip.on("contextmenu",this.onStripContextMenu,this);if(this.enableTabScroll){this.strip.on("mousewheel",this.onWheel,this)}},findTargets:function(C){var A=null;var B=C.getTarget("li",this.strip);if(B){A=this.getComponent(B.id.split(this.idDelimiter)[1]);if(A.disabled){return{close:null,item:null,el:null}}}return{close:C.getTarget(".x-tab-strip-close",this.strip),item:A,el:B}},onStripMouseDown:function(A){if(A.button!=0){return }A.preventDefault();var B=this.findTargets(A);if(B.close){this.remove(B.item);return }if(B.item&&B.item!=this.activeTab){this.setActiveTab(B.item)}},onStripContextMenu:function(A){A.preventDefault();var B=this.findTargets(A);if(B.item){this.fireEvent("contextmenu",this,B.item,A)}},readTabs:function(E){if(E===true){this.items.each(function(G){this.remove(G)},this)}var F=this.el.query(this.autoTabSelector);for(var A=0,B=F.length;A<B;A++){var D=F[A];var C=D.getAttribute("title");D.removeAttribute("title");this.add({title:C,el:D})}},initTab:function(E,A){var D=this.strip.dom.childNodes[A];var B=E.closable?"x-tab-strip-closable":"";if(E.disabled){B+=" x-item-disabled"}if(E.iconCls){B+=" x-tab-with-icon"}if(E.tabCls){B+=" "+E.tabCls}var C={id:this.id+this.idDelimiter+E.getItemId(),text:E.title,cls:B,iconCls:E.iconCls||""};var F=D?this.itemTpl.insertBefore(D,C):this.itemTpl.append(this.strip,C);Ext.fly(F).addClassOnOver("x-tab-strip-over");if(E.tabTip){Ext.fly(F).child("span.x-tab-strip-text",true).qtip=E.tabTip}E.tabEl=F;E.on("disable",this.onItemDisabled,this);E.on("enable",this.onItemEnabled,this);E.on("titlechange",this.onItemTitleChanged,this);E.on("iconchange",this.onItemIconChanged,this);E.on("beforeshow",this.onBeforeShowItem,this)},onAdd:function(C,A,B){this.initTab(A,B);if(this.items.getCount()==1){this.syncSize()}this.delegateUpdates()},onBeforeAdd:function(A){var B=A.events?(this.items.containsKey(A.getItemId())?A:null):this.items.get(A);if(B){this.setActiveTab(A);return false}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var C=A.elements;A.elements=C?C.replace(",header",""):C;A.border=(A.border===true)},onRemove:function(C,A){Ext.destroy(Ext.get(this.getTabEl(A)));this.stack.remove(A);A.un("disable",this.onItemDisabled,this);A.un("enable",this.onItemEnabled,this);A.un("titlechange",this.onItemTitleChanged,this);A.un("iconchange",this.onItemIconChanged,this);A.un("beforeshow",this.onBeforeShowItem,this);if(A==this.activeTab){var B=this.stack.next();if(B){this.setActiveTab(B)}else{if(this.items.getCount()>0){this.setActiveTab(0)}else{this.activeTab=null}}}this.delegateUpdates()},onBeforeShowItem:function(A){if(A!=this.activeTab){this.setActiveTab(A);return false}},onItemDisabled:function(A){var B=this.getTabEl(A);if(B){Ext.fly(B).addClass("x-item-disabled")}this.stack.remove(A)},onItemEnabled:function(A){var B=this.getTabEl(A);if(B){Ext.fly(B).removeClass("x-item-disabled")}},onItemTitleChanged:function(A){var B=this.getTabEl(A);if(B){Ext.fly(B).child("span.x-tab-strip-text",true).innerHTML=A.title}},onItemIconChanged:function(C,B,D){var A=this.getTabEl(C);if(A){Ext.fly(A).child("span.x-tab-strip-text").replaceClass(D,B)}},getTabEl:function(B){var A=(typeof B==="number")?this.items.items[B].getItemId():B.getItemId();return document.getElementById(this.id+this.idDelimiter+A)},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=true},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates()},hideTabStripItem:function(A){A=this.getComponent(A);var B=this.getTabEl(A);if(B){B.style.display="none";this.delegateUpdates()}this.stack.remove(A)},unhideTabStripItem:function(A){A=this.getComponent(A);var B=this.getTabEl(A);if(B){B.style.display="";this.delegateUpdates()}},delegateUpdates:function(){if(this.suspendUpdates){return }if(this.resizeTabs&&this.rendered){this.autoSizeTabs()}if(this.enableTabScroll&&this.rendered){this.autoScrollTabs()}},autoSizeTabs:function(){var F=this.items.length;var K=this.tabPosition!="bottom"?"header":"footer";var J=this[K].dom.offsetWidth;var L=this[K].dom.clientWidth;if(!this.resizeTabs||F<1||!L){return }var D=Math.max(Math.min(Math.floor((L-4)/F)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=D;var B=this.stripWrap.dom.getElementsByTagName("li");for(var H=0,E=B.length-1;H<E;H++){var C=B[H];var A=C.childNodes[1].firstChild.firstChild;var G=C.offsetWidth;var I=A.offsetWidth;A.style.width=(D-(G-I))+"px"}},adjustBodyWidth:function(A){if(this.header){this.header.setWidth(A)}if(this.footer){this.footer.setWidth(A)}return A},setActiveTab:function(C){C=this.getComponent(C);if(!C||this.fireEvent("beforetabchange",this,C,this.activeTab)===false){return }if(!this.rendered){this.activeTab=C;return }if(this.activeTab!=C){if(this.activeTab){var B=this.getTabEl(this.activeTab);if(B){Ext.fly(B).removeClass("x-tab-strip-active")}this.activeTab.fireEvent("deactivate",this.activeTab)}var A=this.getTabEl(C);Ext.fly(A).addClass("x-tab-strip-active");this.activeTab=C;this.stack.add(C);this.layout.setActiveItem(C);if(this.layoutOnTabChange&&C.doLayout){C.doLayout()}if(this.scrolling){this.scrollToTab(C,this.animScroll)}C.fireEvent("activate",C);this.fireEvent("tabchange",this,C)}},getActiveTab:function(){return this.activeTab||null},getItem:function(A){return this.getComponent(A)},autoScrollTabs:function(){this.pos=this.tabPosition=="bottom"?this.footer:this.header;var D=this.items.length;var G=this.pos.dom.offsetWidth;var H=this.pos.dom.clientWidth;var E=this.stripWrap;var F=E.dom;var A=F.offsetWidth;var C=this.getScrollPos();var B=this.edge.getOffsetsTo(this.stripWrap)[0]+C;if(!this.enableTabScroll||D<1||A<20){return }if(B<=H){F.scrollLeft=0;E.setWidth(H);if(this.scrolling){this.scrolling=false;this.pos.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir||Ext.isSafari){F.style.marginLeft="";F.style.marginRight=""}}}else{if(!this.scrolling){this.pos.addClass("x-tab-scrolling");if(Ext.isAir||Ext.isSafari){F.style.marginLeft="18px";F.style.marginRight="18px"}}H-=E.getMargins("lr");E.setWidth(H>20?H:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers()}else{this.scrollLeft.show();this.scrollRight.show()}}this.scrolling=true;if(C>(B-H)){F.scrollLeft=B-H}else{this.scrollToTab(this.activeTab,false)}this.updateScrollButtons()}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var C=this.stripWrap.dom.offsetHeight;var B=this.pos.insertFirst({cls:"x-tab-scroller-left"});B.setHeight(C);B.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(B,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=B;var A=this.pos.insertFirst({cls:"x-tab-scroller-right"});A.setHeight(C);A.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(A,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=A},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(E,B){if(!E){return }var G=this.getTabEl(E);var C=this.getScrollPos(),F=this.getScrollArea();var D=Ext.fly(G).getOffsetsTo(this.stripWrap)[0]+C;var A=D+G.offsetWidth;if(D<C){this.scrollTo(D,B)}else{if(A>(C+F)){this.scrollTo(A-F,B)}}},scrollTo:function(A,B){this.stripWrap.scrollTo("left",A,B?this.getScrollAnim():false);if(!B){this.updateScrollButtons()}},onWheel:function(E){var D=E.getWheelDelta()*this.wheelIncrement*-1;E.stopEvent();var C=this.getScrollPos();var F=C+D;var B=this.getScrollWidth()-this.getScrollArea();var A=Math.max(0,Math.min(B,F));if(A!=C){this.scrollTo(A,false)}},onScrollRight:function(){var B=this.getScrollWidth()-this.getScrollArea();var C=this.getScrollPos();var A=Math.min(B,C+this.getScrollIncrement());if(A!=C){this.scrollTo(A,this.animScroll)}},onScrollLeft:function(){var A=this.getScrollPos();var B=Math.max(0,A-this.getScrollIncrement());if(B!=A){this.scrollTo(B,this.animScroll)}},updateScrollButtons:function(){var A=this.getScrollPos();this.scrollLeft[A==0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[A>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){if(this.items){this.items.each(function(A){if(A&&A.tabEl){Ext.get(A.tabEl).removeAllListeners();A.tabEl=null}},this)}if(this.strip){this.strip.removeAllListeners()}Ext.TabPanel.superclass.beforeDestroy.apply(this)}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var A=[];return{add:function(B){A.push(B);if(A.length>10){A.shift()}},remove:function(C){var D=[];for(var E=0,B=A.length;E<B;E++){if(A[E]!=C){D.push(A[E])}}A=D},next:function(){return A.pop()}}};Ext.Button=Ext.extend(Ext.Component,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first-child",initComponent:function(){Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu)}if(typeof this.toggleGroup==="string"){this.enableToggle=true}},onRender:function(E,B){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table border="0" cellpadding="0" cellspacing="0" class="x-btn-wrap"><tbody><tr>','<td class="x-btn-left"><i>&#160;</i></td><td class="x-btn-center"><em unselectable="on"><button class="x-btn-text" type="{1}">{0}</button></em></td><td class="x-btn-right"><i>&#160;</i></td>',"</tr></tbody></table>")}this.template=Ext.Button.buttonTemplate}var A,C=[this.text||"&#160;",this.type];if(B){A=this.template.insertBefore(B,C,true)}else{A=this.template.append(E,C,true)}var D=A.child(this.buttonSelector);D.on("focus",this.onFocus,this);D.on("blur",this.onBlur,this);this.initButtonEl(A,D);if(this.menu){this.el.child(this.menuClassTarget).addClass("x-btn-with-menu")}Ext.ButtonToggleMgr.register(this)},initButtonEl:function(A,C){this.el=A;A.addClass("x-btn");if(this.id){this.el.dom.id=this.el.id=this.id}if(this.icon){C.setStyle("background-image","url("+this.icon+")")}if(this.iconCls){C.addClass(this.iconCls);if(!this.cls){A.addClass(this.text?"x-btn-text-icon":"x-btn-icon")}}if(this.tabIndex!==undefined){C.dom.tabIndex=this.tabIndex}if(this.tooltip){if(typeof this.tooltip=="object"){Ext.QuickTips.register(Ext.apply({target:C.id},this.tooltip))}else{C.dom[this.tooltipType]=this.tooltip}}if(this.pressed){this.el.addClass("x-btn-pressed")}if(this.handleMouseEvents){A.on("mouseover",this.onMouseOver,this);A.on("mousedown",this.onMouseDown,this)}if(this.menu){this.menu.on("show",this.onMenuShow,this);this.menu.on("hide",this.onMenuHide,this)}if(this.repeat){var B=new Ext.util.ClickRepeater(A,typeof this.repeat=="object"?this.repeat:{});B.on("click",this.onClick,this)}A.on(this.clickEvent,this.onClick,this)},afterRender:function(){Ext.Button.superclass.afterRender.call(this);if(Ext.isIE6){this.autoWidth.defer(1,this)}else{this.autoWidth()}},setIconClass:function(A){if(this.el){this.el.child(this.buttonSelector).replaceClass(this.iconCls,A)}this.iconCls=A},beforeDestroy:function(){if(this.rendered){var A=this.el.child(this.buttonSelector);if(A){if(this.tooltip){Ext.QuickTips.unregister(A)}A.removeAllListeners()}}if(this.menu){Ext.destroy(this.menu)}},onDestroy:function(){if(this.rendered){Ext.ButtonToggleMgr.unregister(this)}},autoWidth:function(){if(this.el){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var A=this.el.child(this.buttonSelector);if(A&&A.getWidth()>20){A.clip();A.setWidth(Ext.util.TextMetrics.measure(A,this.text).width+A.getFrameWidth("lr"))}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth)}}}},setHandler:function(A,B){this.handler=A;this.scope=B},setText:function(A){this.text=A;if(this.el){this.el.child("td.x-btn-center "+this.buttonSelector).update(A)}this.autoWidth()},getText:function(){return this.text},toggle:function(A){A=A===undefined?!this.pressed:A;if(A!=this.pressed){if(A){this.el.addClass("x-btn-pressed");this.pressed=true;this.fireEvent("toggle",this,true)}else{this.el.removeClass("x-btn-pressed");this.pressed=false;this.fireEvent("toggle",this,false)}if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,A)}}},focus:function(){this.el.child(this.buttonSelector).focus()},onDisable:function(){if(this.el){if(!Ext.isIE6||!this.text){this.el.addClass(this.disabledClass)}this.el.dom.disabled=true}this.disabled=true},onEnable:function(){if(this.el){if(!Ext.isIE6||!this.text){this.el.removeClass(this.disabledClass)}this.el.dom.disabled=false}this.disabled=false},showMenu:function(){if(this.menu){this.menu.show(this.el,this.menuAlign)}return this},hideMenu:function(){if(this.menu){this.menu.hide()}return this},hasVisibleMenu:function(){return this.menu&&this.menu.isVisible()},onClick:function(A){if(A){A.preventDefault()}if(A.button!=0){return }if(!this.disabled){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle()}if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("click",this,A);if(this.handler){this.handler.call(this.scope||this,this,A)}}},isMenuTriggerOver:function(A,B){return this.menu&&!B},isMenuTriggerOut:function(A,B){return this.menu&&!B},onMouseOver:function(A){if(!this.disabled){var B=A.within(this.el,true);if(!B){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){Ext.getDoc().on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true}this.fireEvent("mouseover",this,A)}if(this.isMenuTriggerOver(A,B)){this.fireEvent("menutriggerover",this,this.menu,A)}}},monitorMouseOver:function(A){if(A.target!=this.el.dom&&!A.within(this.el)){if(this.monitoringMouseOver){Ext.getDoc().un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false}this.onMouseOut(A)}},onMouseOut:function(A){var B=A.within(this.el)&&A.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,A);if(this.isMenuTriggerOut(A,B)){this.fireEvent("menutriggerout",this,this.menu,A)}},onFocus:function(A){if(!this.disabled){this.el.addClass("x-btn-focus")}},onBlur:function(A){this.el.removeClass("x-btn-focus")},getClickEl:function(A,B){return this.el},onMouseDown:function(A){if(!this.disabled&&A.button==0){this.getClickEl(A).addClass("x-btn-click");Ext.getDoc().on("mouseup",this.onMouseUp,this)}},onMouseUp:function(A){if(A.button==0){this.getClickEl(A,true).removeClass("x-btn-click");Ext.getDoc().un("mouseup",this.onMouseUp,this)}},onMenuShow:function(A){this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu)},onMenuHide:function(A){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu)},restoreClick:function(){this.ignoreNextClick=0}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var B={};function A(E,C){if(C){var D=B[E.toggleGroup];for(var F=0,G=D.length;F<G;F++){if(D[F]!=E){D[F].toggle(false)}}}}return{register:function(D){if(!D.toggleGroup){return }var C=B[D.toggleGroup];if(!C){C=B[D.toggleGroup]=[]}C.push(D);D.on("toggle",A)},unregister:function(D){if(!D.toggleGroup){return }var C=B[D.toggleGroup];if(C){C.remove(D);D.un("toggle",A)}}}}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"button:last",initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(E,B){var A=new Ext.Template('<table cellspacing="0" class="x-btn-menu-wrap x-btn"><tr><td>','<table cellspacing="0" class="x-btn-wrap x-btn-menu-text-wrap"><tbody>','<tr><td class="x-btn-left"><i>&#160;</i></td><td class="x-btn-center"><button class="x-btn-text" type="{1}">{0}</button></td></tr>',"</tbody></table></td><td>",'<table cellspacing="0" class="x-btn-wrap x-btn-menu-arrow-wrap"><tbody>','<tr><td class="x-btn-center"><button class="x-btn-menu-arrow-el" type="button">&#160;</button></td><td class="x-btn-right"><i>&#160;</i></td></tr>',"</tbody></table></td></tr></table>");var F,C=[this.text||"&#160;",this.type];if(B){F=A.insertBefore(B,C,true)}else{F=A.append(E,C,true)}var D=F.child(this.buttonSelector);this.initButtonEl(F,D);this.arrowBtnTable=F.child("table:last");if(this.arrowTooltip){F.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip}},autoWidth:function(){if(this.el){var C=this.el.child("table:first");var A=this.el.child("table:last");this.el.setWidth("auto");C.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var B=this.el.child(this.buttonSelector);if(B&&B.getWidth()>20){B.clip();B.setWidth(Ext.util.TextMetrics.measure(B,this.text).width+B.getFrameWidth("lr"))}}if(this.minWidth){if((C.getWidth()+A.getWidth())<this.minWidth){C.setWidth(this.minWidth-A.getWidth())}}this.el.setWidth(C.getWidth()+A.getWidth())}},setArrowHandler:function(A,B){this.arrowHandler=A;this.scope=B},onClick:function(A){A.preventDefault();if(!this.disabled){if(A.getTarget(".x-btn-menu-arrow-wrap")){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("arrowclick",this,A);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,A)}}else{if(this.enableToggle){this.toggle()}this.fireEvent("click",this,A);if(this.handler){this.handler.call(this.scope||this,this,A)}}}},getClickEl:function(A,B){if(!B){return(this.lastClickEl=A.getTarget("table",10,true))}return this.lastClickEl},onDisable:function(){if(this.el){if(!Ext.isIE6){this.el.addClass("x-item-disabled")}this.el.child(this.buttonSelector).dom.disabled=true;this.el.child(this.arrowSelector).dom.disabled=true}this.disabled=true},onEnable:function(){if(this.el){if(!Ext.isIE6){this.el.removeClass("x-item-disabled")}this.el.child(this.buttonSelector).dom.disabled=false;this.el.child(this.arrowSelector).dom.disabled=false}this.disabled=false},isMenuTriggerOver:function(A){return this.menu&&A.within(this.arrowBtnTable)&&!A.within(this.arrowBtnTable,true)},isMenuTriggerOut:function(A,B){return this.menu&&!A.within(this.arrowBtnTable)},onDestroy:function(){Ext.destroy(this.arrowBtnTable);Ext.SplitButton.superclass.onDestroy.call(this)}});Ext.MenuButton=Ext.SplitButton;Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(B){if(B&&this.showText===true){var A="";if(this.prependText){A+=this.prependText}A+=B.text;return A}return undefined},setActiveItem:function(C,B){if(typeof C!="object"){C=this.menu.items.get(C)}if(C){if(!this.rendered){this.text=this.getItemText(C);this.iconCls=C.iconCls}else{var A=this.getItemText(C);if(A){this.setText(A)}this.setIconClass(C.iconCls)}this.activeItem=C;if(!C.checked){C.setChecked(true,true)}if(this.forceIcon){this.setIconClass(this.forceIcon)}if(!B){this.fireEvent("change",this,C)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var C;for(var A=0,B=this.itemCount;A<B;A++){var D=this.items[A];D.group=D.group||this.id;D.itemIndex=A;D.checkHandler=this.checkHandler;D.scope=this;D.checked=D.checked||false;this.menu.items.push(D);if(D.checked){C=D}}this.setActiveItem(C,true);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this)},checkHandler:function(B,A){if(A){this.setActiveItem(B)}},toggleSelected:function(){this.menu.render();var C,B;for(var A=1;A<this.itemCount;A++){C=(this.activeItem.itemIndex+A)%this.itemCount;B=this.menu.items.itemAt(C);if(!B.disabled){B.setChecked(true);break}}}});Ext.reg("cycle",Ext.CycleButton);Ext.Toolbar=function(A){if(Ext.isArray(A)){A={buttons:A}}Ext.Toolbar.superclass.constructor.call(this,A)};(function(){var A=Ext.Toolbar;Ext.extend(A,Ext.BoxComponent,{trackMenus:true,initComponent:function(){A.superclass.initComponent.call(this);if(this.items){this.buttons=this.items}this.items=new Ext.util.MixedCollection(false,function(B){return B.itemId||B.id||Ext.id()})},autoCreate:{cls:"x-toolbar x-small-editor",html:'<table cellspacing="0"><tr></tr></table>'},onRender:function(C,B){this.el=C.createChild(Ext.apply({id:this.id},this.autoCreate),B);this.tr=this.el.child("tr",true)},afterRender:function(){A.superclass.afterRender.call(this);if(this.buttons){this.add.apply(this,this.buttons);delete this.buttons}},add:function(){var E=arguments,B=E.length;for(var D=0;D<B;D++){var C=E[D];if(C.isFormField){this.addField(C)}else{if(C.render){this.addItem(C)}else{if(typeof C=="string"){if(C=="separator"||C=="-"){this.addSeparator()}else{if(C==" "){this.addSpacer()}else{if(C=="->"){this.addFill()}else{this.addText(C)}}}}else{if(C.tagName){this.addElement(C)}else{if(typeof C=="object"){if(C.xtype){this.addField(Ext.ComponentMgr.create(C,"button"))}else{this.addButton(C)}}}}}}}},addSeparator:function(){return this.addItem(new A.Separator())},addSpacer:function(){return this.addItem(new A.Spacer())},addFill:function(){return this.addItem(new A.Fill())},addElement:function(B){return this.addItem(new A.Item(B))},addItem:function(B){var C=this.nextBlock();this.initMenuTracking(B);B.render(C);this.items.add(B);return B},addButton:function(E){if(Ext.isArray(E)){var C=[];for(var D=0,F=E.length;D<F;D++){C.push(this.addButton(E[D]))}return C}var G=E;if(!(E instanceof A.Button)){G=E.split?new A.SplitButton(E):new A.Button(E)}var B=this.nextBlock();this.initMenuTracking(G);G.render(B);this.items.add(G);return G},initMenuTracking:function(B){if(this.trackMenus&&B.menu){B.on({menutriggerover:this.onButtonTriggerOver,menushow:this.onButtonMenuShow,menuhide:this.onButtonMenuHide,scope:this})}},addText:function(B){return this.addItem(new A.TextItem(B))},insertButton:function(G,D){if(Ext.isArray(D)){var E=[];for(var F=0,B=D.length;F<B;F++){E.push(this.insertButton(G+F,D[F]))}return E}if(!(D instanceof A.Button)){D=new A.Button(D)}var C=document.createElement("td");this.tr.insertBefore(C,this.tr.childNodes[G]);this.initMenuTracking(D);D.render(C);this.items.insert(G,D);return D},addDom:function(E,B){var C=this.nextBlock();Ext.DomHelper.overwrite(C,E);var D=new A.Item(C.firstChild);D.render(C);this.items.add(D);return D},addField:function(D){var C=this.nextBlock();D.render(C);var B=new A.Item(C.firstChild);B.render(C);this.items.add(D);return B},nextBlock:function(){var B=document.createElement("td");this.tr.appendChild(B);return B},onDestroy:function(){Ext.Toolbar.superclass.onDestroy.call(this);if(this.rendered){if(this.items){Ext.destroy.apply(Ext,this.items.items)}Ext.Element.uncache(this.tr)}},onDisable:function(){this.items.each(function(B){if(B.disable){B.disable()}})},onEnable:function(){this.items.each(function(B){if(B.enable){B.enable()}})},onButtonTriggerOver:function(B){if(this.activeMenuBtn&&this.activeMenuBtn!=B){this.activeMenuBtn.hideMenu();B.showMenu();this.activeMenuBtn=B}},onButtonMenuShow:function(B){this.activeMenuBtn=B},onButtonMenuHide:function(B){delete this.activeMenuBtn}});Ext.reg("toolbar",Ext.Toolbar);A.Item=function(B){this.el=Ext.getDom(B);this.id=Ext.id(this.el);this.hidden=false};A.Item.prototype={getEl:function(){return this.el},render:function(B){this.td=B;B.appendChild(this.el)},destroy:function(){if(this.el){var B=Ext.get(this.el);Ext.destroy(B)}Ext.removeNode(this.td)},show:function(){this.hidden=false;this.td.style.display=""},hide:function(){this.hidden=true;this.td.style.display="none"},setVisible:function(B){if(B){this.show()}else{this.hide()}},focus:function(){Ext.fly(this.el).focus()},disable:function(){Ext.fly(this.td).addClass("x-item-disabled");this.disabled=true;this.el.disabled=true},enable:function(){Ext.fly(this.td).removeClass("x-item-disabled");this.disabled=false;this.el.disabled=false}};Ext.reg("tbitem",A.Item);A.Separator=function(){var B=document.createElement("span");B.className="ytb-sep";A.Separator.superclass.constructor.call(this,B)};Ext.extend(A.Separator,A.Item,{enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbseparator",A.Separator);A.Spacer=function(){var B=document.createElement("div");B.className="ytb-spacer";A.Spacer.superclass.constructor.call(this,B)};Ext.extend(A.Spacer,A.Item,{enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbspacer",A.Spacer);A.Fill=Ext.extend(A.Spacer,{render:function(B){B.style.width="100%";A.Fill.superclass.render.call(this,B)}});Ext.reg("tbfill",A.Fill);A.TextItem=function(B){var C=document.createElement("span");C.className="ytb-text";C.innerHTML=B.text?B.text:B;A.TextItem.superclass.constructor.call(this,C)};Ext.extend(A.TextItem,A.Item,{enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbtext",A.TextItem);A.Button=Ext.extend(Ext.Button,{hideParent:true,onDestroy:function(){A.Button.superclass.onDestroy.call(this);if(this.container){this.container.remove()}}});Ext.reg("tbbutton",A.Button);A.SplitButton=Ext.extend(Ext.SplitButton,{hideParent:true,onDestroy:function(){A.SplitButton.superclass.onDestroy.call(this);if(this.container){this.container.remove()}}});Ext.reg("tbsplit",A.SplitButton);A.MenuButton=A.SplitButton})();Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",paramNames:{start:"start",limit:"limit"},initComponent:function(){this.addEvents("change","beforechange");Ext.PagingToolbar.superclass.initComponent.call(this);this.cursor=0;this.bind(this.store)},onRender:function(A,B){Ext.PagingToolbar.superclass.onRender.call(this,A,B);this.first=this.addButton({tooltip:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.onClick.createDelegate(this,["first"])});this.prev=this.addButton({tooltip:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.onClick.createDelegate(this,["prev"])});this.addSeparator();this.add(this.beforePageText);this.field=Ext.get(this.addDom({tag:"input",type:"text",size:"3",value:"1",cls:"x-tbar-page-number"}).el);this.field.on("keydown",this.onPagingKeydown,this);this.field.on("focus",function(){this.dom.select()});this.field.on("blur",this.onPagingBlur,this);this.afterTextEl=this.addText(String.format(this.afterPageText,1));this.field.setHeight(18);this.addSeparator();this.next=this.addButton({tooltip:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.onClick.createDelegate(this,["next"])});this.last=this.addButton({tooltip:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.onClick.createDelegate(this,["last"])});this.addSeparator();this.loading=this.addButton({tooltip:this.refreshText,iconCls:"x-tbar-loading",handler:this.onClick.createDelegate(this,["refresh"])});if(this.displayInfo){this.displayEl=Ext.fly(this.el.dom).createChild({cls:"x-paging-info"})}if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded)}},updateInfo:function(){if(this.displayEl){var B=this.store.getCount();var A=B==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+B,this.store.getTotalCount());this.displayEl.update(A)}},onLoad:function(B,F,C){if(!this.rendered){this.dsLoaded=[B,F,C];return }this.cursor=C.params?C.params[this.paramNames.start]:0;var D=this.getPageData(),A=D.activePage,E=D.pages;this.afterTextEl.el.innerHTML=String.format(this.afterPageText,D.pages);this.field.dom.value=A;this.first.setDisabled(A==1);this.prev.setDisabled(A==1);this.next.setDisabled(A==E);this.last.setDisabled(A==E);this.loading.enable();this.updateInfo();this.fireEvent("change",this,D)},getPageData:function(){var A=this.store.getTotalCount();return{total:A,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:A<this.pageSize?1:Math.ceil(A/this.pageSize)}},onLoadError:function(){if(!this.rendered){return }this.loading.enable()},readPage:function(C){var B=this.field.dom.value,A;if(!B||isNaN(A=parseInt(B,10))){this.field.dom.value=C.activePage;return false}return A},onPagingBlur:function(A){this.field.dom.value=this.getPageData().activePage},onPagingKeydown:function(D){var A=D.getKey(),C=this.getPageData(),E;if(A==D.RETURN){D.stopEvent();E=this.readPage(C);if(E!==false){E=Math.min(Math.max(1,E),C.pages)-1;this.doLoad(E*this.pageSize)}}else{if(A==D.HOME||A==D.END){D.stopEvent();E=A==D.HOME?1:C.pages;this.field.dom.value=E}else{if(A==D.UP||A==D.PAGEUP||A==D.DOWN||A==D.PAGEDOWN){D.stopEvent();if(E=this.readPage(C)){var B=D.shiftKey?10:1;if(A==D.DOWN||A==D.PAGEDOWN){B*=-1}E+=B;if(E>=1&E<=C.pages){this.field.dom.value=E}}}}}},beforeLoad:function(){if(this.rendered&&this.loading){this.loading.disable()}},doLoad:function(C){var A={},B=this.paramNames;A[B.start]=C;A[B.limit]=this.pageSize;if(this.fireEvent("beforechange",this,A)!==false){this.store.load({params:A})}},changePage:function(A){this.doLoad(((A-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onClick:function(C){var A=this.store;switch(C){case"first":this.doLoad(0);break;case"prev":this.doLoad(Math.max(0,this.cursor-this.pageSize));break;case"next":this.doLoad(this.cursor+this.pageSize);break;case"last":var D=A.getTotalCount();var B=D%this.pageSize;var E=B?(D-B):D-this.pageSize;this.doLoad(E);break;case"refresh":this.doLoad(this.cursor);break}},unbind:function(A){A=Ext.StoreMgr.lookup(A);A.un("beforeload",this.beforeLoad,this);A.un("load",this.onLoad,this);A.un("loadexception",this.onLoadError,this);this.store=undefined},bind:function(A){A=Ext.StoreMgr.lookup(A);A.on("beforeload",this.beforeLoad,this);A.on("load",this.onLoad,this);A.on("loadexception",this.onLoadError,this);this.store=A},onDestroy:function(){if(this.store){this.unbind(this.store)}Ext.PagingToolbar.superclass.onDestroy.call(this)}});Ext.reg("paging",Ext.PagingToolbar);Ext.Resizable=function(J,I){this.el=Ext.get(J);if(I&&I.wrap){I.resizeChild=this.el;this.el=this.el.wrap(typeof I.wrap=="object"?I.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=I.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(I.resizeChild.getPositioning());I.resizeChild.clearPositioning();if(!I.width||!I.height){var H=I.resizeChild.getSize();this.el.setSize(H.width,H.height)}if(I.pinned&&!I.adjustments){I.adjustments="auto"}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,I);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned")}var E=this.el.getStyle("position");if(E!="absolute"&&E!="fixed"){this.el.setStyle("position","relative")}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w"}}if(this.handles=="all"){this.handles="n s e w ne nw se sw"}var A=this.handles.split(/\s*?[,;]\s*?| /);var K=Ext.Resizable.positions;for(var F=0,D=A.length;F<D;F++){if(A[F]&&K[A[F]]){var B=K[A[F]];this[B]=new Ext.Resizable.Handle(this,B,this.disableTrackOver,this.transparent)}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true)}else{this.resizeChild=Ext.get(this.resizeChild,true)}}if(this.adjustments=="auto"){var L=this.resizeChild;var C=this.west,G=this.east,M=this.north,A=this.south;if(L&&(C||M)){L.position("relative");L.setLeft(C?C.el.getWidth():0);L.setTop(M?M.el.getHeight():0)}this.adjustments=[(G?-G.el.getWidth():0)+(C?-C.el.getWidth():0),(M?-M.el.getHeight():0)+(A?-A.el.getHeight():0)-1]}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id)}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height)}else{this.updateChildSize()}if(Ext.isIE){this.el.dom.style.zoom=1}Ext.Resizable.superclass.constructor.call(this)};Ext.extend(Ext.Resizable,Ext.util.Observable,{resizeChild:false,adjustments:[0,0],minWidth:5,minHeight:5,maxWidth:10000,maxHeight:10000,enabled:true,animate:false,duration:0.35,dynamic:false,handles:false,multiDirectional:false,disableTrackOver:false,easing:"easeOutStrong",widthIncrement:0,heightIncrement:0,pinned:false,width:null,height:null,preserveRatio:false,transparent:false,minX:0,minY:0,draggable:false,resizeTo:function(A,B){this.el.setSize(A,B);this.updateChildSize();this.fireEvent("resize",this,A,B,null)},startSizing:function(C,A){this.fireEvent("beforeresize",this,C);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on("mousemove",this.onMouseMove,this);this.overlay.on("mouseup",this.onMouseUp,this)}this.overlay.setStyle("cursor",A.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=C.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var B=Ext.get(this.constrainTo);this.resizeRegion=B.getRegion().adjust(B.getFrameWidth("t"),B.getFrameWidth("l"),-B.getFrameWidth("b"),-B.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible")}}},onMouseDown:function(B,A){if(this.enabled){A.stopEvent();this.activeHandle=B;this.startSizing(A,B)}},onMouseUp:function(A){var B=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,B.width,B.height,A)},updateChildSize:function(){if(this.resizeChild){var C=this.el;var B=this.resizeChild;var D=this.adjustments;if(C.dom.offsetWidth){var A=C.getSize(true);B.setSize(A.width+D[0],A.height+D[1])}if(Ext.isIE){setTimeout(function(){if(C.dom.offsetWidth){var E=C.getSize(true);B.setSize(E.width+D[0],E.height+D[1])}},10)}}},snap:function(E,C,A){if(!C||!E){return E}var D=E;var B=E%C;if(B>0){if(B>(C/2)){D=E+(C-B)}else{D=E-B}}return Math.max(A,D)},resizeElement:function(){var A=this.proxy.getBox();if(this.updateBox){this.el.setBox(A,false,this.animate,this.duration,null,this.easing)}else{this.el.setSize(A.width,A.height,this.animate,this.duration,null,this.easing)}this.updateChildSize();if(!this.dynamic){this.proxy.hide()}return A},constrain:function(A,D,B,C){if(A-D<B){D=A-B}else{if(A-D>C){D=C-A}}return D},onMouseMove:function(F){if(this.enabled){try{if(this.resizeRegion&&!this.resizeRegion.contains(F.getPoint())){return }var H=this.curSize||this.startBox;var U=this.startBox.x,V=this.startBox.y;var e=U,h=V;var T=H.width,G=H.height;var Z=T,R=G;var S=this.minWidth,Q=this.minHeight;var J=this.maxWidth,L=this.maxHeight;var X=this.widthIncrement;var w=this.heightIncrement;var P=F.getXY();var K=-(this.startPoint[0]-Math.max(this.minX,P[0]));var O=-(this.startPoint[1]-Math.max(this.minY,P[1]));var W=this.activeHandle.position;switch(W){case"east":T+=K;T=Math.min(Math.max(S,T),J);break;case"south":G+=O;G=Math.min(Math.max(Q,G),L);break;case"southeast":T+=K;G+=O;T=Math.min(Math.max(S,T),J);G=Math.min(Math.max(Q,G),L);break;case"north":O=this.constrain(G,O,Q,L);V+=O;G-=O;break;case"west":K=this.constrain(T,K,S,J);U+=K;T-=K;break;case"northeast":T+=K;T=Math.min(Math.max(S,T),J);O=this.constrain(G,O,Q,L);V+=O;G-=O;break;case"northwest":K=this.constrain(T,K,S,J);O=this.constrain(G,O,Q,L);V+=O;G-=O;U+=K;T-=K;break;case"southwest":K=this.constrain(T,K,S,J);G+=O;G=Math.min(Math.max(Q,G),L);U+=K;T-=K;break}var N=this.snap(T,X,S);var M=this.snap(G,w,Q);if(N!=T||M!=G){switch(W){case"northeast":V-=M-G;break;case"north":V-=M-G;break;case"southwest":U-=N-T;break;case"west":U-=N-T;break;case"northwest":U-=N-T;V-=M-G;break}T=N;G=M}if(this.preserveRatio){switch(W){case"southeast":case"east":G=R*(T/Z);G=Math.min(Math.max(Q,G),L);T=Z*(G/R);break;case"south":T=Z*(G/R);T=Math.min(Math.max(S,T),J);G=R*(T/Z);break;case"northeast":T=Z*(G/R);T=Math.min(Math.max(S,T),J);G=R*(T/Z);break;case"north":var I=T;T=Z*(G/R);T=Math.min(Math.max(S,T),J);G=R*(T/Z);U+=(I-T)/2;break;case"southwest":G=R*(T/Z);G=Math.min(Math.max(Q,G),L);var I=T;T=Z*(G/R);U+=I-T;break;case"west":var Y=G;G=R*(T/Z);G=Math.min(Math.max(Q,G),L);V+=(Y-G)/2;var I=T;T=Z*(G/R);U+=I-T;break;case"northwest":var I=T;var Y=G;G=R*(T/Z);G=Math.min(Math.max(Q,G),L);T=Z*(G/R);V+=Y-G;U+=I-T;break}}this.proxy.setBounds(U,V,T,G);if(this.dynamic){this.resizeElement()}}catch(F){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over")}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over")}},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(A){if(this.dd){this.dd.destroy()}if(this.overlay){Ext.destroy(this.overlay);this.overlay=null}Ext.destroy(this.proxy);this.proxy=null;var C=Ext.Resizable.positions;for(var B in C){if(typeof C[B]!="function"&&this[C[B]]){this[C[B]].destroy()}}if(A){this.el.update("");Ext.destroy(this.el);this.el=null}},syncHandleHeight:function(){var A=this.el.getHeight(true);if(this.west){this.west.el.setHeight(A)}if(this.east){this.east.el.setHeight(A)}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=function(E,C,A,D){if(!this.tpl){var B=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});B.compile();Ext.Resizable.Handle.prototype.tpl=B}this.position=C;this.rz=E;this.el=this.tpl.append(E.el.dom,[this.position],true);this.el.unselectable();if(D){this.el.setOpacity(0)}this.el.on("mousedown",this.onMouseDown,this);if(!A){this.el.on("mouseover",this.onMouseOver,this);this.el.on("mouseout",this.onMouseOut,this)}};Ext.Resizable.Handle.prototype={afterResize:function(A){},onMouseDown:function(A){this.rz.onMouseDown(this,A)},onMouseOver:function(A){this.rz.handleOver(this,A)},onMouseOut:function(A){this.rz.handleOut(this,A)},destroy:function(){Ext.destroy(this.el);this.el=null}};Ext.Editor=function(A,B){this.field=A;Ext.Editor.superclass.constructor.call(this,B)};Ext.extend(Ext.Editor,Ext.Component,{value:"",alignment:"c-c?",shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:false,cancelOnEsc:false,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onRender:function(A,B){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:A,shim:this.shim,shadowOffset:4,id:this.id,constrain:this.constrain});this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip"}this.field.inEditor=true;this.field.render(this.el);if(Ext.isGecko){this.field.el.dom.setAttribute("autocomplete","off")}this.field.on("specialkey",this.onSpecialKey,this);if(this.swallowKeys){this.field.el.swallowEvent(["keydown","keypress"])}this.field.show();this.field.on("blur",this.onBlur,this);if(this.field.grow){this.field.on("autosize",this.el.sync,this.el,{delay:1})}},onSpecialKey:function(C,A){var B=A.getKey();if(this.completeOnEnter&&B==A.ENTER){A.stopEvent();this.completeEdit()}else{if(this.cancelOnEsc&&B==A.ESC){this.cancelEdit()}else{this.fireEvent("specialkey",C,A)}}if(this.field.triggerBlur&&(B==A.ENTER||B==A.ESC||B==A.TAB)){this.field.triggerBlur()}},startEdit:function(A,C){if(this.editing){this.completeEdit()}this.boundEl=Ext.get(A);var B=C!==undefined?C:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body)}if(this.fireEvent("beforestartedit",this,this.boundEl,B)===false){return }this.startValue=B;this.field.setValue(B);this.doAutoSize();this.el.alignTo(this.boundEl,this.alignment);this.editing=true;this.show()},doAutoSize:function(){if(this.autoSize){var A=this.boundEl.getSize();switch(this.autoSize){case"width":this.setSize(A.width,"");break;case"height":this.setSize("",A.height);break;default:this.setSize(A.width,A.height)}}},setSize:function(B,A){delete this.field.lastSize;this.field.setSize(B,A);if(this.el){if(Ext.isGecko2||Ext.isOpera){this.el.setSize(B,A)}this.el.sync()}},realign:function(){this.el.alignTo(this.boundEl,this.alignment)},completeEdit:function(B){if(!this.editing){return }var A=this.getValue();if(this.revertInvalid!==false&&!this.field.isValid()){A=this.startValue;this.cancelEdit(true)}if(String(A)===String(this.startValue)&&this.ignoreNoChange){this.editing=false;this.hide();return }if(this.fireEvent("beforecomplete",this,A,this.startValue)!==false){this.editing=false;if(this.updateEl&&this.boundEl){this.boundEl.update(A)}if(B!==true){this.hide()}this.fireEvent("complete",this,A,this.startValue)}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide()}this.field.show();if(Ext.isIE&&!this.fixIEFocus){this.fixIEFocus=true;this.deferredFocus.defer(50,this)}else{this.field.focus()}this.fireEvent("startedit",this.boundEl,this.startValue)},deferredFocus:function(){if(this.editing){this.field.focus()}},cancelEdit:function(B){if(this.editing){var A=this.getValue();this.setValue(this.startValue);if(B!==true){this.hide()}this.fireEvent("canceledit",this,A,this.startValue)}},onBlur:function(){if(this.allowBlur!==true&&this.editing){this.completeEdit()}},onHide:function(){if(this.editing){this.completeEdit();return }this.field.blur();if(this.field.collapse){this.field.collapse()}this.el.hide();if(this.hideEl!==false){this.boundEl.show()}},setValue:function(A){this.field.setValue(A)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroy(this.field);this.field=null}});Ext.reg("editor",Ext.Editor);Ext.MessageBox=function(){var C,S,G,D;var N,K,E,T,J,H,M,O;var F,B,I,R="";var Q=function(U){if(C.isVisible()){C.hide();Ext.callback(S.fn,S.scope||window,[U,B.dom.value,S],1)}};var A=function(){if(S&&S.cls){C.el.removeClass(S.cls)}J.reset()};var P=function(W,V,U){if(S&&S.closable!==false){C.hide()}if(U){U.stopEvent()}};var L=function(V){var W=0;if(!V){F.ok.hide();F.cancel.hide();F.yes.hide();F.no.hide();return W}C.footer.dom.style.display="";for(var U in F){if(typeof F[U]!="function"){if(V[U]){F[U].show();F[U].setText(typeof V[U]=="string"?V[U]:Ext.MessageBox.buttonText[U]);W+=F[U].el.getWidth()+15}else{F[U].hide()}}}return W};return{getDialog:function(V){if(!C){C=new Ext.Window({autoCreate:true,title:V,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(S&&S.buttons&&S.buttons.no&&!S.buttons.cancel){Q("no")}else{Q("cancel")}}});F={};var U=this.buttonText;F.ok=C.addButton(U.ok,Q.createCallback("ok"));F.yes=C.addButton(U.yes,Q.createCallback("yes"));F.no=C.addButton(U.no,Q.createCallback("no"));F.cancel=C.addButton(U.cancel,Q.createCallback("cancel"));F.ok.hideMode=F.yes.hideMode=F.no.hideMode=F.cancel.hideMode="offsets";C.render(document.body);C.getEl().addClass("x-window-dlg");G=C.mask;N=C.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});M=Ext.get(N.dom.firstChild);var W=N.dom.childNodes[1];K=Ext.get(W.firstChild);E=Ext.get(W.childNodes[2].firstChild);E.enableDisplayMode();E.addKeyListener([10,13],function(){if(C.isVisible()&&S&&S.buttons){if(S.buttons.ok){Q("ok")}else{if(S.buttons.yes){Q("yes")}}}});T=Ext.get(W.childNodes[2].childNodes[1]);T.enableDisplayMode();J=new Ext.ProgressBar({renderTo:N});N.createChild({cls:"x-clear"})}return C},updateText:function(V){if(!C.isVisible()&&!S.width){C.setSize(this.maxWidth,100)}K.update(V||"&#160;");var Z=R!=""?(M.getWidth()+M.getMargins("lr")):0;var X=K.getWidth()+K.getMargins("lr");var W=C.getFrameWidth("lr");var Y=C.body.getFrameWidth("lr");if(Ext.isIE&&Z>0){Z+=3}var U=Math.max(Math.min(S.width||Z+X+W+Y,this.maxWidth),Math.max(S.minWidth||this.minWidth,I||0));if(S.prompt===true){B.setWidth(U-Z-W-Y)}if(S.progress===true||S.wait===true){J.setSize(U-Z-W-Y)}if(Ext.isIE&&U==I){U+=4}C.setSize(U,"auto").center();return this},updateProgress:function(U,V,W){J.updateProgress(U,V);if(W){this.updateText(W)}return this},isVisible:function(){return C&&C.isVisible()},hide:function(){var U=C.activeGhost;if(this.isVisible()||U){C.hide();A();if(U){U.hide()}}return this},show:function(X){if(this.isVisible()){this.hide()}S=X;var V=this.getDialog(S.title||"&#160;");V.setTitle(S.title||"&#160;");var W=(S.closable!==false&&S.progress!==true&&S.wait!==true);V.tools.close.setDisplayed(W);B=E;S.prompt=S.prompt||(S.multiline?true:false);if(S.prompt){if(S.multiline){E.hide();T.show();T.setHeight(typeof S.multiline=="number"?S.multiline:this.defaultTextHeight);B=T}else{E.show();T.hide()}}else{E.hide();T.hide()}B.dom.value=S.value||"";if(S.prompt){V.focusEl=B}else{var Y=S.buttons;var U=null;if(Y&&Y.ok){U=F.ok}else{if(Y&&Y.yes){U=F.yes}}if(U){V.focusEl=U}}if(S.iconCls){V.setIconClass(S.iconCls)}this.setIcon(S.icon);I=L(S.buttons);J.setVisible(S.progress===true||S.wait===true);this.updateProgress(0,S.progressText);this.updateText(S.msg);if(S.cls){V.el.addClass(S.cls)}V.proxyDrag=S.proxyDrag===true;V.modal=S.modal!==false;V.mask=S.modal!==false?G:false;if(!V.isVisible()){document.body.appendChild(C.el.dom);V.setAnimateTarget(S.animEl);V.show(S.animEl)}V.on("show",function(){if(W===true){V.keyMap.enable()}else{V.keyMap.disable()}},this,{single:true});if(S.wait===true){J.wait(S.waitConfig)}return this},setIcon:function(U){if(U&&U!=""){M.removeClass("x-hidden");M.replaceClass(R,U);R=U}else{M.replaceClass(R,"x-hidden");R=""}return this},progress:function(W,U,V){this.show({title:W,msg:U,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:V});return this},wait:function(W,U,V){this.show({title:U,msg:W,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:V});return this},alert:function(W,X,U,V){this.show({title:W,msg:X,buttons:this.OK,fn:U,scope:V});return this},confirm:function(W,X,U,V){this.show({title:W,msg:X,buttons:this.YESNO,fn:U,scope:V,icon:this.QUESTION});return this},prompt:function(Z,V,Y,U,W,X){this.show({title:Z,msg:V,buttons:this.OKCANCEL,fn:Y,minWidth:250,scope:U,prompt:true,multiline:W,value:X});return this},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}();Ext.Msg=Ext.MessageBox;Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header"}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this.hide,scope:this})}},showAt:function(A){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth()}if(this.constrainPosition){A=this.el.adjustForConstraints(A)}this.setPagePosition(A[0],A[1])},doAutoWidth:function(){var A=this.body.getTextWidth();if(this.title){A=Math.max(A,this.header.child("span").getTextWidth(this.title))}A+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr");this.setWidth(A.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true}},showBy:function(B,A){if(!this.rendered){this.render(Ext.getBody())}this.showAt(this.el.getAlignToXY(B,A||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable")}});Ext.Tip.DD=function(A,B){Ext.apply(this,B);this.tip=A;Ext.Tip.DD.superclass.constructor.call(this,A.el.id,"WindowDD-"+A.id);this.setHandleElId(A.header.id);this.scroll=false};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(A){this.tip.el.enableShadow(true)}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,mouseOffset:[15,18],trackMouse:false,constrainPosition:true,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget()},initTarget:function(){if(this.target){this.target=Ext.get(this.target);this.target.on("mouseover",this.onTargetOver,this);this.target.on("mouseout",this.onTargetOut,this);this.target.on("mousemove",this.onMouseMove,this)}},onMouseMove:function(A){this.targetXY=A.getXY();if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY())}},getTargetXY:function(){return[this.targetXY[0]+this.mouseOffset[0],this.targetXY[1]+this.mouseOffset[1]]},onTargetOver:function(A){if(this.disabled||A.within(this.target.dom,true)){return }this.clearTimer("hide");this.targetXY=A.getXY();this.delayShow()},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show()}else{this.showTimer=this.show.defer(this.showDelay,this)}}else{if(!this.hidden&&this.autoHide!==false){this.show()}}},onTargetOut:function(A){if(this.disabled||A.within(this.target.dom,true)){return }this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this)}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();Ext.ToolTip.superclass.hide.call(this)},show:function(){this.showAt(this.getTargetXY())},showAt:function(A){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,A);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this)}},clearTimer:function(A){A=A+"Timer";clearTimeout(this[A]);delete this[A]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(A){if(this.autoHide!==false&&!A.within(this.el.dom)){this.disable();this.enable.defer(100,this)}},onDisable:function(){this.clearTimers();this.hide()},adjustPosition:function(B,C){var D=this.targetXY[1],A=this.getSize().height;if(this.constrainPosition&&C<=D&&(C+A)>=D){C=D-A-5}return{x:B,y:C}},onDestroy:function(){Ext.ToolTip.superclass.onDestroy.call(this);if(this.target){this.target.un("mouseover",this.onTargetOver,this);this.target.un("mouseout",this.onTargetOut,this);this.target.un("mousemove",this.onMouseMove,this)}}});Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this)},register:function(G){var E=Ext.isArray(G)?G:arguments;for(var F=0,C=E.length;F<C;F++){var B=E[F];var D=B.target;if(D){if(Ext.isArray(D)){for(var H=0,A=D.length;H<A;H++){this.targets[Ext.id(D[H])]=B}}else{this.targets[Ext.id(D)]=B}}}},unregister:function(A){delete this.targets[Ext.id(A)]},onTargetOver:function(C){if(this.disabled){return }this.targetXY=C.getXY();var G=C.getTarget();if(!G||G.nodeType!==1||G==document||G==document.body){return }if(this.activeTarget&&G==this.activeTarget.el){this.clearTimer("hide");this.show();return }if(G&&this.targets[G.id]){this.activeTarget=this.targets[G.id];this.activeTarget.el=G;this.delayShow();return }var E,D=Ext.fly(G),A=this.tagConfig;var F=A.namespace;if(this.interceptTitles&&G.title){E=G.title;G.qtip=E;G.removeAttribute("title");C.preventDefault()}else{E=G.qtip||D.getAttributeNS(F,A.attribute)}if(E){var B=D.getAttributeNS(F,A.hide);this.activeTarget={el:G,text:E,width:D.getAttributeNS(F,A.width),autoHide:B!="user"&&B!=="false",title:D.getAttributeNS(F,A.title),cls:D.getAttributeNS(F,A.cls),align:D.getAttributeNS(F,A.align)};this.delayShow()}},onTargetOut:function(A){this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},showAt:function(A){var B=this.activeTarget;if(B){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=B}if(B.width){this.setWidth(B.width);this.body.setWidth(this.adjustBodyWidth(B.width-this.getFrameWidth()));this.measureWidth=false}else{this.measureWidth=true}this.setTitle(B.title||"");this.body.update(B.text);this.autoHide=B.autoHide;this.dismissDelay=B.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls}if(B.cls){this.el.addClass(B.cls);this.lastCls=B.cls}if(B.align){A=this.el.getAlignToXY(B.el,B.align);this.constrainPosition=false}else{this.constrainPosition=true}}Ext.QuickTip.superclass.showAt.call(this,A)},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this)}});Ext.QuickTips=function(){var A,B=[];return{init:function(C){if(!A){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(C)});return }A=new Ext.QuickTip({elements:"header,body"});if(C!==false){A.render(Ext.getBody())}}},enable:function(){if(A){B.pop();if(B.length<1){A.enable()}}},disable:function(){if(A){A.disable()}B.push(1)},isEnabled:function(){return A!==undefined&&!A.disabled},getQuickTip:function(){return A},register:function(){A.register.apply(A,arguments)},unregister:function(){A.unregister.apply(A,arguments)},tips:function(){A.register.apply(A,arguments)}}}();Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this)}var A=this.loader;if(!A){A=new Ext.tree.TreeLoader({dataUrl:this.dataUrl})}else{if(typeof A=="object"&&!A.load){A=new Ext.tree.TreeLoader(A)}}this.loader=A;this.nodeHash={};if(this.root){this.setRootNode(this.root)}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","checkchange","dblclick","contextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this)}},proxyNodeEvent:function(G,A,B,C,D,E,F){if(G=="collapse"||G=="expand"||G=="beforecollapse"||G=="beforeexpand"||G=="move"||G=="beforemove"){G=G+"node"}return this.fireEvent(G,A,B,C,D,E,F)},getRootNode:function(){return this.root},setRootNode:function(A){if(!A.render){A=this.loader.createNode(A)}this.root=A;A.ownerTree=this;A.isRoot=true;this.registerNode(A);if(!this.rootVisible){var B=A.attributes.uiProvider;A.ui=B?new B(A):new Ext.tree.RootTreeNodeUI(A)}return A},getNodeById:function(A){return this.nodeHash[A]},registerNode:function(A){this.nodeHash[A.id]=A},unregisterNode:function(A){delete this.nodeHash[A.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"},restrictExpand:function(B){var A=B.parentNode;if(A){if(A.expandedChild&&A.expandedChild.parentNode==A){A.expandedChild.collapse()}A.expandedChild=B}},getChecked:function(A,D){D=D||this.root;var C=[];var B=function(){if(this.attributes.checked){C.push(!A?this:(A=="id"?this.id:this.attributes[A]))}};D.cascade(B);return C},getEl:function(){return this.el},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(true)},collapseAll:function(){this.root.collapse(true)},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel()}return this.selModel},expandPath:function(D,B,C){B=B||"id";var F=D.split(this.pathSeparator);var G=this.root;if(G.attributes[B]!=F[1]){if(C){C(false,null)}return }var A=1;var E=function(){if(++A==F.length){if(C){C(true,G)}return }var H=G.findChild(B,F[A]);if(!H){if(C){C(false,G)}return }G=H;H.expand(false,false,E)};G.expand(false,false,E)},selectPath:function(D,B,C){B=B||"id";var F=D.split(this.pathSeparator);var A=F.pop();if(F.length>0){var E=function(H,I){if(H&&I){var G=I.findChild(B,A);if(G){G.select();if(C){C(true,G)}}else{if(C){C(false,G)}}}else{if(C){C(false,G)}}};this.expandPath(F.join(this.pathSeparator),B,E)}else{this.root.select();if(C){C(true,this.root)}}},getTreeEl:function(){return this.body},onRender:function(A,B){Ext.tree.TreePanel.superclass.onRender.call(this,A,B);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")})},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);if(this.containerScroll){Ext.dd.ScrollManager.register(this.body)}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true})}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll})}this.getSelectionModel().init(this)},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.root.render();if(!this.rootVisible){this.root.renderChildren()}},onDestroy:function(){if(this.rendered){this.body.removeAllListeners();Ext.dd.ScrollManager.unregister(this.body);if(this.dropZone){this.dropZone.unreg()}if(this.dragZone){this.dragZone.unreg()}}this.root.destroy();this.nodeHash=null;Ext.tree.TreePanel.superclass.onDestroy.call(this)}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(A){this.tree=A;this.tree.on("render",this.initEvents,this)};Ext.tree.TreeEventModel.prototype={initEvents:function(){var A=this.tree.getTreeEl();A.on("click",this.delegateClick,this);if(this.tree.trackMouseOver!==false){A.on("mouseover",this.delegateOver,this);A.on("mouseout",this.delegateOut,this)}A.on("dblclick",this.delegateDblClick,this);A.on("contextmenu",this.delegateContextMenu,this)},getNode:function(A){var B;if(B=A.getTarget(".x-tree-node-el",10)){var C=Ext.fly(B,"_treeEvents").getAttributeNS("ext","tree-node-id");if(C){return this.tree.getNodeById(C)}}return null},getNodeTarget:function(A){var B=A.getTarget(".x-tree-node-icon",1);if(!B){B=A.getTarget(".x-tree-node-el",6)}return B},delegateOut:function(A,B){if(!this.beforeEvent(A)){return }if(A.getTarget(".x-tree-ec-icon",1)){var C=this.getNode(A);this.onIconOut(A,C);if(C==this.lastEcOver){delete this.lastEcOver}}if((B=this.getNodeTarget(A))&&!A.within(B,true)){this.onNodeOut(A,this.getNode(A))}},delegateOver:function(A,B){if(!this.beforeEvent(A)){return }if(this.lastEcOver){this.onIconOut(A,this.lastEcOver);delete this.lastEcOver}if(A.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(A);this.onIconOver(A,this.lastEcOver)}if(B=this.getNodeTarget(A)){this.onNodeOver(A,this.getNode(A))}},delegateClick:function(A,B){if(!this.beforeEvent(A)){return }if(A.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(A,this.getNode(A))}else{if(A.getTarget(".x-tree-ec-icon",1)){this.onIconClick(A,this.getNode(A))}else{if(this.getNodeTarget(A)){this.onNodeClick(A,this.getNode(A))}}}},delegateDblClick:function(A,B){if(this.beforeEvent(A)&&this.getNodeTarget(A)){this.onNodeDblClick(A,this.getNode(A))}},delegateContextMenu:function(A,B){if(this.beforeEvent(A)&&this.getNodeTarget(A)){this.onNodeContextMenu(A,this.getNode(A))}},onNodeClick:function(A,B){B.ui.onClick(A)},onNodeOver:function(A,B){B.ui.onOver(A)},onNodeOut:function(A,B){B.ui.onOut(A)},onIconOver:function(A,B){B.ui.addClass("x-tree-ec-over")},onIconOut:function(A,B){B.ui.removeClass("x-tree-ec-over")},onIconClick:function(A,B){B.ui.ecClick(A)},onCheckboxClick:function(A,B){B.ui.onCheckChange(A)},onNodeDblClick:function(A,B){B.ui.onDblClick(A)},onNodeContextMenu:function(A,B){B.ui.onContextMenu(A)},beforeEvent:function(A){if(this.disabled){A.stopEvent();return false}return true},disable:function(){this.disabled=true},enable:function(){this.disabled=false}};Ext.tree.DefaultSelectionModel=function(A){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,A);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this)};Ext.extend(Ext.tree.DefaultSelectionModel,Ext.util.Observable,{init:function(A){this.tree=A;A.getTreeEl().on("keydown",this.onKeyDown,this);A.on("click",this.onNodeClick,this)},onNodeClick:function(B,A){this.select(B)},select:function(A){var B=this.selNode;if(B!=A&&this.fireEvent("beforeselect",this,A,B)!==false){if(B){B.ui.onSelectedChange(false)}this.selNode=A;A.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,A,B)}return A},unselect:function(A){if(this.selNode==A){this.clearSelections()}},clearSelections:function(){var A=this.selNode;if(A){A.ui.onSelectedChange(false);this.selNode=null;this.fireEvent("selectionchange",this,null)}return A},getSelectedNode:function(){return this.selNode},isSelected:function(A){return this.selNode==A},selectPrevious:function(){var B=this.selNode||this.lastSelNode;if(!B){return null}var C=B.previousSibling;if(C){if(!C.isExpanded()||C.childNodes.length<1){return this.select(C)}else{var A=C.lastChild;while(A&&A.isExpanded()&&A.childNodes.length>0){A=A.lastChild}return this.select(A)}}else{if(B.parentNode&&(this.tree.rootVisible||!B.parentNode.isRoot)){return this.select(B.parentNode)}}return null},selectNext:function(){var A=this.selNode||this.lastSelNode;if(!A){return null}if(A.firstChild&&A.isExpanded()){return this.select(A.firstChild)}else{if(A.nextSibling){return this.select(A.nextSibling)}else{if(A.parentNode){var B=null;A.parentNode.bubble(function(){if(this.nextSibling){B=this.getOwnerTree().selModel.select(this.nextSibling);return false}});return B}}}return null},onKeyDown:function(D){var A=this.selNode||this.lastSelNode;var C=this;if(!A){return }var B=D.getKey();switch(B){case D.DOWN:D.stopEvent();this.selectNext();break;case D.UP:D.stopEvent();this.selectPrevious();break;case D.RIGHT:D.preventDefault();if(A.hasChildNodes()){if(!A.isExpanded()){A.expand()}else{if(A.firstChild){this.select(A.firstChild,D)}}}break;case D.LEFT:D.preventDefault();if(A.hasChildNodes()&&A.isExpanded()){A.collapse()}else{if(A.parentNode&&(this.tree.rootVisible||A.parentNode!=this.tree.getRootNode())){this.select(A.parentNode,D)}}break}}});Ext.tree.MultiSelectionModel=function(A){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,A);Ext.tree.MultiSelectionModel.superclass.constructor.call(this)};Ext.extend(Ext.tree.MultiSelectionModel,Ext.util.Observable,{init:function(A){this.tree=A;A.getTreeEl().on("keydown",this.onKeyDown,this);A.on("click",this.onNodeClick,this)},onNodeClick:function(B,A){this.select(B,A,A.ctrlKey)},select:function(B,C,A){if(A!==true){this.clearSelections(true)}if(this.isSelected(B)){this.lastSelNode=B;return B}this.selNodes.push(B);this.selMap[B.id]=B;this.lastSelNode=B;B.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return B},unselect:function(A){if(this.selMap[A.id]){A.ui.onSelectedChange(false);var C=this.selNodes;var B=C.indexOf(A);if(B!=-1){this.selNodes.splice(B,1)}delete this.selMap[A.id];this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(A){var C=this.selNodes;if(C.length>0){for(var D=0,B=C.length;D<B;D++){C[D].ui.onSelectedChange(false)}this.selNodes=[];this.selMap={};if(A!==true){this.fireEvent("selectionchange",this,this.selNodes)}}},isSelected:function(A){return this.selMap[A.id]?true:false},getSelectedNodes:function(){return this.selNodes},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});Ext.tree.TreeNode=function(B){B=B||{};if(typeof B=="string"){B={text:B}}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,B);this.expanded=B.expanded===true;this.isTarget=B.isTarget!==false;this.draggable=B.draggable!==false&&B.allowDrag!==false;this.allowChildren=B.allowChildren!==false&&B.allowDrop!==false;this.text=B.text;this.disabled=B.disabled===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","dblclick","contextmenu","beforechildrenrendered");var A=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new A(this)};Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:true,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},getLoader:function(){var A;return this.loader||((A=this.getOwnerTree())&&A.loader?A.loader:new Ext.tree.TreeLoader())},setFirstChild:function(B){var A=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,B);if(this.childrenRendered&&A&&B!=A){A.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},setLastChild:function(A){var B=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,A);if(this.childrenRendered&&B&&A!=B){B.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},appendChild:function(A){if(!A.render&&!Ext.isArray(A)){A=this.getLoader().createNode(A)}var B=Ext.tree.TreeNode.superclass.appendChild.call(this,A);if(B&&this.childrenRendered){B.render()}this.ui.updateExpandIcon();return B},removeChild:function(A){this.ownerTree.getSelectionModel().unselect(A);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(this.childrenRendered){A.ui.remove()}if(this.childNodes.length<1){this.collapse(false,false)}else{this.ui.updateExpandIcon()}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false}return A},insertBefore:function(C,B){if(!C.render){C=this.getLoader().createNode(C)}var A=Ext.tree.TreeNode.superclass.insertBefore.apply(this,arguments);if(A&&B&&this.childrenRendered){C.render()}this.ui.updateExpandIcon();return A},setText:function(A){var B=this.text;this.text=A;this.attributes.text=A;if(this.rendered){this.ui.onTextChange(this,A,B)}this.fireEvent("textchange",this,A,B)},select:function(){this.getOwnerTree().getSelectionModel().select(this)},unselect:function(){this.getOwnerTree().getSelectionModel().unselect(this)},isSelected:function(){return this.getOwnerTree().getSelectionModel().isSelected(this)},expand:function(B,A,C){if(!this.expanded){if(this.fireEvent("beforeexpand",this,B,A)===false){return }if(!this.childrenRendered){this.renderChildren()}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&A!==false)||A){this.ui.animExpand(function(){this.fireEvent("expand",this);if(typeof C=="function"){C(this)}if(B===true){this.expandChildNodes(true)}}.createDelegate(this));return }else{this.ui.expand();this.fireEvent("expand",this);if(typeof C=="function"){C(this)}}}else{if(typeof C=="function"){C(this)}}if(B===true){this.expandChildNodes(true)}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(A,C){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,A,C)===false){return }this.expanded=false;if((this.getOwnerTree().animate&&C!==false)||C){this.ui.animCollapse(function(){this.fireEvent("collapse",this);if(A===true){this.collapseChildNodes(true)}}.createDelegate(this));return }else{this.ui.collapse();this.fireEvent("collapse",this)}}if(A===true){var D=this.childNodes;for(var E=0,B=D.length;E<B;E++){D[E].collapse(true,false)}}},delayedExpand:function(A){if(!this.expandProcId){this.expandProcId=this.expand.defer(A,this)}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId)}this.expandProcId=false},toggle:function(){if(this.expanded){this.collapse()}else{this.expand()}},ensureVisible:function(A){var B=this.getOwnerTree();B.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var C=B.getNodeById(this.id);B.getTreeEl().scrollChildIntoView(C.ui.anchor);Ext.callback(A)}.createDelegate(this))},expandChildNodes:function(A){var C=this.childNodes;for(var D=0,B=C.length;D<B;D++){C[D].expand(A)}},collapseChildNodes:function(A){var C=this.childNodes;for(var D=0,B=C.length;D<B;D++){C[D].collapse(A)}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true)}this.fireEvent("disabledchange",this,true)},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false)}this.fireEvent("disabledchange",this,false)},renderChildren:function(A){if(A!==false){this.fireEvent("beforechildrenrendered",this)}var C=this.childNodes;for(var D=0,B=C.length;D<B;D++){C[D].render(true)}this.childrenRendered=true},sort:function(C,D){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var E=this.childNodes;for(var A=0,B=E.length;A<B;A++){E[A].render(true)}}},render:function(A){this.ui.render(A);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false)}}},renderIndent:function(A,C){if(C){this.ui.childIndent=null}this.ui.renderIndent();if(A===true&&this.childrenRendered){var D=this.childNodes;for(var E=0,B=D.length;E<B;E++){D[E].renderIndent(true,C)}}},beginUpdate:function(){this.childrenRendered=false},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren()}},destroy:function(){if(this.childNodes){for(var A=0,B=this.childNodes.length;A<B;A++){this.childNodes[A].destroy()}this.childNodes=null}if(this.ui.destroy){this.ui.destroy()}}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(A){this.loaded=A&&A.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load")};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(A,E,C){if(this.loading){var D;var F=function(){if(!this.loading){clearInterval(D);this.expand(A,E,C)}}.createDelegate(this);D=setInterval(F,200);return }if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return }this.loading=true;this.ui.beforeLoad(this);var B=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(B){B.load(this,this.loadComplete.createDelegate(this,[A,E,C]));return }}Ext.tree.AsyncTreeNode.superclass.expand.call(this,A,E,C)},isLoading:function(){return this.loading},loadComplete:function(B,A,C){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(B,A,C)},isLoaded:function(){return this.loaded},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this)}},reload:function(A){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild).destroy()}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false}this.expand(false,false,A)}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=function(A){this.node=A;this.rendered=false;this.animating=false;this.wasLeaf=true;this.ecc="x-tree-ec-icon x-tree-elbow";this.emptyIcon=Ext.BLANK_IMAGE_URL};Ext.tree.TreeNodeUI.prototype={removeChild:function(A){if(this.rendered){this.ctNode.removeChild(A.ui.getEl())}},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(A,C,B){if(this.rendered){this.textNode.innerHTML=C}},onDisableChange:function(B,A){this.disabled=A;if(this.checkbox){this.checkbox.disabled=A}if(A){this.addClass("x-tree-node-disabled")}else{this.removeClass("x-tree-node-disabled")}},onSelectedChange:function(A){if(A){this.focus();this.addClass("x-tree-selected")}else{this.removeClass("x-tree-selected")}},onMove:function(B,D,F,E,G,A){this.childIndent=null;if(this.rendered){var C=E.ui.getContainer();if(!C){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);return }var H=A?A.ui.getEl():null;if(H){C.insertBefore(this.wrap,H)}else{C.appendChild(this.wrap)}this.node.renderIndent(true)}},addClass:function(A){if(this.elNode){Ext.fly(this.elNode).addClass(A)}},removeClass:function(A){if(this.elNode){Ext.fly(this.elNode).removeClass(A)}},remove:function(){if(this.rendered){this.holder=document.createElement("div");this.holder.appendChild(this.wrap)}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.addClass("x-tree-node-disabled");if(this.checkbox){this.checkbox.disabled=true}}if(this.node.hidden){this.hide()}var A=this.node.getOwnerTree();var B=A.enableDD||A.enableDrag||A.enableDrop;if(B&&(!this.node.isRoot||A.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false})}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode]},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none"}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display=""}},onContextMenu:function(A){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){A.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,A)}},onClick:function(B){if(this.dropping){B.stopEvent();return }if(this.fireEvent("beforeclick",this.node,B)!==false){var A=B.getTarget("a");if(!this.disabled&&this.node.attributes.href&&A){this.fireEvent("click",this.node,B);return }else{if(A&&B.ctrlKey){B.stopEvent()}}B.preventDefault();if(this.disabled){return }if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("click",this.node,B)}else{B.stopEvent()}},onDblClick:function(A){A.preventDefault();if(this.disabled){return }if(this.checkbox){this.toggleCheck()}if(!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("dblclick",this.node,A)},onOver:function(A){this.addClass("x-tree-node-over")},onOut:function(A){this.removeClass("x-tree-node-over")},onCheckChange:function(){var A=this.checkbox.checked;this.checkbox.defaultChecked=A;this.node.attributes.checked=A;this.fireEvent("checkchange",this.node,A)},ecClick:function(A){if(!this.animating&&this.node.isExpandable()){this.node.toggle()}},startDrop:function(){this.dropping=true},endDrop:function(){setTimeout(function(){this.dropping=false}.createDelegate(this),50)},expand:function(){this.updateExpandIcon();this.ctNode.style.display=""},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus()}catch(C){}}else{try{var A=this.node.getOwnerTree().getTreeEl().dom;var B=A.scrollLeft;this.anchor.focus();A.scrollLeft=B}catch(C){}}},toggleCheck:function(A){var B=this.checkbox;if(B){B.checked=(A===undefined?!B.checked:A);this.onCheckChange()}},blur:function(){try{this.anchor.blur()}catch(A){}},animExpand:function(A){var B=Ext.get(this.ctNode);B.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();this.ctNode.style.display="";Ext.callback(A);return }this.animating=true;this.updateExpandIcon();B.slideIn("t",{callback:function(){this.animating=false;Ext.callback(A)},scope:this,duration:this.node.ownerTree.duration||0.25})},highlight:function(){var A=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(A.hlColor||"C3DAF9",{endColor:A.hlBaseColor})},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none"},animCollapse:function(A){var B=Ext.get(this.ctNode);B.enableDisplayMode("block");B.stopFx();this.animating=true;this.updateExpandIcon();B.slideOut("t",{callback:function(){this.animating=false;Ext.callback(A)},scope:this,duration:this.node.ownerTree.duration||0.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(A){A.appendChild(this.elNode.cloneNode(true))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(D){var B=this.node,A=B.attributes;var C=B.parentNode?B.parentNode.ui.getContainer():B.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(B,A,C,D);if(A.qtip){if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",A.qtip);if(A.qtipTitle){this.textNode.setAttributeNS("ext","qtitle",A.qtipTitle)}}else{this.textNode.setAttribute("ext:qtip",A.qtip);if(A.qtipTitle){this.textNode.setAttribute("ext:qtitle",A.qtipTitle)}}}else{if(A.qtipCfg){A.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(A.qtipCfg)}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true)}}else{if(D===true){C.appendChild(this.wrap)}}},renderElements:function(G,B,C,A){this.indentMarkup=G.parentNode?G.parentNode.ui.getChildIndent():"";var F=typeof B.checked=="boolean";var I=B.href?B.href:Ext.isGecko?"":"#";var H=['<li class="x-tree-node"><div ext:tree-node-id="',G.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',B.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img src="',B.icon||this.emptyIcon,'" class="x-tree-node-icon',(B.icon?" x-tree-node-inline-icon":""),(B.iconCls?" "+B.iconCls:""),'" unselectable="on" />',F?('<input class="x-tree-node-cb" type="checkbox" '+(B.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',I,'" tabIndex="1" ',B.hrefTarget?' target="'+B.hrefTarget+'"':"",'><span unselectable="on">',G.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");var J;if(A!==true&&G.nextSibling&&(J=G.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",J,H)}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",C,H)}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var D=this.elNode.childNodes;this.indentNode=D[0];this.ecNode=D[1];this.iconNode=D[2];var E=3;if(F){this.checkbox=D[3];this.checkbox.defaultChecked=this.checkbox.checked;E++}this.anchor=D[E];this.textNode=D[E].firstChild},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:false},updateExpandIcon:function(){if(this.rendered){var C=this.node,D,E;var B=C.isLast()?"x-tree-elbow-end":"x-tree-elbow";if(C.isExpandable()){if(C.expanded){B+="-minus";D="x-tree-node-collapsed";E="x-tree-node-expanded"}else{B+="-plus";D="x-tree-node-expanded";E="x-tree-node-collapsed"}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false}if(this.c1!=D||this.c2!=E){Ext.fly(this.elNode).replaceClass(D,E);this.c1=D;this.c2=E}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-leaf");delete this.c1;delete this.c2;this.wasLeaf=true}}var A="x-tree-ec-icon "+B;if(this.ecc!=A){this.ecNode.className=A;this.ecc=A}}},getChildIndent:function(){if(!this.childIndent){var B=[];var A=this.node;while(A){if(!A.isRoot||(A.isRoot&&A.ownerTree.rootVisible)){if(!A.isLast()){B.unshift('<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />')}else{B.unshift('<img src="'+this.emptyIcon+'" class="x-tree-icon" />')}}A=A.parentNode}this.childIndent=B.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var B="";var A=this.node.parentNode;if(A){B=A.ui.getChildIndent()}if(this.indentMarkup!=B){this.indentNode.innerHTML=B;this.indentMarkup=B}this.updateExpandIcon()}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id)}delete this.elNode;delete this.ctNode;delete this.indentNode;delete this.ecNode;delete this.iconNode;delete this.checkbox;delete this.anchor;delete this.textNode;if(this.holder){delete this.wrap;Ext.removeNode(this.holder);delete this.holder}else{Ext.removeNode(this.wrap);delete this.wrap}}};Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var A=this.node.ownerTree.innerCt.dom;this.node.expanded=true;A.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=A.firstChild}},collapse:Ext.emptyFn,expand:Ext.emptyFn});Ext.tree.TreeLoader=function(A){this.baseParams={};Ext.apply(this,A);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this)};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,load:function(B,A){if(this.clearOnLoad){while(B.firstChild){B.removeChild(B.firstChild)}}if(this.doPreload(B)){if(typeof A=="function"){A()}}else{if(this.dataUrl||this.url){this.requestData(B,A)}}},doPreload:function(D){if(D.attributes.children){if(D.childNodes.length<1){var E=D.attributes.children;D.beginUpdate();for(var A=0,B=E.length;A<B;A++){var C=D.appendChild(this.createNode(E[A]));if(this.preloadChildren){this.doPreload(C)}}D.endUpdate()}return true}else{return false}},getParams:function(C){var B=[],D=this.baseParams;for(var A in D){if(typeof D[A]!="function"){B.push(encodeURIComponent(A),"=",encodeURIComponent(D[A]),"&")}}B.push("node=",encodeURIComponent(C.id));return B.join("")},requestData:function(B,A){if(this.fireEvent("beforeload",this,B,A)!==false){this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:A,node:B},params:this.getParams(B)})}else{if(typeof A=="function"){A()}}},isLoading:function(){return !!this.transId},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId)}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs)}if(this.applyLoader!==false){attr.loader=this}if(typeof attr.uiProvider=="string"){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider)}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr)}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr)}},processResponse:function(response,node,callback){var json=response.responseText;try{var o=eval("("+json+")");node.beginUpdate();for(var i=0,len=o.length;i<len;i++){var n=this.createNode(o[i]);if(n){node.appendChild(n)}}node.endUpdate();if(typeof callback=="function"){callback(this,node)}}catch(e){this.handleFailure(response)}},handleResponse:function(B){this.transId=false;var A=B.argument;this.processResponse(B,A.node,A.callback);this.fireEvent("load",this,A.node,B)},handleFailure:function(B){this.transId=false;var A=B.argument;this.fireEvent("loadexception",this,A.node,B);if(typeof A.callback=="function"){A.callback(this,A.node)}}});Ext.tree.TreeFilter=function(B,A){this.tree=B;this.filtered={};Ext.apply(this,A)};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(D,B,A){B=B||"text";var E;if(typeof D=="string"){var C=D.length;if(C==0&&this.clearBlank){this.clear();return }D=D.toLowerCase();E=function(F){return F.attributes[B].substr(0,C).toLowerCase()==D}}else{if(D.exec){E=function(F){return D.test(F.attributes[B])}}else{throw"Illegal filter type, must be string or regex"}}this.filterBy(E,null,A)},filterBy:function(G,H,A){A=A||this.tree.root;if(this.autoClear){this.clear()}var B=this.filtered,C=this.reverse;var F=function(I){if(I==A){return true}if(B[I.id]){return false}var J=G.call(H||I,I);if(!J||C){B[I.id]=I;I.ui.hide();return false}return true};A.cascade(F);if(this.remove){for(var D in B){if(typeof D!="function"){var E=B[D];if(E&&E.parentNode){E.parentNode.removeChild(E)}}}}},clear:function(){var A=this.tree;var B=this.filtered;for(var C in B){if(typeof C!="function"){var D=B[C];if(D){D.ui.show()}}}this.filtered={}}};Ext.tree.TreeSorter=function(A,H){Ext.apply(this,H);A.on("beforechildrenrendered",this.doSort,this);A.on("append",this.updateSort,this);A.on("insert",this.updateSort,this);A.on("textchange",this.updateSortParent,this);var F=this.dir&&this.dir.toLowerCase()=="desc";var E=this.property||"text";var D=this.sortType;var B=this.folderSort;var G=this.caseSensitive===true;var C=this.leafAttr||"leaf";this.sortFn=function(J,K){if(B){if(J.attributes[C]&&!K.attributes[C]){return 1}if(!J.attributes[C]&&K.attributes[C]){return -1}}var L=D?D(J):(G?J.attributes[E]:J.attributes[E].toUpperCase());var I=D?D(K):(G?K.attributes[E]:K.attributes[E].toUpperCase());if(L<I){return F?+1:-1}else{if(L>I){return F?-1:+1}else{return 0}}}};Ext.tree.TreeSorter.prototype={doSort:function(A){A.sort(this.sortFn)},compareNodes:function(A,B){return(A.text.toUpperCase()>B.text.toUpperCase()?1:-1)},updateSort:function(B,A){if(A.childrenRendered){this.doSort.defer(1,this,[A])}},updateSortParent:function(B){var A=B.parentNode;if(A&&A.childrenRendered){this.doSort.defer(1,this,[A])}}};if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(B,A){this.allowParentInsert=false;this.allowContainerDrop=false;this.appendOnly=false;Ext.tree.TreeDropZone.superclass.constructor.call(this,B.innerCt,A);this.tree=B;this.dragOverData={};this.lastInsertClass="x-tree-no-status"};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(A){if(A.hasChildNodes()&&!A.isExpanded()){A.expand(false,null,this.triggerCacheRefresh.createDelegate(this))}},queueExpand:function(A){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[A])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},isValidDropPoint:function(I,A,C,F,G){if(!I||!G){return false}var E=I.node;var D=G.node;if(!(E&&E.isTarget&&A)){return false}if(A=="append"&&E.allowChildren===false){return false}if((A=="above"||A=="below")&&(E.parentNode&&E.parentNode.allowChildren===false)){return false}if(D&&(E==D||D.contains(E))){return false}var H=this.dragOverData;H.tree=this.tree;H.target=E;H.data=G;H.point=A;H.source=C;H.rawEvent=F;H.dropNode=D;H.cancel=false;var B=this.tree.fireEvent("nodedragover",H);return H.cancel===false&&B!==false},getDropPoint:function(G,H,C){var B=H.node;if(B.isRoot){return B.allowChildren!==false?"append":false}var J=H.ddel;var A=Ext.lib.Dom.getY(J),E=A+J.offsetHeight;var F=Ext.lib.Event.getPageY(G);var D=B.allowChildren===false||B.isLeaf();if(this.appendOnly||B.parentNode.allowChildren===false){return D?false:"append"}var I=false;if(!this.allowParentInsert){I=B.hasChildNodes()&&B.isExpanded()}var K=(E-A)/(D?2:3);if(F>=A&&F<(A+K)){return"above"}else{if(!I&&(D||F>=E-K&&F<=E)){return"below"}else{return"append"}}},onNodeEnter:function(C,B,D,A){this.cancelExpand()},onNodeOver:function(H,C,D,E){var A=this.getDropPoint(D,H,C);var G=H.node;if(!this.expandProcId&&A=="append"&&G.hasChildNodes()&&!H.node.isExpanded()){this.queueExpand(G)}else{if(A!="append"){this.cancelExpand()}}var F=this.dropNotAllowed;if(this.isValidDropPoint(H,A,C,D,E)){if(A){var I=H.ddel;var B;if(A=="above"){F=H.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";B="x-tree-drag-insert-above"}else{if(A=="below"){F=H.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";B="x-tree-drag-insert-below"}else{F="x-tree-drop-ok-append";B="x-tree-drag-append"}}if(this.lastInsertClass!=B){Ext.fly(I).replaceClass(this.lastInsertClass,B);this.lastInsertClass=B}}}return F},onNodeOut:function(C,B,D,A){this.cancelExpand();this.removeDropIndicators(C)},onNodeDrop:function(G,A,E,F){var B=this.getDropPoint(E,G,A);var D=G.node;D.ui.startDrop();if(!this.isValidDropPoint(G,B,A,E,F)){D.ui.endDrop();return false}var C=F.node||(A.getTreeNode?A.getTreeNode(F,D,B,E):null);var H={tree:this.tree,target:D,data:F,point:B,source:A,rawEvent:E,dropNode:C,cancel:!C,dropStatus:false};var I=this.tree.fireEvent("beforenodedrop",H);if(I===false||H.cancel===true||!H.dropNode){D.ui.endDrop();return H.dropStatus}D=H.target;if(B=="append"&&!D.isExpanded()){D.expand(false,null,function(){this.completeDrop(H)}.createDelegate(this))}else{this.completeDrop(H)}return true},completeDrop:function(C){var F=C.dropNode,E=C.point,G=C.target;if(!Ext.isArray(F)){F=[F]}var D;for(var A=0,B=F.length;A<B;A++){D=F[A];if(E=="above"){G.parentNode.insertBefore(D,G)}else{if(E=="below"){G.parentNode.insertBefore(D,G.nextSibling)}else{G.appendChild(D)}}}D.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){D.ui.highlight()}G.ui.endDrop();this.tree.fireEvent("nodedrop",C)},afterNodeMoved:function(B,E,C,D,A){if(Ext.enableFx&&this.tree.hlDrop){A.ui.focus();A.ui.highlight()}this.tree.fireEvent("nodedrop",this.tree,D,E,B,C)},getTree:function(){return this.tree},removeDropIndicators:function(A){if(A&&A.ddel){var B=A.ddel;Ext.fly(B).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);this.lastInsertClass="_noclass"}},beforeDragDrop:function(A,B,C){this.cancelExpand();return true},afterRepair:function(A){if(A&&Ext.enableFx){A.node.ui.highlight()}this.hideProxy()}})}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(B,A){Ext.tree.TreeDragZone.superclass.constructor.call(this,B.getTreeEl(),A);this.tree=B};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(B,A){var C=B.node;return C&&C.draggable&&!C.disabled},onInitDrag:function(A){var B=this.dragData;this.tree.getSelectionModel().select(B.node);this.tree.eventModel.disable();this.proxy.update("");B.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,B.node,A)},getRepairXY:function(A,B){return B.node.ui.getDDRepairXY()},onEndDrag:function(B,A){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,B.node,A)},onValidDrop:function(B,A,C){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,B,A);this.hideProxy()},beforeInvalidDrop:function(B,C){var A=this.tree.getSelectionModel();A.clearSelections();A.select(this.dragData.node)},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false}})}Ext.tree.TreeEditor=function(B,D,A){D=D||{};var C=D.events?D:new Ext.form.TextField(D);Ext.tree.TreeEditor.superclass.constructor.call(this,C,A);this.tree=B;if(!B.rendered){B.on("render",this.initEditor,this)}else{this.initEditor(B)}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(A){A.on("beforeclick",this.beforeNodeClick,this);A.on("dblclick",this.onNodeDblClick,this);this.on("complete",this.updateNode,this);this.on("beforestartedit",this.fitToTree,this);this.on("startedit",this.bindScroll,this,{delay:10});this.on("specialkey",this.onSpecialKey,this)},fitToTree:function(A,E){var C=this.tree.getTreeEl().dom,D=E.dom;if(C.scrollLeft>D.offsetLeft){C.scrollLeft=D.offsetLeft}var B=Math.min(this.maxWidth,(C.clientWidth>20?C.clientWidth:C.offsetWidth)-Math.max(0,D.offsetLeft-C.scrollLeft)-5);this.setSize(B,"")},triggerEdit:function(B,A){this.completeEdit();if(B.attributes.editable!==false){this.editNode=B;if(this.tree.autoScroll){B.ui.getEl().scrollIntoView(this.tree.body)}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[B.ui.textNode,B.text]);return false}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(B,A){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(B)){A.stopEvent();return this.triggerEdit(B)}},onNodeDblClick:function(B,A){clearTimeout(this.autoEditTimer)},updateNode:function(B,A){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(A)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui)}},onSpecialKey:function(C,A){var B=A.getKey();if(B==A.ESC){A.stopEvent();this.cancelEdit()}else{if(B==A.ENTER&&!A.hasModifier()){A.stopEvent();this.completeEdit()}}}});Ext.menu.Menu=function(B){if(Ext.isArray(B)){B={items:B}}Ext.apply(this,B);this.id=this.id||Ext.id();this.addEvents("beforeshow","beforehide","show","hide","click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);Ext.menu.Menu.superclass.constructor.call(this);var A=this.items;this.items=new Ext.util.MixedCollection();if(A){this.add.apply(this,A)}};Ext.extend(Ext.menu.Menu,Ext.util.Observable,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,hidden:true,createEl:function(){return new Ext.Layer({cls:"x-menu",shadow:this.shadow,constrain:false,parentEl:this.parentEl||document.body,zindex:15000})},render:function(){if(this.el){return }var A=this.el=this.createEl();if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this)}if(this.plain){A.addClass("x-menu-plain")}if(this.cls){A.addClass(this.cls)}this.focusEl=A.createChild({tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"});var B=A.createChild({tag:"ul",cls:"x-menu-list"});B.on("click",this.onClick,this);B.on("mouseover",this.onMouseOver,this);B.on("mouseout",this.onMouseOut,this);this.items.each(function(C){var D=document.createElement("li");D.className="x-menu-list-item";B.dom.appendChild(D);C.render(D,this)},this);this.ul=B;this.autoWidth()},autoWidth:function(){var C=this.el,D=this.ul;if(!C){return }var B=this.width;if(B){C.setWidth(B)}else{if(Ext.isIE){C.setWidth(this.minWidth);var A=C.dom.offsetWidth;C.setWidth(D.getWidth()+C.getFrameWidth("lr"))}}},delayAutoWidth:function(){if(this.el){if(!this.awTask){this.awTask=new Ext.util.DelayedTask(this.autoWidth,this)}this.awTask.delay(20)}},findTargetItem:function(A){var B=A.getTarget(".x-menu-list-item",this.ul,true);if(B&&B.menuItemId){return this.items.get(B.menuItemId)}},onClick:function(A){var B;if(B=this.findTargetItem(A)){if(B.menu&&this.ignoreParentClicks){B.expandMenu()}else{B.onClick(A);this.fireEvent("click",this,B,A)}}},setActiveItem:function(B,A){if(B!=this.activeItem){if(this.activeItem){this.activeItem.deactivate()}this.activeItem=B;B.activate(A)}else{if(A){B.expandMenu()}}},tryActivate:function(C,D){var A=this.items;for(var F=C,B=A.length;F>=0&&F<B;F+=D){var E=A.get(F);if(!E.disabled&&E.canActivate){this.setActiveItem(E,false);return E}}return false},onMouseOver:function(A){var B;if(B=this.findTargetItem(A)){if(B.canActivate&&!B.disabled){this.setActiveItem(B,true)}}this.over=true;this.fireEvent("mouseover",this,A,B)},onMouseOut:function(A){var B;if(B=this.findTargetItem(A)){if(B==this.activeItem&&B.shouldDeactivate(A)){this.activeItem.deactivate();delete this.activeItem}}this.over=false;this.fireEvent("mouseout",this,A,B)},isVisible:function(){return this.el&&!this.hidden},show:function(A,C,B){this.parentMenu=B;if(!this.el){this.render()}this.fireEvent("beforeshow",this);this.showAt(this.el.getAlignToXY(A,C||this.defaultAlign),B,false)},showAt:function(C,A,B){this.parentMenu=A;if(!this.el){this.render()}if(B!==false){this.fireEvent("beforeshow",this);C=this.el.adjustForConstraints(C)}this.el.setXY(C);this.el.show();this.hidden=false;this.focus();this.fireEvent("show",this)},focus:function(){if(!this.hidden){this.doFocus.defer(50,this)}},doFocus:function(){if(!this.hidden){this.focusEl.focus()}},hide:function(A){if(this.el&&this.isVisible()){this.fireEvent("beforehide",this);if(this.activeItem){this.activeItem.deactivate();this.activeItem=null}this.el.hide();this.hidden=true;this.fireEvent("hide",this)}if(A===true&&this.parentMenu){this.parentMenu.hide(true)}},add:function(){var E=arguments,A=E.length,B;for(var D=0;D<A;D++){var C=E[D];if(C.render){B=this.addItem(C)}else{if(typeof C=="string"){if(C=="separator"||C=="-"){B=this.addSeparator()}else{B=this.addText(C)}}else{if(C.tagName||C.el){B=this.addElement(C)}else{if(typeof C=="object"){Ext.applyIf(C,this.defaults);B=this.addMenuItem(C)}}}}}return B},getEl:function(){if(!this.el){this.render()}return this.el},addSeparator:function(){return this.addItem(new Ext.menu.Separator())},addElement:function(A){return this.addItem(new Ext.menu.BaseItem(A))},addItem:function(A){this.items.add(A);if(this.ul){var B=document.createElement("li");B.className="x-menu-list-item";this.ul.dom.appendChild(B);A.render(B,this);this.delayAutoWidth()}return A},addMenuItem:function(A){if(!(A instanceof Ext.menu.Item)){if(typeof A.checked=="boolean"){A=new Ext.menu.CheckItem(A)}else{A=new Ext.menu.Item(A)}}return this.addItem(A)},addText:function(A){return this.addItem(new Ext.menu.TextItem(A))},insert:function(A,C){this.items.insert(A,C);if(this.ul){var B=document.createElement("li");B.className="x-menu-list-item";this.ul.dom.insertBefore(B,this.ul.dom.childNodes[A]);C.render(B,this);this.delayAutoWidth()}return C},remove:function(A){this.items.removeKey(A.id);A.destroy()},removeAll:function(){if(this.items){var A;while(A=this.items.first()){this.remove(A)}}},destroy:function(){this.beforeDestroy();Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable()}this.removeAll();if(this.ul){this.ul.removeAllListeners()}if(this.el){this.el.destroy()}},beforeDestroy:Ext.emptyFn});Ext.menu.MenuNav=function(A){Ext.menu.MenuNav.superclass.constructor.call(this,A.el);this.scope=this.menu=A};Ext.extend(Ext.menu.MenuNav,Ext.KeyNav,{doRelay:function(C,A){var B=C.getKey();if(!this.menu.activeItem&&C.isNavKeyPress()&&B!=C.SPACE&&B!=C.RETURN){this.menu.tryActivate(0,1);return false}return A.call(this.scope||this,C,this.menu)},up:function(A,B){if(!B.tryActivate(B.items.indexOf(B.activeItem)-1,-1)){B.tryActivate(B.items.length-1,-1)}},down:function(A,B){if(!B.tryActivate(B.items.indexOf(B.activeItem)+1,1)){B.tryActivate(0,1)}},right:function(A,B){if(B.activeItem){B.activeItem.expandMenu(true)}},left:function(A,B){B.hide();if(B.parentMenu&&B.parentMenu.activeItem){B.parentMenu.activeItem.activate()}},enter:function(A,B){if(B.activeItem){A.stopPropagation();B.activeItem.onClick(A);B.fireEvent("click",this,B.activeItem);return true}}});Ext.menu.MenuMgr=function(){var H,J,K={},M=false,C=new Date();function A(){H={};J=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(J.length>0){F()}})}function F(){if(J&&J.length>0){var N=J.clone();N.each(function(O){O.hide()})}}function I(N){J.remove(N);if(J.length<1){Ext.getDoc().un("mousedown",B);M=false}}function D(O){var N=J.last();C=new Date();J.add(O);if(!M){Ext.getDoc().on("mousedown",B);M=true}if(O.parentMenu){O.getEl().setZIndex(parseInt(O.parentMenu.getEl().getStyle("z-index"),10)+3);O.parentMenu.activeChild=O}else{if(N&&N.isVisible()){O.getEl().setZIndex(parseInt(N.getEl().getStyle("z-index"),10)+3)}}}function L(N){if(N.activeChild){N.activeChild.hide()}if(N.autoHideTimer){clearTimeout(N.autoHideTimer);delete N.autoHideTimer}}function G(O){var N=O.parentMenu;if(!N&&!O.allowOtherMenus){F()}else{if(N&&N.activeChild){N.activeChild.hide()}}}function B(N){if(C.getElapsed()>50&&J.length>0&&!N.getTarget(".x-menu")){F()}}function E(Q,N){if(N){var O=K[Q.group];for(var P=0,R=O.length;P<R;P++){if(O[P]!=Q){O[P].setChecked(false)}}}}return{hideAll:function(){F()},register:function(N){if(!H){A()}H[N.id]=N;N.on("beforehide",L);N.on("hide",I);N.on("beforeshow",G);N.on("show",D);var O=N.group;if(O&&N.events.checkchange){if(!K[O]){K[O]=[]}K[O].push(N);N.on("checkchange",onCheck)}},get:function(N){if(typeof N=="string"){if(!H){return null}return H[N]}else{if(N.events){return N}else{if(typeof N.length=="number"){return new Ext.menu.Menu({items:N})}else{return new Ext.menu.Menu(N)}}}},unregister:function(N){delete H[N.id];N.un("beforehide",L);N.un("hide",I);N.un("beforeshow",G);N.un("show",D);var O=N.group;if(O&&N.events.checkchange){K[O].remove(N);N.un("checkchange",onCheck)}},registerCheckable:function(O){var N=O.group;if(N){if(!K[N]){K[N]=[]}K[N].push(O);O.on("beforecheckchange",E)}},unregisterCheckable:function(O){var N=O.group;if(N){K[N].remove(O);O.un("beforecheckchange",E)}},getCheckedItem:function(O){var N=K[O];if(N){for(var P=0,Q=N.length;P<Q;P++){if(N[P].checked){return N[P]}}}return null},setCheckedItem:function(P,N){var O=K[P];if(O){for(var Q=0,R=O.length;Q<R;Q++){if(O[Q].id==N){O[Q].setChecked(true)}}}return null}}}();Ext.menu.BaseItem=function(A){Ext.menu.BaseItem.superclass.constructor.call(this,A);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope)}};Ext.extend(Ext.menu.BaseItem,Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,hideDelay:100,ctype:"Ext.menu.BaseItem",actionMode:"container",render:function(B,A){this.parentMenu=A;Ext.menu.BaseItem.superclass.render.call(this,B);this.container.menuItemId=this.id},onRender:function(A,B){this.el=Ext.get(this.el);if(this.id){this.el.id=this.id}A.dom.appendChild(this.el.dom)},setHandler:function(A,B){if(this.handler){this.un("click",this.handler,this.scope)}this.on("click",this.handler=A,this.scope=B)},onClick:function(A){if(!this.disabled&&this.fireEvent("click",this,A)!==false&&this.parentMenu.fireEvent("itemclick",this,A)!==false){this.handleClick(A)}else{A.stopEvent()}},activate:function(){if(this.disabled){return false}var A=this.container;A.addClass(this.activeClass);this.region=A.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this)},shouldDeactivate:function(A){return !this.region||!this.region.contains(A.getPoint())},handleClick:function(A){if(this.hideOnClick){this.parentMenu.hide.defer(this.hideDelay,this.parentMenu,[true])}},expandMenu:function(A){},hideMenu:function(){}});Ext.menu.TextItem=function(A){if(typeof A=="string"){A={text:A}}Ext.menu.TextItem.superclass.constructor.call(this,A)};Ext.extend(Ext.menu.TextItem,Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",onRender:function(){var A=document.createElement("span");A.className=this.itemCls;A.innerHTML=this.text;this.el=A;Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}});Ext.menu.Separator=function(A){Ext.menu.Separator.superclass.constructor.call(this,A)};Ext.extend(Ext.menu.Separator,Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,onRender:function(B){var A=document.createElement("span");A.className=this.itemCls;A.innerHTML="&#160;";this.el=A;B.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments)}});Ext.menu.Item=function(A){Ext.menu.Item.superclass.constructor.call(this,A);if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu)}};Ext.extend(Ext.menu.Item,Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",onRender:function(A,B){var C=document.createElement("a");C.hideFocus=true;C.unselectable="on";C.href=this.href||"#";if(this.hrefTarget){C.target=this.hrefTarget}C.className=this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:"");C.innerHTML=String.format('<img src="{0}" class="x-menu-item-icon {2}" />{1}',this.icon||Ext.BLANK_IMAGE_URL,this.itemText||this.text,this.iconCls||"");this.el=C;Ext.menu.Item.superclass.onRender.call(this,A,B)},setText:function(A){this.text=A;if(this.rendered){this.el.update(String.format('<img src="{0}" class="x-menu-item-icon {2}">{1}',this.icon||Ext.BLANK_IMAGE_URL,this.text,this.iconCls||""));this.parentMenu.autoWidth()}},setIconClass:function(B){var A=this.iconCls;this.iconCls=B;if(this.rendered){this.el.child("img.x-menu-item-icon").replaceClass(A,this.iconCls)}},beforeDestroy:function(){if(this.menu){this.menu.destroy()}Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(A){if(!this.href){A.stopEvent()}Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(A){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(A){this.expandMenu()}}return true},shouldDeactivate:function(A){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,A)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(A.getPoint())}return true}return false},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu()},expandMenu:function(A){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[A])}else{if(this.menu.isVisible()&&A){this.menu.tryActivate(0,1)}}}},deferExpand:function(A){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(A){this.menu.tryActivate(0,1)}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this)}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false)}else{this.menu.hide()}}});Ext.menu.CheckItem=function(A){Ext.menu.CheckItem.superclass.constructor.call(this,A);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope)}Ext.menu.MenuMgr.registerCheckable(this)};Ext.extend(Ext.menu.CheckItem,Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",onRender:function(A){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass)}if(this.checked){this.checked=false;this.setChecked(true,true)}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(A,B){if(this.checked!=A&&this.fireEvent("beforecheckchange",this,A)!==false){if(this.container){this.container[A?"addClass":"removeClass"]("x-menu-item-checked")}this.checked=A;if(B!==true){this.fireEvent("checkchange",this,A)}}},handleClick:function(A){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked)}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}});Ext.menu.Adapter=function(A,B){Ext.menu.Adapter.superclass.constructor.call(this,B);this.component=A};Ext.extend(Ext.menu.Adapter,Ext.menu.BaseItem,{canActivate:true,onRender:function(A,B){this.component.render(A);this.el=this.component.getEl()},activate:function(){if(this.disabled){return false}this.component.focus();this.fireEvent("activate",this);return true},deactivate:function(){this.fireEvent("deactivate",this)},disable:function(){this.component.disable();Ext.menu.Adapter.superclass.disable.call(this)},enable:function(){this.component.enable();Ext.menu.Adapter.superclass.enable.call(this)}});Ext.menu.DateItem=function(A){Ext.menu.DateItem.superclass.constructor.call(this,new Ext.DatePicker(A),A);this.picker=this.component;this.addEvents("select");this.picker.on("render",function(B){B.getEl().swallowEvent("click");B.container.addClass("x-menu-date-item")});this.picker.on("select",this.onSelect,this)};Ext.extend(Ext.menu.DateItem,Ext.menu.Adapter,{onSelect:function(A,B){this.fireEvent("select",this,B,A);Ext.menu.DateItem.superclass.handleClick.call(this)}});Ext.menu.ColorItem=function(A){Ext.menu.ColorItem.superclass.constructor.call(this,new Ext.ColorPalette(A),A);this.palette=this.component;this.relayEvents(this.palette,["select"]);if(this.selectHandler){this.on("select",this.selectHandler,this.scope)}};Ext.extend(Ext.menu.ColorItem,Ext.menu.Adapter);Ext.menu.DateMenu=function(B){Ext.menu.DateMenu.superclass.constructor.call(this,B);this.plain=true;var A=new Ext.menu.DateItem(B);this.add(A);this.picker=A.picker;this.relayEvents(A,["select"]);this.on("beforeshow",function(){if(this.picker){this.picker.hideMonthPicker(true)}},this)};Ext.extend(Ext.menu.DateMenu,Ext.menu.Menu,{cls:"x-date-menu",beforeDestroy:function(){this.picker.destroy()}});Ext.menu.ColorMenu=function(B){Ext.menu.ColorMenu.superclass.constructor.call(this,B);this.plain=true;var A=new Ext.menu.ColorItem(B);this.add(A);this.palette=A.palette;this.relayEvents(A,["select"])};Ext.extend(Ext.menu.ColorMenu,Ext.menu.Menu,{beforeDestroy:function(){this.palette.destroy()}});Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,isFormField:true,hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:(this.hiddenName||"")},onRender:function(D,B){Ext.form.Field.superclass.onRender.call(this,D,B);if(!this.el){var A=this.getAutoCreate();if(!A.name){A.name=this.name||this.id}if(this.inputType){A.type=this.inputType}this.el=D.createChild(A,B)}var C=this.el.dom.type;if(C){if(C=="password"){C="text"}this.el.addClass("x-form-"+C)}if(this.readOnly){this.el.dom.readOnly=true}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex)}this.el.addClass([this.fieldClass,this.cls])},initValue:function(){if(this.value!==undefined){this.setValue(this.value)}else{if(this.el.dom.value.length>0&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value)}}this.originalValue=this.getValue()},isDirty:function(){if(this.disabled){return false}return String(this.getValue())!==String(this.originalValue)},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue()},fireKey:function(A){if(A.isSpecialKey()){this.fireEvent("specialkey",this,A)}},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){this.el.on(Ext.isIE||Ext.isSafari3?"keydown":"keypress",this.fireKey,this);this.el.on("focus",this.onFocus,this);var A=this.inEditor&&Ext.isWindows&&Ext.isGecko?{buffer:10}:null;this.el.on("blur",this.onBlur,this,A)},onFocus:function(){if(this.focusClass){this.el.addClass(this.focusClass)}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this)}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(this.focusClass){this.el.removeClass(this.focusClass)}this.hasFocus=false;if(this.validationEvent!==false&&this.validateOnBlur&&this.validationEvent!="blur"){this.validate()}var A=this.getValue();if(String(A)!==String(this.startValue)){this.fireEvent("change",this,A,this.startValue)}this.fireEvent("blur",this)},isValid:function(B){if(this.disabled){return true}var C=this.preventMark;this.preventMark=B===true;var A=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=C;return A},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true}return false},processValue:function(A){return A},validateValue:function(A){return true},markInvalid:function(C){if(!this.rendered||this.preventMark){return }this.el.addClass(this.invalidClass);C=C||this.invalidText;switch(this.msgTarget){case"qtip":this.el.dom.qtip=C;this.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}break;case"title":this.el.dom.title=C;break;case"under":if(!this.errorEl){var A=this.getErrorCt();if(!A){this.el.dom.title=C;break}this.errorEl=A.createChild({cls:"x-form-invalid-msg"});this.errorEl.setWidth(A.getWidth(true)-20)}this.errorEl.update(C);Ext.form.Field.msgFx[this.msgFx].show(this.errorEl,this);break;case"side":if(!this.errorIcon){var A=this.getErrorCt();if(!A){this.el.dom.title=C;break}this.errorIcon=A.createChild({cls:"x-form-invalid-icon"})}this.alignErrorIcon();this.errorIcon.dom.qtip=C;this.errorIcon.dom.qclass="x-form-invalid-tip";this.errorIcon.show();this.on("resize",this.alignErrorIcon,this);break;default:var B=Ext.getDom(this.msgTarget);B.innerHTML=C;B.style.display=this.msgDisplay;break}this.fireEvent("invalid",this,C)},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},clearInvalid:function(){if(!this.rendered||this.preventMark){return }this.el.removeClass(this.invalidClass);switch(this.msgTarget){case"qtip":this.el.dom.qtip="";break;case"title":this.el.dom.title="";break;case"under":if(this.errorEl){Ext.form.Field.msgFx[this.msgFx].hide(this.errorEl,this)}break;case"side":if(this.errorIcon){this.errorIcon.dom.qtip="";this.errorIcon.hide();this.un("resize",this.alignErrorIcon,this)}break;default:var A=Ext.getDom(this.msgTarget);A.innerHTML="";A.style.display="none";break}this.fireEvent("valid",this)},getRawValue:function(){var A=this.rendered?this.el.getValue():Ext.value(this.value,"");if(A===this.emptyText){A=""}return A},getValue:function(){if(!this.rendered){return this.value}var A=this.el.getValue();if(A===this.emptyText||A===undefined){A=""}return A},setRawValue:function(A){return this.el.dom.value=(A===null||A===undefined?"":A)},setValue:function(A){this.value=A;if(this.rendered){this.el.dom.value=(A===null||A===undefined?"":A);this.validate()}},adjustSize:function(B,C){var A=Ext.form.Field.superclass.adjustSize.call(this,B,C);A.width=this.adjustWidth(this.el.dom.tagName,A.width);return A},adjustWidth:function(B,A){B=B.toLowerCase();if(typeof A=="number"&&!Ext.isSafari){if(Ext.isIE&&(B=="input"||B=="textarea")){if(B=="input"&&!Ext.isStrict){return this.inEditor?A:A-3}if(B=="input"&&Ext.isStrict){return A-(Ext.isIE6?4:1)}if(B=="textarea"&&Ext.isStrict){return A-2}}else{if(Ext.isOpera&&Ext.isStrict){if(B=="input"){return A+2}if(B=="textarea"){return A-2}}}}return A}});Ext.form.MessageTargets={qtip:{mark:function(A){this.el.dom.qtip=msg;this.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}},clear:function(A){this.el.dom.qtip=""}},title:{mark:function(A){this.el.dom.title=msg},clear:function(A){this.el.dom.title=""}},under:{mark:function(A){if(!this.errorEl){var B=this.getErrorCt();if(!B){this.el.dom.title=msg;return }this.errorEl=B.createChild({cls:"x-form-invalid-msg"});this.errorEl.setWidth(B.getWidth(true)-20)}this.errorEl.update(msg);Ext.form.Field.msgFx[this.msgFx].show(this.errorEl,this)},clear:function(A){if(this.errorEl){Ext.form.Field.msgFx[this.msgFx].hide(this.errorEl,this)}else{this.el.dom.title=""}}},side:{mark:function(A){if(!this.errorIcon){var B=this.getErrorCt();if(!B){this.el.dom.title=msg;return }this.errorIcon=B.createChild({cls:"x-form-invalid-icon"})}this.alignErrorIcon();this.errorIcon.dom.qtip=msg;this.errorIcon.dom.qclass="x-form-invalid-tip";this.errorIcon.show();this.on("resize",this.alignErrorIcon,this)},clear:function(A){if(this.errorIcon){this.errorIcon.dom.qtip="";this.errorIcon.hide();this.un("resize",this.alignErrorIcon,this)}else{this.el.dom.title=""}}},around:{mark:function(A){},clear:function(A){}}};Ext.form.Field.msgFx={normal:{show:function(B,A){B.setDisplayed("block")},hide:function(B,A){B.setDisplayed(false).update("")}},slide:{show:function(B,A){B.slideIn("t",{stopFx:true})},hide:function(B,A){B.slideOut("t",{stopFx:true,useDisplay:true})}},slideRight:{show:function(B,A){B.fixDisplay();B.alignTo(A.el,"tl-tr");B.slideIn("l",{stopFx:true})},hide:function(B,A){B.slideOut("l",{stopFx:true,useDisplay:true})}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.el.on("keyup",this.filterValidation,this)}else{if(this.validationEvent!==false){this.el.on(this.validationEvent,this.validate,this,{buffer:this.validationDelay})}}if(this.selectOnFocus||this.emptyText){this.on("focus",this.preFocus,this);this.el.on("mousedown",function(){if(!this.hasFocus){this.el.on("mouseup",function(A){A.preventDefault()},this,{single:true})}},this);if(this.emptyText){this.on("blur",this.postBlur,this);this.applyEmptyText()}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.el.on("keypress",this.filterKeys,this)}if(this.grow){this.el.on("keyup",this.onKeyUpBuffered,this,{buffer:50});this.el.on("click",this.autoSize,this)}if(this.enableKeyEvents){this.el.on("keyup",this.onKeyUp,this);this.el.on("keydown",this.onKeyDown,this);this.el.on("keypress",this.onKeyPress,this)}},processValue:function(B){if(this.stripCharsRe){var A=B.replace(this.stripCharsRe,"");if(A!==B){this.setRawValue(A);return A}}return B},filterValidation:function(A){if(!A.isNavKeyPress()){this.validationTask.delay(this.validationDelay)}},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);if(Ext.isIE){this.el.dom.unselectable="on"}},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);if(Ext.isIE){this.el.dom.unselectable=""}},onKeyUpBuffered:function(A){if(!A.isNavKeyPress()){this.autoSize()}},onKeyUp:function(A){this.fireEvent("keyup",this,A)},onKeyDown:function(A){this.fireEvent("keydown",this,A)},onKeyPress:function(A){this.fireEvent("keypress",this,A)},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass)}},preFocus:function(){if(this.emptyText){if(this.el.dom.value==this.emptyText){this.setRawValue("")}this.el.removeClass(this.emptyClass)}if(this.selectOnFocus){this.el.dom.select()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(A){if(A.ctrlKey){return }var B=A.getKey();if(Ext.isGecko&&(A.isNavKeyPress()||B==A.BACKSPACE||(B==A.DELETE&&A.button==-1))){return }var C=A.getCharCode(),D=String.fromCharCode(C);if(!Ext.isGecko&&A.isSpecialKey()&&!D){return }if(!this.maskRe.test(D)){A.stopEvent()}},setValue:function(A){if(this.emptyText&&this.el&&A!==undefined&&A!==null&&A!==""){this.el.removeClass(this.emptyClass)}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize()},validateValue:function(B){if(B.length<1||B===this.emptyText){if(this.allowBlank){this.clearInvalid();return true}else{this.markInvalid(this.blankText);return false}}if(B.length<this.minLength){this.markInvalid(String.format(this.minLengthText,this.minLength));return false}if(B.length>this.maxLength){this.markInvalid(String.format(this.maxLengthText,this.maxLength));return false}if(this.vtype){var C=Ext.form.VTypes;if(!C[this.vtype](B,this)){this.markInvalid(this.vtypeText||C[this.vtype+"Text"]);return false}}if(typeof this.validator=="function"){var A=this.validator(B);if(A!==true){this.markInvalid(A);return false}}if(this.regex&&!this.regex.test(B)){this.markInvalid(this.regexText);return false}return true},selectText:function(C,B){var F=this.getRawValue();var E=false;if(F.length>0){C=C===undefined?0:C;B=B===undefined?F.length:B;var D=this.el.dom;if(D.setSelectionRange){D.setSelectionRange(C,B)}else{if(D.createTextRange){var A=D.createTextRange();A.moveStart("character",C);A.moveEnd("character",B-F.length);A.select()}}E=Ext.isGecko||Ext.isOpera}else{E=true}if(E){this.focus()}},autoSize:function(){if(!this.grow||!this.rendered){return }if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el)}var D=this.el;var A=D.dom.value;var C=document.createElement("div");C.appendChild(document.createTextNode(A));A=C.innerHTML;Ext.removeNode(C);C=null;A+="&#160;";var B=Math.min(this.growMax,Math.max(this.metrics.getWidth(A)+10,this.growMin));this.el.setWidth(B);this.fireEvent("autosize",this,B)}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,onResize:function(B,A){Ext.form.TriggerField.superclass.onResize.call(this,B,A);if(typeof B=="number"){this.el.setWidth(this.adjustWidth("input",B-this.trigger.getWidth()))}this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap},getPositionEl:function(){return this.wrap},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])}},onRender:function(A,B){Ext.form.TriggerField.superclass.onRender.call(this,A,B);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass});if(this.hideTrigger){this.trigger.setDisplayed(false)}this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);var A;if(Ext.isIE&&!this.hideTrigger&&this.el.getY()!=(A=this.trigger.getY())){this.el.position();this.el.setY(A)}},initTrigger:function(){this.trigger.on("click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){if(this.trigger){this.trigger.removeAllListeners();this.trigger.remove()}if(this.wrap){this.wrap.remove()}Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass("x-trigger-wrap-focus");this.mimicing=true;Ext.get(Ext.isIE?document.body:document).on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.el.on("keydown",this.checkTab,this)}}},checkTab:function(A){if(A.getKey()==A.TAB){this.triggerBlur()}},onBlur:function(){},mimicBlur:function(A){if(!this.wrap.contains(A.target)&&this.validateBlur(A)){this.triggerBlur()}},triggerBlur:function(){this.mimicing=false;Ext.get(Ext.isIE?document.body:document).un("mousedown",this.mimicBlur,this);if(this.monitorTab&&this.el){this.el.un("keydown",this.checkTab,this)}this.beforeBlur();if(this.wrap){this.wrap.removeClass("x-trigger-wrap-focus")}Ext.form.TriggerField.superclass.onBlur.call(this)},beforeBlur:Ext.emptyFn,validateBlur:function(A){return true},onDisable:function(){Ext.form.TriggerField.superclass.onDisable.call(this);if(this.wrap){this.wrap.addClass(this.disabledClass);this.el.removeClass(this.disabledClass)}},onEnable:function(){Ext.form.TriggerField.superclass.onEnable.call(this);if(this.wrap){this.wrap.removeClass(this.disabledClass)}},onShow:function(){if(this.wrap){this.wrap.dom.style.display="";this.wrap.dom.style.visibility="visible"}},onHide:function(){this.wrap.dom.style.display="none"},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(A){return this.triggers[A]},initTrigger:function(){var B=this.trigger.select(".x-form-trigger",true);this.wrap.setStyle("overflow","hidden");var A=this;B.each(function(E,C,F){E.hide=function(){var G=A.wrap.getWidth();this.dom.style.display="none";A.el.setWidth(G-A.trigger.getWidth())};E.show=function(){var G=A.wrap.getWidth();this.dom.style.display="";A.el.setWidth(G-A.trigger.getWidth())};var D="Trigger"+(F+1);if(this["hide"+D]){E.dom.style.display="none"}E.on("click",this["on"+D+"Click"],this,{preventDefault:true});E.addClassOnOver("x-form-trigger-over");E.addClassOnClick("x-form-trigger-click")},this);this.triggers=B.elements},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",growPad:0,enterIsSpecial:false,preventScrollbars:false,onRender:function(A,B){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"}}Ext.form.TextArea.superclass.onRender.call(this,A,B);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden")}this.el.setHeight(this.growMin)}},onDestroy:function(){if(this.textSizeEl){Ext.removeNode(this.textSizeEl)}Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(A){if(A.isSpecialKey()&&(this.enterIsSpecial||(A.getKey()!=A.ENTER||A.hasModifier()))){this.fireEvent("specialkey",this,A)}},onKeyUp:function(A){if(!A.isNavKeyPress()||A.getKey()==A.ENTER){this.autoSize()}Ext.form.TextArea.superclass.onKeyUp.call(this,A)},autoSize:function(){if(!this.grow||!this.textSizeEl){return }var D=this.el;var B=D.dom.value;var C=this.textSizeEl;C.innerHTML="";C.appendChild(document.createTextNode(B));B=C.innerHTML;Ext.fly(C).setWidth(this.el.getWidth());if(B.length<1){B="&#160;&#160;"}else{if(Ext.isIE){B=B.replace(/\n/g,"<p>&#160;</p>")}B+=this.growAppend}C.innerHTML=B;var A=Math.min(this.growMax,Math.max(C.offsetHeight,this.growMin)+this.growPad);if(A!=this.lastHeight){this.lastHeight=A;this.el.setHeight(A);this.fireEvent("autosize",this,A)}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",initEvents:function(){Ext.form.NumberField.superclass.initEvents.call(this);var A=this.baseChars+"";if(this.allowDecimals){A+=this.decimalSeparator}if(this.allowNegative){A+="-"}this.stripCharsRe=new RegExp("[^"+A+"]","gi");var B=function(D){var E=D.getKey();if(!Ext.isIE&&(D.isSpecialKey()||E==D.BACKSPACE||E==D.DELETE)){return }var C=D.getCharCode();if(A.indexOf(String.fromCharCode(C))===-1){D.stopEvent()}};this.el.on("keypress",B,this)},validateValue:function(A){if(!Ext.form.NumberField.superclass.validateValue.call(this,A)){return false}if(A.length<1){return true}A=String(A).replace(this.decimalSeparator,".");if(isNaN(A)){this.markInvalid(String.format(this.nanText,A));return false}var B=this.parseValue(A);if(B<this.minValue){this.markInvalid(String.format(this.minText,this.minValue));return false}if(B>this.maxValue){this.markInvalid(String.format(this.maxText,this.maxValue));return false}return true},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(A){A=typeof A=="number"?A:parseFloat(String(A).replace(this.decimalSeparator,"."));A=isNaN(A)?"":String(A).replace(".",this.decimalSeparator);Ext.form.NumberField.superclass.setValue.call(this,A)},parseValue:function(A){A=parseFloat(String(A).replace(this.decimalSeparator,"."));return isNaN(A)?"":A},fixPrecision:function(A){var B=isNaN(A);if(!this.allowDecimals||this.decimalPrecision==-1||B||!A){return B?"":A}return parseFloat(parseFloat(A).toFixed(this.decimalPrecision))},beforeBlur:function(){var A=this.parseValue(this.getRawValue());if(A||A===0){this.setValue(this.fixPrecision(A))}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");if(typeof this.minValue=="string"){this.minValue=this.parseDate(this.minValue)}if(typeof this.maxValue=="string"){this.maxValue=this.parseDate(this.maxValue)}this.disabledDatesRE=null;this.initDisabledDays()},initDisabledDays:function(){if(this.disabledDates){var B=this.disabledDates;var C="(?:";for(var A=0;A<B.length;A++){C+=B[A];if(A!=B.length-1){C+="|"}}this.disabledDatesRE=new RegExp(C+")")}},setDisabledDates:function(A){this.disabledDates=A;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE)}},setDisabledDays:function(A){this.disabledDays=A;if(this.menu){this.menu.picker.setDisabledDays(A)}},setMinValue:function(A){this.minValue=(typeof A=="string"?this.parseDate(A):A);if(this.menu){this.menu.picker.setMinDate(this.minValue)}},setMaxValue:function(A){this.maxValue=(typeof A=="string"?this.parseDate(A):A);if(this.menu){this.menu.picker.setMaxDate(this.maxValue)}},validateValue:function(D){D=this.formatDate(D);if(!Ext.form.DateField.superclass.validateValue.call(this,D)){return false}if(D.length<1){return true}var F=D;D=this.parseDate(D);if(!D){this.markInvalid(String.format(this.invalidText,F,this.format));return false}var C=D.getTime();if(this.minValue&&C<this.minValue.getTime()){this.markInvalid(String.format(this.minText,this.formatDate(this.minValue)));return false}if(this.maxValue&&C>this.maxValue.getTime()){this.markInvalid(String.format(this.maxText,this.formatDate(this.maxValue)));return false}if(this.disabledDays){var B=D.getDay();for(var A=0;A<this.disabledDays.length;A++){if(B===this.disabledDays[A]){this.markInvalid(this.disabledDaysText);return false}}}var E=this.formatDate(D);if(this.disabledDatesRE&&this.disabledDatesRE.test(E)){this.markInvalid(String.format(this.disabledDatesText,E));return false}return true},validateBlur:function(){return !this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(A){Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(A)))},parseDate:function(C){if(!C||Ext.isDate(C)){return C}var A=Date.parseDate(C,this.format);if(!A&&this.altFormats){if(!this.altFormatsArray){this.altFormatsArray=this.altFormats.split("|")}for(var D=0,B=this.altFormatsArray.length;D<B&&!A;D++){A=Date.parseDate(C,this.altFormatsArray[D])}}return A},onDestroy:function(){if(this.menu){this.menu.destroy()}if(this.wrap){this.wrap.remove()}Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(A){return Ext.isDate(A)?A.dateFormat(this.format):A},menuListeners:{select:function(B,A){this.setValue(A);this.fireEvent("select",this,A)},show:function(){this.onFocus()},hide:function(){this.focus.defer(10,this);var A=this.menuListeners;this.menu.un("select",A.select,this);this.menu.un("show",A.show,this);this.menu.un("hide",A.hide,this)}},onTriggerClick:function(){if(this.disabled){return }if(this.menu==null){this.menu=new Ext.menu.DateMenu()}Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.on(Ext.apply({},this.menuListeners,{scope:this}));this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?")},beforeBlur:function(){var A=this.parseDate(this.getRawValue());if(A){this.setValue(A)}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,editable:true,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){this.allowDomMove=false;var G=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=G.name}if(!this.store){this.mode="local";var C=[],F=G.options;for(var A=0,B=F.length;A<B;A++){var D=F[A];var E=(Ext.isIE?D.getAttributeNode("value").specified:D.hasAttribute("value"))?D.value:D.text;if(D.selected){this.value=E}C.push([E,D.text])}this.store=new Ext.data.SimpleStore({id:0,fields:["value","text"],data:C});this.valueField="value";this.displayField="text"}G.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(G,this.autoCreate||this.defaultAutoCreate);Ext.removeNode(G);this.render(this.el.parentNode)}else{Ext.removeNode(G)}}else{if(Ext.isArray(this.store)){if(Ext.isArray(this.store[0])){this.store=new Ext.data.SimpleStore({fields:["value","text"],data:this.store});this.valueField="value"}else{this.store=new Ext.data.SimpleStore({fields:["text"],data:this.store,expandData:true});this.valueField="text"}this.displayField="text";this.mode="local"}}this.selectedIndex=-1;if(this.mode=="local"){if(this.initialConfig.queryDelay===undefined){this.queryDelay=10}if(this.initialConfig.minChars===undefined){this.minChars=0}}},onRender:function(A,B){Ext.form.ComboBox.superclass.onRender.call(this,A,B);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||this.hiddenName)},"before",true);this.el.dom.removeAttribute("name")}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off")}if(!this.lazyInit){this.initList()}else{this.on("focus",this.initList,this,{single:true})}if(!this.editable){this.editable=true;this.setEditable(false)}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=this.hiddenValue!==undefined?this.hiddenValue:this.value!==undefined?this.value:""}},initList:function(){if(!this.list){var B="x-combo-list";this.list=new Ext.Layer({shadow:this.shadow,cls:[B,this.listClass].join(" "),constrain:false});var A=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setWidth(A);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.title){this.header=this.list.createChild({cls:B+"-hd",html:this.title});this.assetHeight+=this.header.getHeight()}this.innerList=this.list.createChild({cls:B+"-inner"});this.innerList.on("mouseover",this.onViewOver,this);this.innerList.on("mousemove",this.onViewMove,this);this.innerList.setWidth(A-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:B+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight()}if(!this.tpl){this.tpl='<tpl for="."><div class="'+B+'-item">{'+this.displayField+"}</div></tpl>"}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+B+"-item"});this.view.on("click",this.onViewClick,this);this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.resizer.on("resize",function(C,E,D){this.maxHeight=D-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=E;this.innerList.setWidth(E-this.list.getFrameWidth("lr"));this.restrictHeight()},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px")}}},getStore:function(){return this.store},bindStore:function(B,A){if(this.store&&!A){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("loadexception",this.collapse,this);if(!B){this.store=null;if(this.view){this.view.setStore(null)}}}if(B){this.store=Ext.StoreMgr.lookup(B);this.store.on("beforeload",this.onBeforeLoad,this);this.store.on("load",this.onLoad,this);this.store.on("loadexception",this.collapse,this);if(this.view){this.view.setStore(B)}}},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(A){this.inKeyMode=true;this.selectPrev()},down:function(A){if(!this.isExpanded()){this.onTriggerClick()}else{this.inKeyMode=true;this.selectNext()}},enter:function(A){this.onViewClick();this.delayedCheck=true;this.unsetDelayCheck.defer(10,this)},esc:function(A){this.collapse()},tab:function(A){this.onViewClick(false);return true},scope:this,doRelay:function(C,A,B){if(B=="down"||this.scope.isExpanded()){return Ext.KeyNav.prototype.doRelay.apply(this,arguments)}return true},forceKeyDown:true});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(this.editable!==false){this.el.on("keyup",this.onKeyUp,this)}if(this.forceSelection){this.on("blur",this.doForce,this)}},onDestroy:function(){if(this.view){Ext.destroy(this.view)}if(this.list){if(this.innerList){this.innerList.un("mouseover",this.onViewOver,this);this.innerList.un("mousemove",this.onViewMove,this)}this.list.destroy()}if(this.dqTask){this.dqTask.cancel();this.dqTask=null}this.bindStore(null);Ext.form.ComboBox.superclass.onDestroy.call(this)},unsetDelayCheck:function(){delete this.delayedCheck},fireKey:function(A){if(A.isNavKeyPress()&&!this.isExpanded()&&!this.delayedCheck){this.fireEvent("specialkey",this,A)}},onResize:function(B,A){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(this.list&&this.listWidth===undefined){var C=Math.max(B,this.minListWidth);this.list.setWidth(C);this.innerList.setWidth(C-this.list.getFrameWidth("lr"))}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true}},setEditable:function(A){if(A==this.editable){return }this.editable=A;if(!A){this.el.dom.setAttribute("readOnly",true);this.el.on("mousedown",this.onTriggerClick,this);this.el.addClass("x-combo-noedit")}else{this.el.dom.removeAttribute("readOnly");this.el.un("mousedown",this.onTriggerClick,this);this.el.removeClass("x-combo-noedit")}},onBeforeLoad:function(){if(!this.hasFocus){return }this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1},onLoad:function(){if(!this.hasFocus){return }if(this.store.getCount()>0){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select()}if(!this.selectByValue(this.value,true)){this.select(0,true)}}else{this.selectNext();if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay)}}}else{this.onEmptyResults()}},onTypeAhead:function(){if(this.store.getCount()>0){var A=this.store.getAt(0);var D=A.data[this.displayField];var B=D.length;var C=this.getRawValue().length;if(C!=B){this.setRawValue(D);this.selectText(C,D.length)}}},onSelect:function(B,A){if(this.fireEvent("beforeselect",this,B,A)!==false){this.setValue(B.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,B,A)}},getValue:function(){if(this.valueField){return typeof this.value!="undefined"?this.value:""}else{return Ext.form.ComboBox.superclass.getValue.call(this)}},clearValue:function(){if(this.hiddenField){this.hiddenField.value=""}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value=""},setValue:function(B){var C=B;if(this.valueField){var A=this.findRecord(this.valueField,B);if(A){C=A.data[this.displayField]}else{if(this.valueNotFoundText!==undefined){C=this.valueNotFoundText}}}this.lastSelectionText=C;if(this.hiddenField){this.hiddenField.value=B}Ext.form.ComboBox.superclass.setValue.call(this,C);this.value=B},findRecord:function(C,A){var B;if(this.store.getCount()>0){this.store.each(function(D){if(D.data[C]==A){B=D;return false}})}return B},onViewMove:function(A,B){this.inKeyMode=false},onViewOver:function(C,A){if(this.inKeyMode){return }var D=this.view.findItemFromChild(A);if(D){var B=this.view.indexOf(D);this.select(B,false)}},onViewClick:function(A){var B=this.view.getSelectedIndexes()[0];var C=this.store.getAt(B);if(C){this.onSelect(C,B)}if(A!==false){this.el.focus()}},restrictHeight:function(){this.innerList.dom.style.height="";var A=this.innerList.dom;var D=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight;var F=Math.max(A.clientHeight,A.offsetHeight,A.scrollHeight);var B=this.getPosition()[1]-Ext.getBody().getScroll().top;var C=Ext.lib.Dom.getViewHeight()-B-this.getSize().height;var E=Math.max(B,C,this.minHeight||0)-this.list.shadowOffset-D-5;F=Math.min(F,E,this.maxHeight);this.innerList.setHeight(F);this.list.beginUpdate();this.list.setHeight(F+D);this.list.alignTo(this.wrap,this.listAlign);this.list.endUpdate()},onEmptyResults:function(){this.collapse()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(B,C){if(B!==undefined&&B!==null){var A=this.findRecord(this.valueField||this.displayField,B);if(A){this.select(this.store.indexOf(A),C);return true}}return false},select:function(B,C){this.selectedIndex=B;this.view.select(B);if(C!==false){var A=this.view.getNode(B);if(A){this.innerList.scrollChildIntoView(A,false)}}},selectNext:function(){var A=this.store.getCount();if(A>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex<A-1){this.select(this.selectedIndex+1)}}}},selectPrev:function(){var A=this.store.getCount();if(A>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex!=0){this.select(this.selectedIndex-1)}}}},onKeyUp:function(A){if(this.editable!==false&&!A.isSpecialKey()){this.lastKey=A.getKey();this.dqTask.delay(this.queryDelay)}},validateBlur:function(){return !this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},doForce:function(){if(this.el.dom.value.length>0){this.el.dom.value=this.lastSelectionText===undefined?"":this.lastSelectionText;this.applyEmptyText()}},doQuery:function(C,A){if(C===undefined||C===null){C=""}var B={query:C,forceAll:A,combo:this,cancel:false};if(this.fireEvent("beforequery",B)===false||B.cancel){return false}C=B.query;A=B.forceAll;if(A===true||(C.length>=this.minChars)){if(this.lastQuery!==C){this.lastQuery=C;if(this.mode=="local"){this.selectedIndex=-1;if(A){this.store.clearFilter()}else{this.store.filter(this.displayField,C)}this.onLoad()}else{this.store.baseParams[this.queryParam]=C;this.store.load({params:this.getParams(C)});this.expand()}}else{this.selectedIndex=-1;this.onLoad()}}},getParams:function(B){var A={};if(this.pageSize){A.start=0;A.limit=this.pageSize}return A},collapse:function(){if(!this.isExpanded()){return }this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this)},collapseIf:function(A){if(!A.within(this.wrap)&&!A.within(this.list)){this.collapse()}},expand:function(){if(this.isExpanded()||!this.hasFocus){return }this.list.alignTo(this.wrap,this.listAlign);this.list.show();this.innerList.setOverflow("auto");Ext.getDoc().on("mousewheel",this.collapseIf,this);Ext.getDoc().on("mousedown",this.collapseIf,this);this.fireEvent("expand",this)},onTriggerClick:function(){if(this.disabled){return }if(this.isExpanded()){this.collapse();this.el.focus()}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true)}else{this.doQuery(this.getRawValue())}this.el.focus()}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{checkedCls:"x-form-check-checked",focusCls:"x-form-check-focus",overCls:"x-form-check-over",mouseDownCls:"x-form-check-down",tabIndex:0,checked:false,defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},baseCls:"x-form-check",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check")},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.initCheckEvents()},initCheckEvents:function(){this.innerWrap.removeAllListeners();this.innerWrap.addClassOnOver(this.overCls);this.innerWrap.addClassOnClick(this.mouseDownCls);this.innerWrap.on("click",this.onClick,this);this.innerWrap.on("keyup",this.onKeyUp,this)},onRender:function(A,B){Ext.form.Checkbox.superclass.onRender.call(this,A,B);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue}this.el.addClass("x-hidden");this.innerWrap=this.el.wrap({tabIndex:this.tabIndex,cls:this.baseCls+"-wrap-inner"});this.wrap=this.innerWrap.wrap({cls:this.baseCls+"-wrap"});if(this.boxLabel){this.labelEl=this.innerWrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})}this.imageEl=this.innerWrap.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,cls:this.baseCls},this.el);if(this.checked){this.setValue(true)}else{this.checked=this.el.dom.checked}this.originalValue=this.checked},afterRender:function(){Ext.form.Checkbox.superclass.afterRender.call(this);this.wrap[this.checked?"addClass":"removeClass"](this.checkedCls)},onDestroy:function(){if(this.rendered){Ext.destroy(this.imageEl,this.labelEl,this.innerWrap,this.wrap)}Ext.form.Checkbox.superclass.onDestroy.call(this)},onFocus:function(A){Ext.form.Checkbox.superclass.onFocus.call(this,A);this.el.addClass(this.focusCls)},onBlur:function(A){Ext.form.Checkbox.superclass.onBlur.call(this,A);this.el.removeClass(this.focusCls)},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel){this.el.alignTo(this.wrap,"c-c")}},onKeyUp:function(A){if(A.getKey()==Ext.EventObject.SPACE){this.onClick(A)}},onClick:function(A){if(!this.disabled&&!this.readOnly){this.toggleValue()}A.stopEvent()},onEnable:function(){Ext.form.Checkbox.superclass.onEnable.call(this);this.initCheckEvents()},onDisable:function(){Ext.form.Checkbox.superclass.onDisable.call(this);this.innerWrap.removeAllListeners()},toggleValue:function(){this.setValue(!this.checked)},getResizeEl:function(){if(!this.resizeEl){this.resizeEl=Ext.isSafari?this.wrap:(this.wrap.up(".x-form-element",5)||this.wrap)}return this.resizeEl},getPositionEl:function(){return this.wrap},getActionEl:function(){return this.wrap},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,initValue:Ext.emptyFn,getValue:function(){if(this.rendered){return this.el.dom.checked}return this.checked},setValue:function(B){var A=this.checked;this.checked=(B===true||B==="true"||B=="1"||String(B).toLowerCase()=="on");if(this.rendered){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked;this.wrap[this.checked?"addClass":"removeClass"](this.checkedCls)}if(A!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked)}}}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",onRender:function(G,I){if(!this.el){var B={cls:this.groupCls,layout:"column",border:false,renderTo:G};var N={defaultType:this.defaultType,layout:"form",border:false,defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(B,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var J=0,E=this.items.length;J<E;J++){Ext.applyIf(this.items[J],N)}}else{var K,D=[];if(typeof this.columns=="string"){this.columns=this.items.length}if(!Ext.isArray(this.columns)){var F=[];for(var J=0;J<this.columns;J++){F.push((100/this.columns)*0.01)}this.columns=F}K=this.columns.length;for(var J=0;J<K;J++){var M=Ext.apply({items:[]},N);M[this.columns[J]<=1?"columnWidth":"width"]=this.columns[J];if(this.defaults){M.defaults=Ext.apply(M.defaults||{},this.defaults)}D.push(M)}if(this.vertical){var O=Math.ceil(this.items.length/K),C=0;for(var J=0,E=this.items.length;J<E;J++){if(J>0&&J%O==0){C++}if(this.items[J].fieldLabel){this.items[J].hideLabel=false}D[C].items.push(this.items[J])}}else{for(var J=0,E=this.items.length;J<E;J++){var A=J%K;if(this.items[J].fieldLabel){this.items[J].hideLabel=false}D[A].items.push(this.items[J])}}Ext.apply(B,{layoutConfig:{columns:K},items:D})}this.panel=new Ext.Panel(B);this.el=this.panel.getEl();if(this.forId&&this.itemCls){var L=this.el.up(this.itemCls).child("label",true);if(L){L.setAttribute("htmlFor",this.forId)}}var H=this.panel.findBy(function(P){return P.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(H)}Ext.form.CheckboxGroup.superclass.onRender.call(this,G,I)},validateValue:function(B){if(!this.allowBlank){var A=true;this.items.each(function(C){if(C.checked){return A=false}},this);if(A){this.markInvalid(this.blankText);return false}}return true},onDisable:function(){this.items.each(function(A){A.disable()})},onEnable:function(){this.items.each(function(A){A.enable()})},onResize:function(B,A){this.panel.setSize(B,A);this.panel.doLayout()},reset:function(){Ext.form.CheckboxGroup.superclass.reset.call(this);this.items.each(function(A){if(A.reset){A.reset()}},this)},initValue:Ext.emptyFn,getValue:Ext.emptyFn,getRawValue:Ext.emptyFn,setValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",baseCls:"x-form-radio",getGroupValue:function(){var A=this.getParent().child("input[name="+this.el.dom.name+"]:checked",true);return A?A.value:null},getParent:function(){return this.el.up("form")||Ext.getBody()},toggleValue:function(){if(!this.checked){var A=this.getParent().select("input[name="+this.el.dom.name+"]");A.each(function(B){if(B.dom.id==this.id){this.setValue(true)}else{Ext.getCmp(B.dom.id).setValue(false)}},this)}},setValue:function(B){if(typeof B=="boolean"){Ext.form.Radio.superclass.setValue.call(this,B)}else{var A=this.getParent().child("input[name="+this.el.dom.name+"][value="+B+"]",true);if(A&&!A.checked){Ext.getCmp(A.id).toggleValue()}}},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group"});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=function(A,B){Ext.apply(this,B);this.items=new Ext.util.MixedCollection(false,function(C){return C.id||(C.id=Ext.id())});this.addEvents("beforeaction","actionfailed","actioncomplete");if(A){this.initEl(A)}Ext.form.BasicForm.superclass.constructor.call(this)};Ext.extend(Ext.form.BasicForm,Ext.util.Observable,{timeout:30,activeAction:null,trackResetOnLoad:false,initEl:function(A){this.el=Ext.get(A);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this)}this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(A){A.stopEvent()},destroy:function(){this.items.each(function(A){Ext.destroy(A)});if(this.el){this.el.removeAllListeners();this.el.remove()}this.purgeListeners()},isValid:function(){var A=true;this.items.each(function(B){if(!B.validate()){A=false}});return A},isDirty:function(){var A=false;this.items.each(function(B){if(B.isDirty()){A=true;return false}});return A},doAction:function(A,B){if(typeof A=="string"){A=new Ext.form.Action.ACTION_TYPES[A](this,B)}if(this.fireEvent("beforeaction",this,A)!==false){this.beforeAction(A);A.run.defer(100,A)}return this},submit:function(A){if(this.standardSubmit){var B=this.isValid();if(B){this.el.dom.submit()}return B}this.doAction("submit",A);return this},load:function(A){this.doAction("load",A);return this},updateRecord:function(A){A.beginEdit();var B=A.fields;B.each(function(D){var C=this.findField(D.name);if(C){A.set(D.name,C.getValue())}},this);A.endEdit();return this},loadRecord:function(A){this.setValues(A.data);return this},beforeAction:function(B){var A=B.options;if(A.waitMsg){if(this.waitMsgTarget===true){this.el.mask(A.waitMsg,"x-mask-loading")}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(A.waitMsg,"x-mask-loading")}else{Ext.MessageBox.wait(A.waitMsg,A.waitTitle||this.waitTitle||"Please Wait...")}}}},afterAction:function(B,C){this.activeAction=null;var A=B.options;if(A.waitMsg){if(this.waitMsgTarget===true){this.el.unmask()}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask()}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide()}}}if(C){if(A.reset){this.reset()}Ext.callback(A.success,A.scope,[this,B]);this.fireEvent("actioncomplete",this,B)}else{Ext.callback(A.failure,A.scope,[this,B]);this.fireEvent("actionfailed",this,B)}},findField:function(A){var B=this.items.get(A);if(!B){this.items.each(function(C){if(C.isFormField&&(C.dataIndex==A||C.id==A||C.getName()==A)){B=C;return false}})}return B||null},markInvalid:function(C){if(Ext.isArray(C)){for(var G=0,B=C.length;G<B;G++){var A=C[G];var F=this.findField(A.id);if(F){F.markInvalid(A.msg)}}}else{var E,D;for(D in C){if(typeof C[D]!="function"&&(E=this.findField(D))){E.markInvalid(C[D])}}}return this},setValues:function(G){if(Ext.isArray(G)){for(var F=0,B=G.length;F<B;F++){var A=G[F];var E=this.findField(A.id);if(E){E.setValue(A.value);if(this.trackResetOnLoad){E.originalValue=E.getValue()}}}}else{var D,C;for(C in G){if(typeof G[C]!="function"&&(D=this.findField(C))){D.setValue(G[C]);if(this.trackResetOnLoad){D.originalValue=D.getValue()}}}}return this},getValues:function(A){var B=Ext.lib.Ajax.serializeForm(this.el.dom);if(A===true){return B}return Ext.urlDecode(B)},clearInvalid:function(){this.items.each(function(A){A.clearInvalid()});return this},reset:function(){this.items.each(function(A){A.reset()});return this},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this},remove:function(A){this.items.remove(A);return this},render:function(){this.items.each(function(A){if(A.isFormField&&!A.rendered&&document.getElementById(A.id)){A.applyToMarkup(A.id)}});return this},applyToFields:function(A){this.items.each(function(B){Ext.apply(B,A)});return this},applyIfToFields:function(A){this.items.each(function(B){Ext.applyIf(B,A)});return this}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{buttonAlign:"center",minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data"}Ext.FormPanel.superclass.initComponent.call(this);this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){delete this.initialConfig.listeners;return new Ext.form.BasicForm(null,this.initialConfig)},initFields:function(){var C=this.form;var B=this;var A=function(D){if(D.isFormField){C.add(D)}else{if(D.doLayout&&D!=B){Ext.applyIf(D,{labelAlign:D.ownerCt.labelAlign,labelWidth:D.ownerCt.labelWidth,itemCls:D.ownerCt.itemCls});if(D.items){D.items.each(A)}}}};this.items.each(A)},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(A,B){this.initFields();Ext.FormPanel.superclass.onRender.call(this,A,B);this.form.initEl(this.body)},beforeDestroy:function(){Ext.FormPanel.superclass.beforeDestroy.call(this);this.stopMonitoring();Ext.destroy(this.form)},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.items.on("remove",this.onRemove,this);this.items.on("add",this.onAdd,this);if(this.monitorValid){this.startMonitoring()}},onAdd:function(B,A){if(A.isFormField){this.form.add(A)}},onRemove:function(A){if(A.isFormField){Ext.destroy(A.container.up(".x-form-item"));this.form.remove(A)}},startMonitoring:function(){if(!this.bound){this.bound=true;Ext.TaskMgr.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this})}},stopMonitoring:function(){this.bound=false},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable()})}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable()})}},bindHandler:function(){if(!this.bound){return false}var C=true;this.form.items.each(function(E){if(!E.isValid(true)){C=false;return false}});if(this.buttons){for(var D=0,B=this.buttons.length;D<B;D++){var A=this.buttons[D];if(A.formBind===true&&A.disabled===C){A.setDisabled(!C)}}}this.fireEvent("clientvalidation",this,C)}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:false,onRender:function(A,B){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className="x-fieldset-header"}}Ext.form.FieldSet.superclass.onRender.call(this,A,B);if(this.checkboxToggle){var C=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(C);this.checkbox.dom.checked=!this.collapsed;this.checkbox.on("click",this.onCheckClick,this)}},onCollapse:function(B,A){if(this.checkbox){this.checkbox.dom.checked=false}Ext.form.FieldSet.superclass.onCollapse.call(this,B,A)},onExpand:function(B,A){if(this.checkbox){this.checkbox.dom.checked=true}Ext.form.FieldSet.superclass.onExpand.call(this,B,A)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()},beforeDestroy:function(){if(this.checkbox){this.checkbox.un("click",this.onCheckClick,this)}Ext.form.FieldSet.superclass.beforeDestroy.call(this)}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange")},createFontOptions:function(){var E=[],A=this.fontFamilies,F,C;for(var D=0,B=A.length;D<B;D++){F=A[D];C=F.toLowerCase();E.push('<option value="',C,'" style="font-family:',F,';"',(this.defaultFont==C?' selected="true">':">"),F,"</option>")}return E.join("")},createToolbar:function(C){var B=Ext.QuickTips&&Ext.QuickTips.isEnabled();function D(E,G,F){return{itemId:E,cls:"x-btn-icon x-edit-"+E,enableToggle:G!==false,scope:C,handler:F||C.relayBtnCmd,clickEvent:"mousedown",tooltip:B?C.buttonTips[E]||undefined:undefined,tabIndex:-1}}var A=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild});A.el.on("click",function(E){E.preventDefault()});if(this.enableFont&&!Ext.isSafari2){this.fontSelect=A.el.createChild({tag:"select",cls:"x-font-select",html:this.createFontOptions()});this.fontSelect.on("change",function(){var E=this.fontSelect.dom.value;this.relayCmd("fontname",E);this.deferFocus()},this);A.add(this.fontSelect.dom,"-")}if(this.enableFormat){A.add(D("bold"),D("italic"),D("underline"))}if(this.enableFontSize){A.add("-",D("increasefontsize",false,this.adjustFont),D("decreasefontsize",false,this.adjustFont))}if(this.enableColors){A.add("-",{itemId:"forecolor",cls:"x-btn-icon x-edit-forecolor",clickEvent:"mousedown",tooltip:B?C.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,selectHandler:function(E,F){this.execCmd("forecolor",Ext.isSafari||Ext.isIE?"#"+F:F);this.deferFocus()},scope:this,clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon x-edit-backcolor",clickEvent:"mousedown",tooltip:B?C.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,selectHandler:function(E,F){if(Ext.isGecko){this.execCmd("useCSS",false);this.execCmd("hilitecolor",F);this.execCmd("useCSS",true);this.deferFocus()}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isSafari||Ext.isIE?"#"+F:F);this.deferFocus()}},scope:this,clickEvent:"mousedown"})})}if(this.enableAlignments){A.add("-",D("justifyleft"),D("justifycenter"),D("justifyright"))}if(!Ext.isSafari2){if(this.enableLinks){A.add("-",D("createlink",false,this.createLink))}if(this.enableLists){A.add("-",D("insertorderedlist"),D("insertunorderedlist"))}if(this.enableSourceEdit){A.add("-",D("sourceedit",true,function(E){this.toggleSourceEdit(E.pressed)}))}}this.tb=A},getDocMarkup:function(){return'<html><head><style type="text/css">body{border:0;margin:0;padding:3px;height:98%;cursor:text;}</style></head><body></body></html>'},getEditorBody:function(){return this.doc.body||this.doc.documentElement},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document)},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name]},onRender:function(A,B){Ext.form.HtmlEditor.superclass.onRender.call(this,A,B);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;")}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.tb.items.each(function(E){if(E.itemId!="sourceedit"){E.disable()}});var D=document.createElement("iframe");D.name=Ext.id();D.frameBorder="0";D.src=Ext.isIE?Ext.SSL_SECURE_URL:"javascript:;";this.wrap.dom.appendChild(D);this.iframe=D;this.initFrame();if(this.autoMonitorDesignMode!==false){this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100})}if(!this.width){var C=this.el.getSize();this.setSize(C.width,this.height||C.height)}},initFrame:function(){this.doc=this.getDoc();this.win=this.getWin();this.doc.open();this.doc.write(this.getDocMarkup());this.doc.close();var A={run:function(){if(this.doc.body||this.doc.readyState=="complete"){Ext.TaskMgr.stop(A);this.doc.designMode="on";this.initEditor.defer(10,this)}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(A)},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var A=this.getDoc();if(!A){return }if(!A.editorInitialized||String(A.designMode).toLowerCase()!="on"){this.initFrame()}}},onResize:function(A,D){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(typeof A=="number"){var C=A-this.wrap.getFrameWidth("lr");this.el.setWidth(this.adjustWidth("textarea",C));this.iframe.style.width=Math.max(C,0)+"px"}if(typeof D=="number"){var B=D-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(this.adjustWidth("textarea",B));this.iframe.style.height=Math.max(B,0)+"px";if(this.doc){this.getEditorBody().style.height=Math.max((B-(this.iframePad*2)),0)+"px"}}}},toggleSourceEdit:function(B){if(B===undefined){B=!this.sourceEditMode}this.sourceEditMode=B===true;var C=this.tb.items.get("sourceedit");if(C.pressed!==this.sourceEditMode){C.toggle(this.sourceEditMode);return }if(this.sourceEditMode){this.tb.items.each(function(D){if(D.itemId!="sourceedit"){D.disable()}});this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");this.el.focus()}else{if(this.initialized){this.tb.items.each(function(D){D.enable()})}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus()}var A=this.lastSize;if(A){delete this.lastSize;this.setSize(A)}this.fireEvent("editmodechange",this,this.sourceEditMode)},createLink:function(){var A=prompt(this.createLinkText,this.defaultLinkValue);if(A&&A!="http://"){this.relayCmd("createlink",A)}},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap},getPositionEl:function(){return this.wrap},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(A){Ext.form.HtmlEditor.superclass.setValue.call(this,A);this.pushValue()},cleanHtml:function(A){A=String(A);if(A.length>5){if(Ext.isSafari){A=A.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}}if(A=="&nbsp;"){A=""}return A},syncValue:function(){if(this.initialized){var C=this.getEditorBody();var D=C.innerHTML;if(Ext.isSafari){var A=C.getAttribute("style");var B=A.match(/text-align:(.*?);/i);if(B&&B[1]){D='<div style="'+B[0]+'">'+D+"</div>"}}D=this.cleanHtml(D);if(this.fireEvent("beforesync",this,D)!==false){this.el.dom.value=D;this.fireEvent("sync",this,D)}}},getValue:function(){this.syncValue();return Ext.form.HtmlEditor.superclass.getValue.call(this)},pushValue:function(){if(this.initialized){var A=this.el.dom.value;if(!this.activated&&A.length<1){A="&nbsp;"}if(this.fireEvent("beforepush",this,A)!==false){this.getEditorBody().innerHTML=A;this.fireEvent("push",this,A)}}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus()}else{this.el.focus()}},initEditor:function(){var A=this.getEditorBody();var B=this.el.getStyles("font-size","font-family","background-image","background-repeat");B["background-attachment"]="fixed";A.bgProperties="fixed";Ext.DomHelper.applyStyles(A,B);if(this.doc){try{Ext.EventManager.removeAll(this.doc)}catch(C){}}this.doc=this.getDoc();Ext.EventManager.on(this.doc,{mousedown:this.onEditorEvent,dblclick:this.onEditorEvent,click:this.onEditorEvent,keyup:this.onEditorEvent,buffer:100,scope:this});if(Ext.isGecko){Ext.EventManager.on(this.doc,"keypress",this.applyCommand,this)}if(Ext.isIE||Ext.isSafari||Ext.isOpera){Ext.EventManager.on(this.doc,"keydown",this.fixKeys,this)}this.initialized=true;this.fireEvent("initialize",this);this.doc.editorInitialized=true;this.pushValue()},onDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask)}if(this.rendered){this.tb.items.each(function(A){if(A.menu){A.menu.removeAll();if(A.menu.el){A.menu.el.destroy()}}A.destroy()});this.wrap.dom.innerHTML="";this.wrap.remove()}},onFirstFocus:function(){this.activated=true;this.tb.items.each(function(D){D.enable()});if(Ext.isGecko){this.win.focus();var B=this.win.getSelection();if(!B.focusNode||B.focusNode.nodeType!=3){var A=B.getRangeAt(0);A.selectNodeContents(this.getEditorBody());A.collapse(true);this.deferFocus()}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false)}catch(C){}}this.fireEvent("activate",this)},adjustFont:function(A){var C=A.itemId=="increasefontsize"?1:-1;var B=parseInt(this.doc.queryCommandValue("FontSize")||2,10);if(Ext.isSafari3||Ext.isAir){if(B<=10){B=1+C}else{if(B<=13){B=2+C}else{if(B<=16){B=3+C}else{if(B<=18){B=4+C}else{if(B<=24){B=5+C}else{B=6+C}}}}}B=B.constrain(1,6)}else{if(Ext.isSafari){C*=2}B=Math.max(1,B+C)+(Ext.isSafari?"px":0)}this.execCmd("FontSize",B)},onEditorEvent:function(A){this.updateToolbar()},updateToolbar:function(){if(!this.activated){this.onFirstFocus();return }var A=this.tb.items.map,C=this.doc;if(this.enableFont&&!Ext.isSafari2){var B=(this.doc.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(B!=this.fontSelect.dom.value){this.fontSelect.dom.value=B}}if(this.enableFormat){A.bold.toggle(C.queryCommandState("bold"));A.italic.toggle(C.queryCommandState("italic"));A.underline.toggle(C.queryCommandState("underline"))}if(this.enableAlignments){A.justifyleft.toggle(C.queryCommandState("justifyleft"));A.justifycenter.toggle(C.queryCommandState("justifycenter"));A.justifyright.toggle(C.queryCommandState("justifyright"))}if(!Ext.isSafari2&&this.enableLists){A.insertorderedlist.toggle(C.queryCommandState("insertorderedlist"));A.insertunorderedlist.toggle(C.queryCommandState("insertunorderedlist"))}Ext.menu.MenuMgr.hideAll();this.syncValue()},relayBtnCmd:function(A){this.relayCmd(A.itemId)},relayCmd:function(A,B){(function(){this.focus();this.execCmd(A,B);this.updateToolbar()}).defer(10,this)},execCmd:function(A,B){this.doc.execCommand(A,false,B===undefined?null:B);this.syncValue()},applyCommand:function(A){if(A.ctrlKey){var C=A.getCharCode(),B;if(C>0){C=String.fromCharCode(C);switch(C){case"b":B="bold";break;case"i":B="italic";break;case"u":B="underline";break}if(B){this.win.focus();this.execCmd(B);this.deferFocus();A.preventDefault()}}}},insertAtCursor:function(A){if(!this.activated){return }if(Ext.isIE){this.win.focus();var B=this.doc.selection.createRange();if(B){B.collapse(true);B.pasteHTML(A);this.syncValue();this.deferFocus()}}else{if(Ext.isGecko||Ext.isOpera){this.win.focus();this.execCmd("InsertHTML",A);this.deferFocus()}else{if(Ext.isSafari){this.execCmd("InsertText",A);this.deferFocus()}}}},fixKeys:function(){if(Ext.isIE){return function(C){var B=C.getKey(),A;if(B==C.TAB){C.stopEvent();A=this.doc.selection.createRange();if(A){A.collapse(true);A.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}else{if(B==C.ENTER){A=this.doc.selection.createRange();if(A){var D=A.parentElement();if(!D||D.tagName.toLowerCase()!="li"){C.stopEvent();A.pasteHTML("<br />");A.collapse(false);A.select()}}}}}}else{if(Ext.isOpera){return function(A){var B=A.getKey();if(B==A.TAB){A.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}}else{if(Ext.isSafari){return function(A){var B=A.getKey();if(B==A.TAB){A.stopEvent();this.execCmd("InsertText","\t");this.deferFocus()}}}}}}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:null,maxValue:null,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initComponent:function(){Ext.form.TimeField.superclass.initComponent.call(this);if(typeof this.minValue=="string"){this.minValue=this.parseDate(this.minValue)}if(typeof this.maxValue=="string"){this.maxValue=this.parseDate(this.maxValue)}if(!this.store){var A=this.parseDate(this.minValue);if(!A){A=new Date(this.initDate).clearTime()}var B=this.parseDate(this.maxValue);if(!B){B=new Date(this.initDate).clearTime().add("mi",(24*60)-1)}var C=[];while(A<=B){C.push([A.dateFormat(this.format)]);A=A.add("mi",this.increment)}this.store=new Ext.data.SimpleStore({fields:["text"],data:C});this.displayField="text"}},getValue:function(){var A=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(A))||""},setValue:function(A){Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(A)))},validateValue:Ext.form.DateField.prototype.validateValue,parseDate:Ext.form.DateField.prototype.parseDate,formatDate:Ext.form.DateField.prototype.formatDate,beforeBlur:function(){var A=this.parseDate(this.getRawValue());if(A){this.setValue(A.dateFormat(this.format))}}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(A,B){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId)}}Ext.form.Label.superclass.onRender.call(this,A,B)},setText:function(B,A){this.text=B;if(this.rendered){this.el.dom.innerHTML=A!==false?Ext.util.Format.htmlEncode(B):B}return this}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(A,B){this.form=A;this.options=B||{}};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(A){},success:function(A){},handleResponse:function(A){},failure:function(A){this.response=A;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(A){this.response=A;if(!A.responseText){return true}this.result=this.handleResponse(A);return this.result},getUrl:function(C){var B=this.options.url||this.form.url||this.form.el.dom.action;if(C){var A=this.getParams();if(A){B+=(B.indexOf("?")!=-1?"&":"?")+A}}return B},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var B=this.form.baseParams;var A=this.options.params;if(A){if(typeof A=="object"){A=Ext.urlEncode(Ext.applyIf(A,B))}else{if(typeof A=="string"&&B){A+="&"+Ext.urlEncode(B)}}}else{if(B){A=Ext.urlEncode(B)}}return A},createCallback:function(A){var A=A||{};return{success:this.success,failure:this.failure,scope:this,timeout:(A.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined}}};Ext.form.Action.Submit=function(A,B){Ext.form.Action.Submit.superclass.constructor.call(this,A,B)};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var A=this.options;var C=this.getMethod();var B=C=="GET";if(A.clientValidation===false||this.form.isValid()){Ext.Ajax.request(Ext.apply(this.createCallback(A),{form:this.form.el.dom,url:this.getUrl(B),method:C,headers:A.headers,params:!B?this.getParams():null,isUpload:this.form.fileUpload}))}else{if(A.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},success:function(A){var B=this.processResponse(A);if(B===true||B.success){this.form.afterAction(this,true);return }if(B.errors){this.form.markInvalid(B.errors);this.failureType=Ext.form.Action.SERVER_INVALID}this.form.afterAction(this,false)},handleResponse:function(F){if(this.form.errorReader){var A=this.form.errorReader.read(F);var C=[];if(A.records){for(var E=0,B=A.records.length;E<B;E++){var D=A.records[E];C[E]=D.data}}if(C.length<1){C=null}return{success:A.success,errors:C}}return Ext.decode(F.responseText)}});Ext.form.Action.Load=function(A,B){Ext.form.Action.Load.superclass.constructor.call(this,A,B);this.reader=this.form.reader};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}))},success:function(A){var B=this.processResponse(A);if(B===true||!B.success||!B.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return }this.form.clearInvalid();this.form.setValues(B.data);this.form.afterAction(this,true)},handleResponse:function(A){if(this.form.reader){var B=this.form.reader.read(A);var C=B.records&&B.records[0]?B.records[0].data:null;return{success:B.success,data:C}}return Ext.decode(A.responseText)}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit};Ext.form.VTypes=function(){var D=/^[a-zA-Z_]+$/;var C=/^[a-zA-Z0-9_]+$/;var A=/^([\w]+)(\.[\w]+)*@([\w\-]+\.){1,5}([A-Za-z]){2,4}$/;var B=/(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(E){return A.test(E)},emailText:'This field should be an e-mail address in the format "user@domain.com"',emailMask:/[a-z0-9_\.\-@]/i,url:function(E){return B.test(E)},urlText:'This field should be a URL in the format "http://www.domain.com"',alpha:function(E){return D.test(E)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(E){return C.test(E)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{ddText:"{0} selected row{1}",minColumnWidth:25,trackMouseOver:true,enableDragDrop:false,enableColumnMove:true,enableColumnHide:true,enableHdMenu:true,stripeRows:false,autoExpandColumn:false,autoExpandMin:50,autoExpandMax:1000,view:null,loadMask:false,deferRowRender:true,rendered:false,viewReady:false,stateEvents:["columnmove","columnresize","sortchange"],initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns}if(this.ds){this.store=this.ds;delete this.ds}if(this.cm){this.colModel=this.cm;delete this.cm}if(this.sm){this.selModel=this.sm;delete this.sm}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","bodyscroll","columnresize","columnmove","sortchange")},onRender:function(D,B){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var C=this.body;this.el.addClass("x-grid-panel");var A=this.getView();A.init(this);C.on("mousedown",this.onMouseDown,this);C.on("click",this.onClick,this);C.on("dblclick",this.onDblClick,this);C.on("contextmenu",this.onContextMenu,this);C.on("keydown",this.onKeyDown,this);this.relayEvents(C,["mousedown","mouseup","mouseover","mouseout","keypress"]);this.getSelectionModel().init(this);this.view.render()},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask))}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.colModel.on("hiddenchange",this.saveState,this,{delay:100})},applyState:function(E){var A=this.colModel;var F=E.columns;if(F){for(var H=0,C=F.length;H<C;H++){var G=F[H];var B=A.getColumnById(G.id);if(B){B.hidden=G.hidden;B.width=G.width;var D=A.getIndexById(G.id);if(D!=H){A.moveColumn(D,H)}}}}if(E.sort){this.store[this.store.remoteSort?"setDefaultSort":"sort"](E.sort.field,E.sort.direction)}},getState:function(){var D={columns:[]};for(var A=0,C;C=this.colModel.config[A];A++){D.columns[A]={id:C.id,width:C.width};if(C.hidden){D.columns[A].hidden=true}}var B=this.store.getSortState();if(B){D.sort=B}return D},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);this.view.layout();if(this.deferRowRender){this.view.afterRender.defer(10,this.view)}else{this.view.afterRender()}this.viewReady=true},reconfigure:function(B,A){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:B},this.initialConfig.loadMask))}this.view.bind(B,A);this.store=B;this.colModel=A;if(this.rendered){this.view.refresh(true)}},onKeyDown:function(A){this.fireEvent("keydown",A)},onDestroy:function(){if(this.rendered){if(this.loadMask){this.loadMask.destroy()}var A=this.body;A.removeAllListeners();this.view.destroy();A.update("")}this.colModel.purgeListeners();Ext.grid.GridPanel.superclass.onDestroy.call(this)},processEvent:function(G,E){this.fireEvent(G,E);var F=E.getTarget();var A=this.view;var C=A.findHeaderIndex(F);if(C!==false){this.fireEvent("header"+G,this,C,E)}else{var D=A.findRowIndex(F);var B=A.findCellIndex(F);if(D!==false){this.fireEvent("row"+G,this,D,E);if(B!==false){this.fireEvent("cell"+G,this,D,B,E)}}}},onClick:function(A){this.processEvent("click",A)},onMouseDown:function(A){this.processEvent("mousedown",A)},onContextMenu:function(A,B){this.processEvent("contextmenu",A)},onDblClick:function(A){this.processEvent("dblclick",A)},walkCells:function(A,H,I,F,B){var C=this.colModel,E=C.getColumnCount();var J=this.store,D=J.getCount(),G=true;if(I<0){if(H<0){A--;G=false}while(A>=0){if(!G){H=E-1}G=false;while(H>=0){if(F.call(B||this,A,H,C)===true){return[A,H]}H--}A--}}else{if(H>=E){A++;G=false}while(A<D){if(!G){H=0}G=false;while(H<E){if(F.call(B||this,A,H,C)===true){return[A,H]}H++}A++}}return null},getSelections:function(){return this.selModel.getSelections()},onResize:function(){Ext.grid.GridPanel.superclass.onResize.apply(this,arguments);if(this.viewReady){this.view.layout()}},getGridEl:function(){return this.body},stopEditing:Ext.emptyFn,getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null)}return this.selModel},getStore:function(){return this.store},getColumnModel:function(){return this.colModel},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig)}return this.view},getDragDropText:function(){var A=this.selModel.getCount();return String.format(this.ddText,A,A==1?"":"s")}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.GridView=function(A){Ext.apply(this,A);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this)};Ext.extend(Ext.grid.GridView,Ext.util.Observable,{deferEmptyText:true,scrollOffset:19,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",cellSelectorDepth:4,rowSelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",initTemplates:function(){var C=this.templates||{};if(!C.master){C.master=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset">{header}</div></div><div class="x-clear"></div></div>','<div class="x-grid3-scroller"><div class="x-grid3-body">{body}</div><a href="#" class="x-grid3-focus" tabIndex="-1"></a></div>',"</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>")}if(!C.header){C.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">','<thead><tr class="x-grid3-hd-row">{cells}</tr></thead>',"</table>")}if(!C.hcell){C.hcell=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}"><div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"",'{value}<img class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div></td>")}if(!C.body){C.body=new Ext.Template("{rows}")}if(!C.row){C.row=new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}"><table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr>",(this.enableRowBody?'<tr class="x-grid3-row-body-tr" style="{bodyStyle}"><td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on"><div class="x-grid3-row-body">{body}</div></td></tr>':""),"</tbody></table></div>")}if(!C.cell){C.cell=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>")}for(var B in C){var A=C[B];if(A&&typeof A.compile=="function"&&!A.compiled){A.disableFormats=true;A.compile()}}this.templates=C;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","")},fly:function(A){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body)}this._flyweight.dom=A;return this._flyweight},getEditorParent:function(){return this.scroller.dom},initElements:function(){var C=Ext.Element;var A=this.grid.getGridEl().dom.firstChild;var B=A.childNodes;this.el=new C(A);this.mainWrap=new C(B[0]);this.mainHd=new C(this.mainWrap.dom.firstChild);if(this.grid.hideHeaders){this.mainHd.setDisplayed(false)}this.innerHd=this.mainHd.dom.firstChild;this.scroller=new C(this.mainWrap.dom.childNodes[1]);if(this.forceFit){this.scroller.setStyle("overflow-x","hidden")}this.mainBody=new C(this.scroller.dom.firstChild);this.focusEl=new C(this.scroller.dom.childNodes[1]);this.focusEl.swallowEvent("click",true);this.resizeMarker=new C(B[1]);this.resizeProxy=new C(B[2])},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},findCell:function(A){if(!A){return false}return this.fly(A).findParent(this.cellSelector,this.cellSelectorDepth)},findCellIndex:function(C,A){var B=this.findCell(C);if(B&&(!A||this.fly(B).hasClass(A))){return this.getCellIndex(B)}return false},getCellIndex:function(A){if(A){var B=A.className.match(this.colRe);if(B&&B[1]){return this.cm.getIndexById(B[1])}}return false},findHeaderCell:function(A){var B=this.findCell(A);return B&&this.fly(B).hasClass(this.hdCls)?B:null},findHeaderIndex:function(A){return this.findCellIndex(A,this.hdCls)},findRow:function(A){if(!A){return false}return this.fly(A).findParent(this.rowSelector,this.rowSelectorDepth)},findRowIndex:function(B){var A=this.findRow(B);return A?A.rowIndex:false},getRow:function(A){return this.getRows()[A]},getCell:function(A,B){return this.getRow(A).getElementsByTagName("td")[B]},getHeaderCell:function(A){return this.mainHd.dom.getElementsByTagName("td")[A]},addRowClass:function(C,B){var A=this.getRow(C);if(A){this.fly(A).addClass(B)}},removeRowClass:function(C,B){var A=this.getRow(C);if(A){this.fly(A).removeClass(B)}},removeRow:function(A){Ext.removeNode(this.getRow(A));this.syncFocusEl(A)},removeRows:function(D,B){var A=this.mainBody.dom;for(var C=D;C<=B;C++){Ext.removeNode(A.childNodes[D])}this.syncFocusEl(D)},getScrollState:function(){var A=this.scroller.dom;return{left:A.scrollLeft,top:A.scrollTop}},restoreScroll:function(B){var A=this.scroller.dom;A.scrollLeft=B.left;A.scrollTop=B.top},scrollToTop:function(){this.scroller.dom.scrollTop=0;this.scroller.dom.scrollLeft=0},syncScroll:function(){this.syncHeaderScroll();var A=this.scroller.dom;this.grid.fireEvent("bodyscroll",A.scrollLeft,A.scrollTop)},syncHeaderScroll:function(){var A=this.scroller.dom;this.innerHd.scrollLeft=A.scrollLeft;this.innerHd.scrollLeft=A.scrollLeft},updateSortIcon:function(A,B){var C=this.sortClasses;var D=this.mainHd.select("td").removeClass(C);D.item(A).addClass(C[B=="DESC"?1:0])},updateAllColumnWidths:function(){var G=this.getTotalWidth();var B=this.cm.getColumnCount();var E=[];for(var I=0;I<B;I++){E[I]=this.getColumnWidth(I)}this.innerHd.firstChild.firstChild.style.width=G;for(var I=0;I<B;I++){var H=this.getHeaderCell(I);H.style.width=E[I]}var D=this.getRows(),A,C;for(var I=0,F=D.length;I<F;I++){A=D[I];A.style.width=G;if(A.firstChild){A.firstChild.style.width=G;C=A.firstChild.rows[0];for(var J=0;J<B;J++){C.childNodes[J].style.width=E[J]}}}this.onAllColumnWidthsUpdated(E,G)},updateColumnWidth:function(H,I){var B=this.getColumnWidth(H);var E=this.getTotalWidth();this.innerHd.firstChild.firstChild.style.width=E;var F=this.getHeaderCell(H);F.style.width=B;var C=this.getRows(),A;for(var G=0,D=C.length;G<D;G++){A=C[G];A.style.width=E;if(A.firstChild){A.firstChild.style.width=E;A.firstChild.rows[0].childNodes[H].style.width=B}}this.onColumnWidthUpdated(H,B,E)},updateColumnHidden:function(I,E){var F=this.getTotalWidth();this.innerHd.firstChild.firstChild.style.width=F;var C=E?"none":"";var G=this.getHeaderCell(I);G.style.display=C;var B=this.getRows(),A;for(var H=0,D=B.length;H<D;H++){A=B[H];A.style.width=F;if(A.firstChild){A.firstChild.style.width=F;A.firstChild.rows[0].childNodes[I].style.display=C}}this.onColumnHiddenUpdated(I,E,F);delete this.lastViewWidth;this.layout()},doRender:function(T,R,J,X,L,F){var W=this.templates,U=W.cell,S=W.row,Q=L-1;var V="width:"+this.getTotalWidth()+";";var C=[],I,M,H={},P={tstyle:V},N;for(var G=0,D=R.length;G<D;G++){N=R[G];I=[];var O=(G+X);for(var E=0;E<L;E++){M=T[E];H.id=M.id;H.css=E==0?"x-grid3-cell-first ":(E==Q?"x-grid3-cell-last ":"");H.attr=H.cellAttr="";H.value=M.renderer(N.data[M.name],H,N,O,E,J);H.style=M.style;if(H.value==undefined||H.value===""){H.value="&#160;"}if(N.dirty&&typeof N.modified[M.name]!=="undefined"){H.css+=" x-grid3-dirty-cell"}I[I.length]=U.apply(H)}var K=[];if(F&&((O+1)%2==0)){K[0]="x-grid3-row-alt"}if(N.dirty){K[1]=" x-grid3-dirty-row"}P.cols=L;if(this.getRowClass){K[2]=this.getRowClass(N,O,P,J)}P.alt=K.join(" ");P.cells=I.join("");C[C.length]=S.apply(P)}return C.join("")},processRows:function(E,F){if(this.ds.getCount()<1){return }F=F||!this.grid.stripeRows;E=E||0;var A=this.getRows();var D=" x-grid3-row-alt ";A[0].className+=" x-grid3-row-first";A[A.length-1].className+=" x-grid3-row-last";for(var H=E,G=A.length;H<G;H++){var B=A[H];B.rowIndex=H;if(!F){var I=((H+1)%2==0);var C=(" "+B.className+" ").indexOf(D)!=-1;if(I==C){continue}if(I){B.className+=" x-grid3-row-alt"}else{B.className=B.className.replace("x-grid3-row-alt","")}}}},afterRender:function(){this.mainBody.dom.innerHTML=this.renderRows();this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText()}},renderUI:function(){var C=this.renderHeaders();var B=this.templates.body.apply({rows:""});var A=this.templates.master.apply({body:B,header:C});var D=this.grid;D.getGridEl().dom.innerHTML=A;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on("mouseover",this.handleHdOver,this);this.mainHd.on("mouseout",this.handleHdOut,this);this.mainHd.on("mousemove",this.handleHdMove,this);this.scroller.on("scroll",this.syncScroll,this);if(D.enableColumnResize!==false){this.splitZone=new Ext.grid.GridView.SplitDragZone(D,this.mainHd.dom)}if(D.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(D,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(D,this.mainHd.dom)}if(D.enableHdMenu!==false){if(D.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:D.id+"-hcols-menu"});this.colMenu.on("beforeshow",this.beforeColMenuShow,this);this.colMenu.on("itemclick",this.handleHdMenuClick,this)}this.hmenu=new Ext.menu.Menu({id:D.id+"-hctx"});this.hmenu.add({id:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{id:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(D.enableColumnHide!==false){this.hmenu.add("-",{id:"columns",text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})}this.hmenu.on("itemclick",this.handleHdMenuClick,this)}if(D.trackMouseOver){this.mainBody.on("mouseover",this.onRowOver,this);this.mainBody.on("mouseout",this.onRowOut,this)}if(D.enableDragDrop||D.enableDrag){this.dragZone=new Ext.grid.GridDragZone(D,{ddGroup:D.ddGroup||"GridDD"})}this.updateHeaderSortState()},layout:function(){if(!this.mainBody){return }var F=this.grid;var C=F.getGridEl();var B=C.getSize(true);var A=B.width;if(A<20||B.height<20){return }if(F.autoHeight){this.scroller.dom.style.overflow="visible";if(Ext.isSafari){this.scroller.dom.style.position="static"}}else{this.el.setSize(B.width,B.height);var D=this.mainHd.getHeight();var E=B.height-(D);this.scroller.setSize(A,E);if(this.innerHd){this.innerHd.style.width=(A)+"px"}}if(this.forceFit){if(this.lastViewWidth!=A){this.fitColumns(false,false);this.lastViewWidth=A}}else{this.autoExpand();this.syncHeaderScroll()}this.onLayout(A,E)},onLayout:function(B,A){},onColumnWidthUpdated:function(C,B,A){this.focusEl.setWidth(A)},onAllColumnWidthsUpdated:function(B,A){this.focusEl.setWidth(A)},onColumnHiddenUpdated:function(A,C,B){this.focusEl.setWidth(B)},updateColumnText:function(B,A){},afterMove:function(A){},init:function(A){this.grid=A;this.initTemplates();this.initData(A.store,A.colModel);this.initUI(A)},getColumnId:function(A){return this.cm.getColumnId(A)},renderHeaders:function(){var B=this.cm,D=this.templates;var F=D.hcell;var H=[],C=[],I={};var E=B.getColumnCount();var A=E-1;for(var G=0;G<E;G++){I.id=B.getColumnId(G);I.value=B.getColumnHeader(G)||"";I.style=this.getColumnStyle(G,true);I.tooltip=this.getColumnTooltip(G);I.css=G==0?"x-grid3-cell-first ":(G==A?"x-grid3-cell-last ":"");if(B.config[G].align=="right"){I.istyle="padding-right:16px"}else{delete I.istyle}H[H.length]=F.apply(I)}return D.header.apply({cells:H.join(""),tstyle:"width:"+this.getTotalWidth()+";"})},getColumnTooltip:function(B){var A=this.cm.getColumnTooltip(B);if(A){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+A+'"'}else{return'title="'+A+'"'}}return""},beforeUpdate:function(){this.grid.stopEditing(true)},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders()},focusRow:function(A){this.focusCell(A,0,false)},focusCell:function(C,B,A){this.syncFocusEl(this.ensureVisible(C,B,A));if(Ext.isGecko){this.focusEl.focus()}else{this.focusEl.focus.defer(1,this.focusEl)}},resolveCell:function(C,E,D){if(typeof C!="number"){C=C.rowIndex}if(!this.ds){return null}if(C<0||C>=this.ds.getCount()){return null}E=(E!==undefined?E:0);var A=this.getRow(C),B;if(!(D===false&&E===0)){while(this.cm.isHidden(E)){E++}B=this.getCell(C,E)}return{row:A,cell:B}},getResolvedXY:function(B){if(!B){return null}var A=this.scroller.dom,C=B.cell,D=B.row;return C?Ext.fly(C).getXY():[this.el.getX(),Ext.fly(D).getY()]},syncFocusEl:function(C,B,D){var A=C;if(!Ext.isArray(A)){C=Math.min(C,Math.max(0,this.getRows().length-1));A=this.getResolvedXY(this.resolveCell(C,B,D))}this.focusEl.setXY(A||this.scroller.getXY())},ensureVisible:function(O,J,K){var Q=this.resolveCell(O,J,K);if(!Q||!Q.row){return }var F=Q.row,I=Q.cell;var C=this.scroller.dom;var P=0;var L=F,B=this.el.dom;while(L&&L!=B){P+=L.offsetTop;L=L.offsetParent}P-=this.mainHd.dom.offsetHeight;var A=P+F.offsetHeight;var N=C.clientHeight;var B=parseInt(C.scrollTop,10);var D=B+N;if(P<B){C.scrollTop=P}else{if(A>D){C.scrollTop=A-N}}if(K!==false){var E=parseInt(I.offsetLeft,10);var G=E+I.offsetWidth;var H=parseInt(C.scrollLeft,10);var M=H+C.clientWidth;if(E<H){C.scrollLeft=E}else{if(G>M){C.scrollLeft=G-C.clientWidth}}}return this.getResolvedXY(Q)},insertRows:function(B,C,F,D){if(!D&&C===0&&F>=B.getCount()-1){this.refresh()}else{if(!D){this.fireEvent("beforerowsinserted",this,C,F)}var A=this.renderRows(C,F);var E=this.getRow(C);if(E){Ext.DomHelper.insertHtml("beforeBegin",E,A)}else{Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,A)}if(!D){this.fireEvent("rowsinserted",this,C,F);this.processRows(C)}}this.syncFocusEl(C)},deleteRows:function(B,C,A){if(B.getRowCount()<1){this.refresh()}else{this.fireEvent("beforerowsdeleted",this,C,A);this.removeRows(C,A);this.processRows(C);this.fireEvent("rowsdeleted",this,C,A)}},getColumnStyle:function(B,D){var A=!D?(this.cm.config[B].css||""):"";A+="width:"+this.getColumnWidth(B)+";";if(this.cm.isHidden(B)){A+="display:none;"}var C=this.cm.config[B].align;if(C){A+="text-align:"+C+";"}return A},getColumnWidth:function(A){var B=this.cm.getColumnWidth(A);if(typeof B=="number"){return(Ext.isBorderBox?B:(B-this.borderWidth>0?B-this.borderWidth:0))+"px"}return B},getTotalWidth:function(){return this.cm.getTotalWidth()+"px"},fitColumns:function(P,M,O){var N=this.cm,A,H,E;var B=N.getTotalWidth(false);var J=this.grid.getGridEl().getWidth(true)-this.scrollOffset;if(J<20){return }var R=J-B;if(R===0){return false}var S=N.getColumnCount(true);var D=S-(typeof O=="number"?1:0);if(D===0){D=1;O=undefined}var I=N.getColumnCount();var K=[];var F=0;var G=0;var L;for(E=0;E<I;E++){if(!N.isHidden(E)&&!N.isFixed(E)&&E!==O){L=N.getColumnWidth(E);K.push(E);F=E;K.push(L);G+=L}}var Q=(J-N.getTotalWidth())/G;while(K.length){L=K.pop();E=K.pop();N.setColumnWidth(E,Math.max(this.grid.minColumnWidth,Math.floor(L+L*Q)),true)}if((B=N.getTotalWidth(false))>J){var C=D!=S?O:F;N.setColumnWidth(C,Math.max(1,N.getColumnWidth(C)-(B-J)),true)}if(P!==true){this.updateAllColumnWidths()}return true},autoExpand:function(A){var D=this.grid,B=this.cm;if(!this.userResized&&D.autoExpandColumn){var G=B.getTotalWidth(false);var C=this.grid.getGridEl().getWidth(true)-this.scrollOffset;if(G!=C){var E=B.getIndexById(D.autoExpandColumn);var F=B.getColumnWidth(E);var H=Math.min(Math.max(((C-G)+F),D.autoExpandMin),D.autoExpandMax);if(H!=F){B.setColumnWidth(E,H,true);if(A!==true){this.updateColumnWidth(E,H)}}}}},getColumnData:function(){var D=[],B=this.cm,C=B.getColumnCount();for(var E=0;E<C;E++){var A=B.getDataIndex(E);D[E]={name:(typeof A=="undefined"?this.ds.fields.get(E).name:A),renderer:B.getRenderer(E),id:B.getColumnId(E),style:this.getColumnStyle(E)}}return D},renderRows:function(B,G){var F=this.grid,D=F.colModel,I=F.store,A=F.stripeRows;var C=D.getColumnCount();if(I.getCount()<1){return""}var E=this.getColumnData();B=B||0;G=typeof G=="undefined"?I.getCount()-1:G;var H=I.getRange(B,G);return this.doRender(E,H,I,B,C,A)},renderBody:function(){var A=this.renderRows();return this.templates.body.apply({rows:A})},refreshRow:function(A){var C=this.ds,D;if(typeof A=="number"){D=A;A=C.getAt(D)}else{D=C.indexOf(A)}var B=[];this.insertRows(C,D,D,true);this.getRow(D).rowIndex=D;this.onRemove(C,A,D+1,true);this.fireEvent("rowupdated",this,D,A)},refresh:function(A){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var B=this.renderBody();this.mainBody.update(B);if(A===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>")}},updateHeaderSortState:function(){var A=this.ds.getSortState();if(!A){return }if(!this.sortState||(this.sortState.field!=A.field||this.sortState.direction!=A.direction)){this.grid.fireEvent("sortchange",this.grid,A)}this.sortState=A;var C=this.cm.findColumnIndex(A.field);if(C!=-1){var B=A.direction;this.updateSortIcon(C,B)}},destroy:function(){if(this.colMenu){Ext.menu.MenuMgr.unregister(this.colMenu);this.colMenu.destroy();delete this.colMenu}if(this.hmenu){Ext.menu.MenuMgr.unregister(this.hmenu);this.hmenu.destroy();delete this.hmenu}if(this.grid.enableColumnMove){var C=Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id];if(C){for(var B in C){if(!C[B].config.isTarget&&C[B].dragElId){var A=C[B].dragElId;C[B].unreg();Ext.get(A).remove()}else{if(C[B].config.isTarget){C[B].proxyTop.remove();C[B].proxyBottom.remove();C[B].unreg()}}if(Ext.dd.DDM.locationCache[B]){delete Ext.dd.DDM.locationCache[B]}}delete Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id]}}if(this.dragZone){this.dragZone.unreg()}Ext.fly(this.innerHd).removeAllListeners();Ext.removeNode(this.innerHd);Ext.destroy(this.resizeMarker,this.resizeProxy,this.focusEl,this.mainBody,this.scroller,this.mainHd,this.mainWrap,this.dragZone,this.splitZone,this.columnDrag,this.columnDrop);this.initData(null,null);Ext.EventManager.removeResizeListener(this.onWindowResize,this);this.purgeListeners()},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var A=this.grid.ownerCt;if(A&&A.getLayout()){A.on("afterlayout",function(){this.fitColumns(true,true);this.updateHeaders()},this,{single:true})}else{this.fitColumns(true,true)}}else{if(this.forceFit){this.fitColumns(true,false)}else{if(this.grid.autoExpandColumn){this.autoExpand(true)}}}this.renderUI()},initData:function(A,B){if(this.ds){this.ds.un("load",this.onLoad,this);this.ds.un("datachanged",this.onDataChange,this);this.ds.un("add",this.onAdd,this);this.ds.un("remove",this.onRemove,this);this.ds.un("update",this.onUpdate,this);this.ds.un("clear",this.onClear,this)}if(A){A.on("load",this.onLoad,this);A.on("datachanged",this.onDataChange,this);A.on("add",this.onAdd,this);A.on("remove",this.onRemove,this);A.on("update",this.onUpdate,this);A.on("clear",this.onClear,this)}this.ds=A;if(this.cm){this.cm.un("configchange",this.onColConfigChange,this);this.cm.un("widthchange",this.onColWidthChange,this);this.cm.un("headerchange",this.onHeaderChange,this);this.cm.un("hiddenchange",this.onHiddenChange,this);this.cm.un("columnmoved",this.onColumnMove,this);this.cm.un("columnlockchange",this.onColumnLock,this)}if(B){delete this.lastViewWidth;B.on("configchange",this.onColConfigChange,this);B.on("widthchange",this.onColWidthChange,this);B.on("headerchange",this.onHeaderChange,this);B.on("hiddenchange",this.onHiddenChange,this);B.on("columnmoved",this.onColumnMove,this);B.on("columnlockchange",this.onColumnLock,this)}this.cm=B},onDataChange:function(){this.refresh();this.updateHeaderSortState();this.syncFocusEl(0)},onClear:function(){this.refresh();this.syncFocusEl(0)},onUpdate:function(A,B){this.refreshRow(B)},onAdd:function(C,B,A){this.insertRows(C,A,A+(B.length-1))},onRemove:function(C,B,A,D){if(D!==true){this.fireEvent("beforerowremoved",this,A,B)}this.removeRow(A);if(D!==true){this.processRows(A);this.applyEmptyText();this.fireEvent("rowremoved",this,A,B)}},onLoad:function(){this.scrollToTop()},onColWidthChange:function(B,A,C){this.updateColumnWidth(A,C)},onHeaderChange:function(B,A,C){this.updateHeaders()},onHiddenChange:function(B,A,C){this.updateColumnHidden(A,C)},onColumnMove:function(B,C,A){this.indexMap=null;var D=this.getScrollState();this.refresh(true);this.restoreScroll(D);this.afterMove(A)},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(true)},initUI:function(A){A.on("headerclick",this.onHeaderClick,this)},initEvents:function(){},onHeaderClick:function(A,B){if(this.headersDisabled||!this.cm.isSortable(B)){return }A.stopEditing(true);A.store.sort(this.cm.getDataIndex(B))},onRowOver:function(A,B){var C;if((C=this.findRowIndex(B))!==false){this.addRowClass(C,"x-grid3-row-over")}},onRowOut:function(A,B){var C;if((C=this.findRowIndex(B))!==false&&!A.within(this.getRow(C),true)){this.removeRowClass(C,"x-grid3-row-over")}},handleWheel:function(A){A.stopPropagation()},onRowSelect:function(A){this.addRowClass(A,"x-grid3-row-selected")},onRowDeselect:function(A){this.removeRowClass(A,"x-grid3-row-selected")},onCellSelect:function(C,A){var B=this.getCell(C,A);if(B){this.fly(B).addClass("x-grid3-cell-selected")}},onCellDeselect:function(C,A){var B=this.getCell(C,A);if(B){this.fly(B).removeClass("x-grid3-cell-selected")}},onColumnSplitterMoved:function(C,A){this.userResized=true;var B=this.grid.colModel;B.setColumnWidth(C,A,true);if(this.forceFit){this.fitColumns(true,false,C);this.updateAllColumnWidths()}else{this.updateColumnWidth(C,A);this.syncHeaderScroll()}this.grid.fireEvent("columnresize",C,A)},handleHdMenuClick:function(D){var A=this.hdCtxIndex;var B=this.cm,C=this.ds;switch(D.id){case"asc":C.sort(B.getDataIndex(A),"ASC");break;case"desc":C.sort(B.getDataIndex(A),"DESC");break;default:A=B.getIndexById(D.id.substr(4));if(A!=-1){if(D.checked&&B.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return false}B.setHidden(A,D.checked)}}return true},isHideableColumn:function(A){return !A.hidden&&!A.fixed},beforeColMenuShow:function(){var B=this.cm,C=B.getColumnCount();this.colMenu.removeAll();for(var A=0;A<C;A++){if(B.config[A].fixed!==true&&B.config[A].hideable!==false){this.colMenu.add(new Ext.menu.CheckItem({id:"col-"+B.getColumnId(A),text:B.getColumnHeader(A),checked:!B.isHidden(A),hideOnClick:false,disabled:B.config[A].hideable===false}))}}},handleHdDown:function(C,E){if(Ext.fly(E).hasClass("x-grid3-hd-btn")){C.stopEvent();var D=this.findHeaderCell(E);Ext.fly(D).addClass("x-grid3-hd-menu-open");var F=this.getCellIndex(D);this.hdCtxIndex=F;var A=this.hmenu.items,B=this.cm;A.get("asc").setDisabled(!B.isSortable(F));A.get("desc").setDisabled(!B.isSortable(F));this.hmenu.on("hide",function(){Ext.fly(D).removeClass("x-grid3-hd-menu-open")},this,{single:true});this.hmenu.show(E,"tl-bl?")}},handleHdOver:function(C,B){var D=this.findHeaderCell(B);if(D&&!this.headersDisabled){this.activeHd=D;this.activeHdIndex=this.getCellIndex(D);var A=this.fly(D);this.activeHdRegion=A.getRegion();if(!this.cm.isMenuDisabled(this.activeHdIndex)){A.addClass("x-grid3-hd-over");this.activeHdBtn=A.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(D.firstChild.offsetHeight-1)+"px"}}}},handleHdMove:function(C,E){if(this.activeHd&&!this.headersDisabled){var A=this.splitHandleWidth||5;var D=this.activeHdRegion;var B=C.getPageX();var F=this.activeHd.style;if(B-D.left<=A&&this.cm.isResizable(this.activeHdIndex-1)){F.cursor=Ext.isAir?"move":Ext.isSafari?"e-resize":"col-resize"}else{if(D.right-B<=(!this.activeHdBtn?A:2)&&this.cm.isResizable(this.activeHdIndex)){F.cursor=Ext.isAir?"move":Ext.isSafari?"w-resize":"col-resize"}else{F.cursor=""}}}},handleHdOut:function(C,B){var A=this.findHeaderCell(B);if(A&&(!Ext.isIE||!C.within(A,true))){this.activeHd=null;this.fly(A).removeClass("x-grid3-hd-over");A.style.cursor=""}},hasRows:function(){var A=this.mainBody.dom.firstChild;return A&&A.className!="x-grid-empty"},bind:function(B,A){this.initData(B,A)}});Ext.grid.GridView.SplitDragZone=function(B,A){this.grid=B;this.view=B.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,A,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.scroll=false;this.hw=this.view.splitHandleWidth||5};Ext.extend(Ext.grid.GridView.SplitDragZone,Ext.dd.DDProxy,{b4StartDrag:function(B,C){this.view.headersDisabled=true;var D=this.view.mainWrap.getHeight();this.marker.setHeight(D);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(D);var A=this.cm.getColumnWidth(this.cellIndex);var E=Math.max(A-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(E,1000);this.setYConstraint(0,0);this.minX=B-E;this.maxX=B+1000;this.startPos=B;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,B,C)},handleMouseDown:function(K){var D=this.view.findHeaderCell(K.getTarget());if(D){var A=this.view.fly(D).getXY(),G=A[0],H=A[1];var C=K.getXY(),I=C[0],J=C[1];var E=D.offsetWidth,F=false;if((I-G)<=this.hw){F=-1}else{if((G+E)-I<=this.hw){F=0}}if(F!==false){this.cm=this.grid.colModel;var B=this.view.getCellIndex(D);if(F==-1){if(B+F<0){return }while(this.cm.isHidden(B+F)){--F;if(B+F<0){return }}}this.cellIndex=B+F;this.split=D.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(K)}}}},endDrag:function(C){this.marker.hide();var B=this.view;var A=Math.max(this.minX,C.getPageX());var D=A-this.startPos;B.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+D);setTimeout(function(){B.headersDisabled=false},50)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",gidSeed:1000,initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var A=this.grid.getSelectionModel();A.on(A.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div>',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">')}this.startGroup.compile();this.endGroup="</div></div>"},findGroup:function(A){return Ext.fly(A).up(".x-grid-group",this.mainBody.dom)},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},onAdd:function(){if(this.enableGrouping&&!this.ignoreAdd){var A=this.getScrollState();this.refresh();this.restoreScroll(A)}else{if(!this.enableGrouping){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments)}}},onRemove:function(C,B,A,D){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var E=document.getElementById(B._groupId);if(E&&E.childNodes[1].childNodes.length<1){Ext.removeNode(E)}this.applyEmptyText()},refreshRow:function(A){if(this.ds.getCount()==1){this.refresh()}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false}},beforeMenuShow:function(){var C=this.getGroupField();var A=this.hmenu.items.get("groupBy");if(A){A.setDisabled(this.cm.config[this.hdCtxIndex].groupable===false)}var B=this.hmenu.items.get("showGroups");if(B){B.setDisabled(!C&&this.cm.config[this.hdCtxIndex].groupable===false);B.setChecked(!!C,true)}},renderUI:function(){Ext.grid.GroupingView.superclass.renderUI.call(this);this.mainBody.on("mousedown",this.interceptMouse,this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{id:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({id:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}},onGroupByClick:function(){this.grid.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));this.beforeMenuShow()},onShowGroupsClick:function(B,A){if(A){this.onGroupByClick()}else{this.grid.store.clearGrouping()}},toggleGroup:function(C,A){this.grid.stopEditing(true);C=Ext.getDom(C);var B=Ext.fly(C);A=A!==undefined?A:B.hasClass("x-grid-group-collapsed");this.state[B.dom.id]=A;B[A?"removeClass":"addClass"]("x-grid-group-collapsed")},toggleAllGroups:function(D){var A=this.getGroups();for(var C=0,B=A.length;C<B;C++){this.toggleGroup(A[C],D)}},expandAllGroups:function(){this.toggleAllGroups(true)},collapseAllGroups:function(){this.toggleAllGroups(false)},interceptMouse:function(A){var B=A.getTarget(".x-grid-group-hd",this.mainBody);if(B){A.stopEvent();this.toggleGroup(B.parentNode)}},getGroup:function(B,F,D,C,A,E){var G=D?D(B,{},F,C,A,E):String(B);if(G===""){G=this.cm.config[A].emptyGroupText||this.emptyGroupText}return G},getGroupField:function(){return this.grid.store.getGroupState()},renderRows:function(){var B=this.getGroupField();var C=!!B;if(this.hideGroupedColumn){var A=this.cm.findColumnIndex(B);if(!C&&this.lastGroupField!==undefined){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField}else{if(C&&this.lastGroupField===undefined){this.lastGroupField=B;this.cm.setHidden(A,true)}else{if(C&&this.lastGroupField!==undefined&&B!==this.lastGroupField){this.mainBody.update("");var D=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(D,false);this.lastGroupField=B;this.cm.setHidden(A,true)}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments)},doRender:function(Z,W,J,r,K,H){if(W.length<1){return""}var M=this.getGroupField();var L=this.cm.findColumnIndex(M);this.enableGrouping=!!M;if(!this.enableGrouping||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments)}var V="width:"+this.getTotalWidth()+";";var I=this.grid.getGridEl().id;var X=this.cm.config[L];var i=X.groupRenderer||X.renderer;var G=this.showGroupName?(X.groupName||X.header)+": ":"";var N=[],S,F,E,P;for(F=0,E=W.length;F<E;F++){var T=r+F;var R=W[F],Y=R.data[M],Q=this.getGroup(Y,R,i,T,L,J);if(!S||S.group!=Q){P=I+"-gp-"+M+"-"+Ext.util.Format.htmlEncode(Q);var g=typeof this.state[P]!=="undefined"?!this.state[P]:this.startCollapsed;var U=g?"x-grid-group-collapsed":"";S={group:Q,gvalue:Y,text:G+Q,groupId:P,startRow:T,rs:[R],cls:U,style:V};N.push(S)}else{S.rs.push(R)}R._groupId=P}var O=[];for(F=0,E=N.length;F<E;F++){var Q=N[F];this.doGroupStart(O,Q,Z,J,K);O[O.length]=Ext.grid.GroupingView.superclass.doRender.call(this,Z,Q.rs,J,Q.startRow,K,H);this.doGroupEnd(O,Q,Z,J,K)}return O.join("")},getGroupId:function(D){var F=this.grid.getGridEl().id;var G=this.getGroupField();var E=this.cm.findColumnIndex(G);var A=this.cm.config[E];var C=A.groupRenderer||A.renderer;var B=this.getGroup(D,{data:{}},C,0,E,this.ds);return F+"-gp-"+G+"-"+Ext.util.Format.htmlEncode(D)},doGroupStart:function(B,D,A,C,E){B[B.length]=this.startGroup.apply(D)},doGroupEnd:function(B,D,A,C,E){B[B.length]=this.endGroup},getRows:function(){if(!this.enableGrouping){return Ext.grid.GroupingView.superclass.getRows.call(this)}var C=[];var D,G=this.getGroups();for(var E=0,B=G.length;E<B;E++){D=G[E].childNodes[1].childNodes;for(var F=0,A=D.length;F<A;F++){C[C.length]=D[F]}}return C},updateGroupWidths:function(){if(!this.enableGrouping||!this.hasRows()){return }var D=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.scrollOffset)+"px";var A=this.getGroups();for(var C=0,B=A.length;C<B;C++){A[C].firstChild.style.width=D}},onColumnWidthUpdated:function(C,B,A){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,C,B,A);this.updateGroupWidths()},onAllColumnWidthsUpdated:function(B,A){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,B,A);this.updateGroupWidths()},onColumnHiddenUpdated:function(A,C,B){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,A,C,B);this.updateGroupWidths()},onLayout:function(){this.updateGroupWidths()},onBeforeRowSelect:function(C,D){if(!this.enableGrouping){return }var A=this.getRow(D);if(A&&!A.offsetParent){var B=this.findGroup(A);this.toggleGroup(B,true)}},groupByText:"Group By This Field",showGroupsText:"Show in Groups"});Ext.grid.GroupingView.GROUP_ID=1000;Ext.grid.HeaderDragZone=function(B,C,A){this.grid=B;this.view=B.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,C);if(A){this.setHandleElId(Ext.id(C));this.setOuterHandleElId(Ext.id(A))}this.scroll=false};Ext.extend(Ext.grid.HeaderDragZone,Ext.dd.DragZone,{maxDragWidth:120,getDragData:function(C){var B=Ext.lib.Event.getTarget(C);var A=this.view.findHeaderCell(B);if(A){return{ddel:A.firstChild,header:A}}return false},onInitDrag:function(B){this.view.headersDisabled=true;var A=this.dragData.ddel.cloneNode(true);A.id=Ext.id();A.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(A);return true},afterValidDrop:function(){var A=this.view;setTimeout(function(){A.headersDisabled=false},50)},afterInvalidDrop:function(){var A=this.view;setTimeout(function(){A.headersDisabled=false},50)}});Ext.grid.HeaderDropZone=function(B,C,A){this.grid=B;this.view=B.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden")};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,B.getGridEl().dom)};Ext.extend(Ext.grid.HeaderDropZone,Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,getTargetFromEvent:function(C){var B=Ext.lib.Event.getTarget(C);var A=this.view.findCellIndex(B);if(A!==false){return this.view.getHeaderCell(A)}},nextVisible:function(C){var A=this.view,B=this.grid.colModel;C=C.nextSibling;while(C){if(!B.isHidden(A.getCellIndex(C))){return C}C=C.nextSibling}return null},prevVisible:function(C){var A=this.view,B=this.grid.colModel;C=C.prevSibling;while(C){if(!B.isHidden(A.getCellIndex(C))){return C}C=C.prevSibling}return null},positionIndicator:function(H,J,G){var D=Ext.lib.Event.getPageX(G);var K=Ext.lib.Dom.getRegion(J.firstChild);var C,A,E=K.top+this.proxyOffsets[1];if((K.right-D)<=(K.right-K.left)/2){C=K.right+this.view.borderWidth;A="after"}else{C=K.left;A="before"}var F=this.view.getCellIndex(H);var B=this.view.getCellIndex(J);if(this.grid.colModel.isFixed(B)){return false}var I=this.grid.colModel.isLocked(B);if(A=="after"){B++}if(F<B){B--}if(F==B&&(I==this.grid.colModel.isLocked(F))){return false}C+=this.proxyOffsets[0];this.proxyTop.setLeftTop(C,E);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight()}this.proxyBottom.setLeftTop(C,E+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return A},onNodeEnter:function(C,B,D,A){if(A.header!=C){this.positionIndicator(A.header,C,D)}},onNodeOver:function(C,A,D,E){var B=false;if(E.header!=C){B=this.positionIndicator(E.header,C,D)}if(!B){this.proxyTop.hide();this.proxyBottom.hide()}return B?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(C,B,D,A){this.proxyTop.hide();this.proxyBottom.hide()},onNodeDrop:function(K,B,G,I){var H=I.header;if(H!=K){var D=this.grid.colModel;var E=Ext.lib.Event.getPageX(G);var L=Ext.lib.Dom.getRegion(K.firstChild);var A=(L.right-E)<=((L.right-L.left)/2)?"after":"before";var F=this.view.getCellIndex(H);var C=this.view.getCellIndex(K);var J=D.isLocked(C);if(A=="after"){C++}if(F<C){C--}if(F==C&&(J==D.isLocked(F))){return false}D.setLocked(F,J,true);D.moveColumn(F,C);this.grid.fireEvent("columnmove",F,C);return true}return false}});Ext.grid.GridView.ColumnDragZone=function(B,A){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,B,A,null);this.proxy.el.addClass("x-grid3-col-dd")};Ext.extend(Ext.grid.GridView.ColumnDragZone,Ext.grid.HeaderDragZone,{handleMouseDown:function(A){},callHandleMouseDown:function(A){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,A)}});Ext.grid.SplitDragZone=function(B,C,A){this.grid=B;this.view=B.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,C,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(C));this.setOuterHandleElId(Ext.id(A));this.scroll=false};Ext.extend(Ext.grid.SplitDragZone,Ext.dd.DDProxy,{fly:Ext.Element.fly,b4StartDrag:function(B,C){this.view.headersDisabled=true;this.proxy.setHeight(this.view.mainWrap.getHeight());var A=this.cm.getColumnWidth(this.cellIndex);var D=Math.max(A-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(D,1000);this.setYConstraint(0,0);this.minX=B-D;this.maxX=B+1000;this.startPos=B;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,B,C)},handleMouseDown:function(A){ev=Ext.EventObject.setEvent(A);var B=this.fly(ev.getTarget());if(B.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(B.dom);this.split=B.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}},endDrag:function(C){this.view.headersDisabled=false;var B=Math.max(this.minX,Ext.lib.Event.getPageX(C));var A=B-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+A)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.GridDragZone=function(A,B){this.view=A.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,B);if(this.view.lockedBody){this.setHandleElId(Ext.id(this.view.mainBody.dom));this.setOuterHandleElId(Ext.id(this.view.lockedBody.dom))}this.scroll=false;this.grid=A;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap"};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(A){var B=Ext.lib.Event.getTarget(A);var C=this.view.findRowIndex(B);if(C!==false){var D=this.grid.selModel;if(!D.isSelected(C)||A.hasModifier()){D.handleMouseDown(this.grid,C,A)}return{grid:this.grid,ddel:this.ddel,rowIndex:C,selections:D.getSelections()}}return false},onInitDrag:function(A){var B=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=false},getRepairXY:function(A,B){return false},onEndDrag:function(B,A){},onValidDrop:function(B,A,C){this.hideProxy()},beforeInvalidDrop:function(B,A){}});Ext.grid.ColumnModel=function(A){this.defaultWidth=100;this.defaultSortable=false;if(A.columns){Ext.apply(this,A);this.setConfig(A.columns,true)}else{this.setConfig(A,true)}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","columnlockchange","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this)};Ext.extend(Ext.grid.ColumnModel,Ext.util.Observable,{getColumnId:function(A){return this.config[A].id},setConfig:function(E,A){if(!A){delete this.totalWidth;for(var D=0,B=this.config.length;D<B;D++){var C=this.config[D];if(C.editor){C.editor.destroy()}}}this.config=E;this.lookup={};for(var D=0,B=E.length;D<B;D++){var C=E[D];if(typeof C.renderer=="string"){C.renderer=Ext.util.Format[C.renderer]}if(typeof C.id=="undefined"){C.id=D}if(C.editor&&C.editor.isFormField){C.editor=new Ext.grid.GridEditor(C.editor)}this.lookup[C.id]=C}if(!A){this.fireEvent("configchange",this)}},getColumnById:function(A){return this.lookup[A]},getIndexById:function(C){for(var A=0,B=this.config.length;A<B;A++){if(this.config[A].id==C){return A}}return -1},moveColumn:function(C,B){var A=this.config[C];this.config.splice(C,1);this.config.splice(B,0,A);this.dataMap=null;this.fireEvent("columnmoved",this,C,B)},isLocked:function(A){return this.config[A].locked===true},setLocked:function(A,C,B){if(this.isLocked(A)==C){return }this.config[A].locked=C;if(!B){this.fireEvent("columnlockchange",this,A,C)}},getTotalLockedWidth:function(){var B=0;for(var A=0;A<this.config.length;A++){if(this.isLocked(A)&&!this.isHidden(A)){this.totalWidth+=this.getColumnWidth(A)}}return B},getLockedCount:function(){for(var A=0,B=this.config.length;A<B;A++){if(!this.isLocked(A)){return A}}},getColumnCount:function(D){if(D===true){var C=0;for(var A=0,B=this.config.length;A<B;A++){if(!this.isHidden(A)){C++}}return C}return this.config.length},getColumnsBy:function(E,F){var D=[];for(var A=0,B=this.config.length;A<B;A++){var C=this.config[A];if(E.call(F||this,C,A)===true){D[D.length]=C}}return D},isSortable:function(A){if(typeof this.config[A].sortable=="undefined"){return this.defaultSortable}return this.config[A].sortable},isMenuDisabled:function(A){return !!this.config[A].menuDisabled},getRenderer:function(A){if(!this.config[A].renderer){return Ext.grid.ColumnModel.defaultRenderer}return this.config[A].renderer},setRenderer:function(B,A){this.config[B].renderer=A},getColumnWidth:function(A){return this.config[A].width||this.defaultWidth},setColumnWidth:function(A,C,B){this.config[A].width=C;this.totalWidth=null;if(!B){this.fireEvent("widthchange",this,A,C)}},getTotalWidth:function(A){if(!this.totalWidth){this.totalWidth=0;for(var C=0,B=this.config.length;C<B;C++){if(A||!this.isHidden(C)){this.totalWidth+=this.getColumnWidth(C)}}}return this.totalWidth},getColumnHeader:function(A){return this.config[A].header},setColumnHeader:function(B,A){this.config[B].header=A;this.fireEvent("headerchange",this,B,A)},getColumnTooltip:function(A){return this.config[A].tooltip},setColumnTooltip:function(B,A){this.config[B].tooltip=A},getDataIndex:function(A){return this.config[A].dataIndex},setDataIndex:function(B,A){this.config[B].dataIndex=A},findColumnIndex:function(D){var C=this.config;for(var A=0,B=C.length;A<B;A++){if(C[A].dataIndex==D){return A}}return -1},isCellEditable:function(B,A){return(this.config[B].editable||(typeof this.config[B].editable=="undefined"&&this.config[B].editor))?true:false},getCellEditor:function(B,A){return this.config[B].editor},setEditable:function(B,A){this.config[B].editable=A},isHidden:function(A){return this.config[A].hidden},isFixed:function(A){return this.config[A].fixed},isResizable:function(A){return A>=0&&this.config[A].resizable!==false&&this.config[A].fixed!==true},setHidden:function(B,A){var C=this.config[B];if(C.hidden!==A){C.hidden=A;this.totalWidth=null;this.fireEvent("hiddenchange",this,B,A)}},setEditor:function(B,A){this.config[B].editor=A}});Ext.grid.ColumnModel.defaultRenderer=function(A){if(typeof A=="string"&&A.length<1){return"&#160;"}return A};Ext.grid.DefaultColumnModel=Ext.grid.ColumnModel;Ext.grid.AbstractSelectionModel=function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)};Ext.extend(Ext.grid.AbstractSelectionModel,Ext.util.Observable,{init:function(A){this.grid=A;this.initEvents()},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked}});Ext.grid.RowSelectionModel=function(A){Ext.apply(this,A);this.selections=new Ext.util.MixedCollection(false,function(B){return B.id});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this)};Ext.extend(Ext.grid.RowSelectionModel,Ext.grid.AbstractSelectionModel,{singleSelect:false,initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this)}else{this.grid.on("rowclick",function(B,C,D){if(D.button===0&&!D.shiftKey&&!D.ctrlKey){this.selectRow(C,false);B.view.focusRow(C)}},this)}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(C){if(!C.shiftKey||this.singleSelect){this.selectPrevious(false)}else{if(this.last!==false&&this.lastActive!==false){var B=this.last;this.selectRange(this.last,this.lastActive-1);this.grid.getView().focusRow(this.lastActive);if(B!==false){this.last=B}}else{this.selectFirstRow()}}},down:function(C){if(!C.shiftKey||this.singleSelect){this.selectNext(false)}else{if(this.last!==false&&this.lastActive!==false){var B=this.last;this.selectRange(this.last,this.lastActive+1);this.grid.getView().focusRow(this.lastActive);if(B!==false){this.last=B}}else{this.selectFirstRow()}}},scope:this});var A=this.grid.view;A.on("refresh",this.onRefresh,this);A.on("rowupdated",this.onRowUpdated,this);A.on("rowremoved",this.onRemove,this)},onRefresh:function(){var C=this.grid.store,A;var E=this.getSelections();this.clearSelections(true);for(var F=0,B=E.length;F<B;F++){var D=E[F];if((A=C.indexOfId(D.id))!=-1){this.selectRow(A,true)}}if(E.length!=this.selections.getCount()){this.fireEvent("selectionchange",this)}},onRemove:function(B,A,C){if(this.selections.remove(C)!==false){this.fireEvent("selectionchange",this)}},onRowUpdated:function(B,A,C){if(this.isSelected(C)){B.onRowSelect(A)}},selectRecords:function(A,C){if(!C){this.clearSelections()}var D=this.grid.store;for(var E=0,B=A.length;E<B;E++){this.selectRow(D.indexOf(A[E]),true)}},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(A){this.selectRow(this.grid.store.getCount()-1,A)},selectNext:function(A){if(this.hasNext()){this.selectRow(this.last+1,A);this.grid.getView().focusRow(this.last);return true}return false},selectPrevious:function(A){if(this.hasPrevious()){this.selectRow(this.last-1,A);this.grid.getView().focusRow(this.last);return true}return false},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount()},hasPrevious:function(){return !!this.last},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},each:function(C,D){var E=this.getSelections();for(var A=0,B=E.length;A<B;A++){if(C.call(D||this,E[A],A)===false){return false}}return true},clearSelections:function(B){if(this.isLocked()){return }if(B!==true){var C=this.grid.store;var A=this.selections;A.each(function(D){this.deselectRow(C.indexOfId(D.id))},this);A.clear()}else{this.selections.clear()}this.last=false},selectAll:function(){if(this.isLocked()){return }this.selections.clear();for(var A=0,B=this.grid.store.getCount();A<B;A++){this.selectRow(A,true)}},hasSelection:function(){return this.selections.length>0},isSelected:function(B){var A=typeof B=="number"?this.grid.store.getAt(B):B;return(A&&this.selections.key(A.id)?true:false)},isIdSelected:function(A){return(this.selections.key(A)?true:false)},handleMouseDown:function(E,C,D){if(D.button!==0||this.isLocked()){return }var B=this.grid.getView();if(D.shiftKey&&!this.singleSelect&&this.last!==false){var F=this.last;this.selectRange(F,C,D.ctrlKey);this.last=F;B.focusRow(C)}else{var A=this.isSelected(C);if(D.ctrlKey&&A){this.deselectRow(C)}else{if(!A||this.getCount()>1){this.selectRow(C,D.ctrlKey||D.shiftKey);B.focusRow(C)}}}},selectRows:function(D,C){if(!C){this.clearSelections()}for(var A=0,B=D.length;A<B;A++){this.selectRow(D[A],true)}},selectRange:function(A,B,C){if(this.isLocked()){return }if(!C){this.clearSelections()}if(A<=B){for(var D=A;D<=B;D++){this.selectRow(D,true)}}else{for(var D=A;D>=B;D--){this.selectRow(D,true)}}},deselectRange:function(D,A,B){if(this.isLocked()){return }for(var C=D;C<=A;C++){this.deselectRow(C,B)}},selectRow:function(A,C,B){if(this.isLocked()||(A<0||A>=this.grid.store.getCount())||this.isSelected(A)){return }var D=this.grid.store.getAt(A);if(D&&this.fireEvent("beforerowselect",this,A,C,D)!==false){if(!C||this.singleSelect){this.clearSelections()}this.selections.add(D);this.last=this.lastActive=A;if(!B){this.grid.getView().onRowSelect(A)}this.fireEvent("rowselect",this,A,D);this.fireEvent("selectionchange",this)}},deselectRow:function(A,B){if(this.isLocked()){return }if(this.last==A){this.last=false}if(this.lastActive==A){this.lastActive=false}var C=this.grid.store.getAt(A);if(C){this.selections.remove(C);if(!B){this.grid.getView().onRowDeselect(A)}this.fireEvent("rowdeselect",this,A,C);this.fireEvent("selectionchange",this)}},restoreLast:function(){if(this._last){this.last=this._last}},acceptsNav:function(C,A,B){return !B.isHidden(A)&&B.isCellEditable(A,C)},onEditorKey:function(D,E){var G=E.getKey(),C,F=this.grid,A=F.activeEditor;var B=E.shiftKey;if(G==E.TAB){E.stopEvent();A.completeEdit();if(B){C=F.walkCells(A.row,A.col-1,-1,this.acceptsNav,this)}else{C=F.walkCells(A.row,A.col+1,1,this.acceptsNav,this)}}else{if(G==E.ENTER){E.stopEvent();A.completeEdit();if(this.moveEditorOnEnter!==false){if(B){C=F.walkCells(A.row-1,A.col,-1,this.acceptsNav,this)}else{C=F.walkCells(A.row+1,A.col,1,this.acceptsNav,this)}}}else{if(G==E.ESC){A.cancelEdit()}}}if(C){F.startEditing(C[0],C[1])}}});Ext.grid.CellSelectionModel=function(A){Ext.apply(this,A);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this)};Ext.extend(Ext.grid.CellSelectionModel,Ext.grid.AbstractSelectionModel,{initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.getGridEl().on(Ext.isIE||Ext.isSafari3?"keydown":"keypress",this.handleKeyDown,this);var A=this.grid.view;A.on("refresh",this.onViewChange,this);A.on("rowupdated",this.onRowUpdated,this);A.on("beforerowremoved",this.clearSelections,this);A.on("beforerowsinserted",this.clearSelections,this);if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this)}},beforeEdit:function(A){this.select(A.row,A.column,false,true,A.record)},onRowUpdated:function(B,A,C){if(this.selection&&this.selection.record==C){B.onCellSelect(A,this.selection.cell[1])}},onViewChange:function(){this.clearSelections(true)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(A){var B=this.selection;if(B){if(A!==true){this.grid.view.onCellDeselect(B.cell[0],B.cell[1])}this.selection=null;this.fireEvent("selectionchange",this,null)}},hasSelection:function(){return this.selection?true:false},handleMouseDown:function(A,C,B,D){if(D.button!==0||this.isLocked()){return }this.select(C,B)},select:function(C,F,A,D,E){if(this.fireEvent("beforecellselect",this,C,F)!==false){this.clearSelections();E=E||this.grid.store.getAt(C);this.selection={record:E,cell:[C,F]};if(!A){var B=this.grid.getView();B.onCellSelect(C,F);if(D!==true){B.focusCell(C,F)}}this.fireEvent("cellselect",this,C,F);this.fireEvent("selectionchange",this,this.selection)}},isSelectable:function(C,A,B){return !B.isHidden(A)},handleKeyDown:function(E){if(!E.isNavKeyPress()){return }var F=this.grid,A=this.selection;if(!A){E.stopEvent();var B=F.walkCells(0,0,1,this.isSelectable,this);if(B){this.select(B[0],B[1])}return }var I=this;var C=function(K,M,L){return F.walkCells(K,M,L,I.isSelectable,I)};var H=E.getKey(),J=A.cell[0],D=A.cell[1];var G;switch(H){case E.TAB:if(E.shiftKey){G=C(J,D-1,-1)}else{G=C(J,D+1,1)}break;case E.DOWN:G=C(J+1,D,1);break;case E.UP:G=C(J-1,D,-1);break;case E.RIGHT:G=C(J,D+1,1);break;case E.LEFT:G=C(J,D-1,-1);break;case E.ENTER:if(F.isEditor&&!F.editing){F.startEditing(J,D);E.stopEvent();return }break}if(G){this.select(G[0],G[1]);E.stopEvent()}},acceptsNav:function(C,A,B){return !B.isHidden(A)&&B.isCellEditable(A,C)},onEditorKey:function(D,E){var A=E.getKey(),C,F=this.grid,B=F.activeEditor;if(A==E.TAB){if(E.shiftKey){C=F.walkCells(B.row,B.col-1,-1,this.acceptsNav,this)}else{C=F.walkCells(B.row,B.col+1,1,this.acceptsNav,this)}E.stopEvent()}else{if(A==E.ENTER){B.completeEdit();E.stopEvent()}else{if(A==E.ESC){E.stopEvent();B.cancelEdit()}}}if(C){F.startEditing(C[0],C[1])}}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel()}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit")},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.on("bodyscroll",this.stopEditing,this,[true]);this.on("columnresize",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this)}else{if(this.clicksToEdit=="auto"&&this.view.mainBody){this.view.mainBody.on("mousedown",this.onAutoEditClick,this)}this.on("celldblclick",this.onCellDblClick,this)}},onCellDblClick:function(A,C,B){this.startEditing(C,B)},onAutoEditClick:function(E,A){if(E.button!==0){return }var C=this.view.findRowIndex(A);var B=this.view.findCellIndex(A);if(C!==false&&B!==false){this.stopEditing();if(this.selModel.getSelectedCell){var D=this.selModel.getSelectedCell();if(D&&D.cell[0]===C&&D.cell[1]===B){this.startEditing(C,B)}}else{if(this.selModel.isSelected(C)){this.startEditing(C,B)}}}},onEditComplete:function(A,E,B){this.editing=false;this.activeEditor=null;A.un("specialkey",this.selModel.onEditorKey,this.selModel);var F=A.record;var C=this.colModel.getDataIndex(A.col);E=this.postEditValue(E,B,F,C);if(String(E)!==String(B)){var D={grid:this,record:F,field:C,originalValue:B,value:E,row:A.row,column:A.col,cancel:false};if(this.fireEvent("validateedit",D)!==false&&!D.cancel){F.set(C,D.value);delete D.cancel;this.fireEvent("afteredit",D)}}this.view.focusCell(A.row,A.col)},startEditing:function(C,A){this.stopEditing();if(this.colModel.isCellEditable(A,C)){this.view.ensureVisible(C,A,true);var F=this.store.getAt(C);var D=this.colModel.getDataIndex(A);var E={grid:this,record:F,field:D,value:F.data[D],row:C,column:A,cancel:false};if(this.fireEvent("beforeedit",E)!==false&&!E.cancel){this.editing=true;var B=this.colModel.getCellEditor(A,C);if(!B.rendered){B.render(this.view.getEditorParent(B))}(function(){B.row=C;B.col=A;B.record=F;B.on("complete",this.onEditComplete,this,{single:true});B.on("specialkey",this.selModel.onEditorKey,this.selModel);this.activeEditor=B;var G=this.preEditValue(F,D);B.startEdit(this.view.getCell(C,A).firstChild,G===undefined?"":G)}).defer(50,this)}}},preEditValue:function(B,C){var A=B.data[C];return this.autoEncode&&typeof A=="string"?Ext.util.Format.htmlDecode(A):A},postEditValue:function(D,B,A,C){return this.autoEncode&&typeof D=="string"?Ext.util.Format.htmlEncode(D):D},stopEditing:function(A){if(this.activeEditor){this.activeEditor[A===true?"cancelEdit":"completeEdit"]()}this.activeEditor=null},onDestroy:function(){if(this.rendered){var D=this.colModel.config;for(var A=0,B=D.length;A<B;A++){var C=D[A];Ext.destroy(C.editor)}}Ext.grid.EditorGridPanel.superclass.onDestroy.call(this)}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(A,B){Ext.grid.GridEditor.superclass.constructor.call(this,A,B);A.monitorTab=false};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=function(B,A){this.grid=B;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(A){this.setSource(A)}Ext.grid.PropertyStore.superclass.constructor.call(this)};Ext.extend(Ext.grid.PropertyStore,Ext.util.Observable,{setSource:function(C){this.source=C;this.store.removeAll();var A=[];for(var B in C){if(this.isEditableValue(C[B])){A.push(new Ext.grid.PropertyRecord({name:B,value:C[B]},B))}}this.store.loadRecords({records:A},{},true)},onUpdate:function(C,B,D){if(D==Ext.data.Record.EDIT){var A=B.data.value;var E=B.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,B.id,A,E)!==false){this.source[B.id]=A;B.commit();this.grid.fireEvent("propertychange",this.source,B.id,A,E)}else{B.reject()}}},getProperty:function(A){return this.store.getAt(A)},isEditableValue:function(A){if(Ext.isDate(A)){return true}else{if(typeof A=="object"||typeof A=="function"){return false}}return true},setValue:function(A,B){this.source[A]=B;this.store.getById(A).set("value",B)},getSource:function(){return this.source}});Ext.grid.PropertyColumnModel=function(E,A){this.grid=E;var D=Ext.grid;D.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);this.store=A;this.bselect=Ext.DomHelper.append(document.body,{tag:"select",cls:"x-grid-editor x-hide-display",children:[{tag:"option",value:"true",html:"true"},{tag:"option",value:"false",html:"false"}]});var C=Ext.form;var B=new C.Field({el:this.bselect,bselect:this.bselect,autoShow:true,getValue:function(){return this.bselect.value=="true"}});this.editors={date:new D.GridEditor(new C.DateField({selectOnFocus:true})),string:new D.GridEditor(new C.TextField({selectOnFocus:true})),number:new D.GridEditor(new C.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new D.GridEditor(B)};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this)};Ext.extend(Ext.grid.PropertyColumnModel,Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",renderDate:function(A){return A.dateFormat(this.dateFormat)},renderBool:function(A){return A?"true":"false"},isCellEditable:function(B,A){return B==1},getRenderer:function(A){return A==1?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(A){return this.getPropertyName(A)},renderCell:function(B){var A=B;if(Ext.isDate(B)){A=this.renderDate(B)}else{if(typeof B=="boolean"){A=this.renderBool(B)}}return Ext.util.Format.htmlEncode(A)},getPropertyName:function(A){var B=this.grid.propertyNames;return B&&B[A]?B[A]:A},getCellEditor:function(B,C){var A=this.store.getProperty(C);var D=A.data.name,E=A.data.value;if(this.grid.customEditors[D]){return this.grid.customEditors[D]}if(Ext.isDate(E)){return this.editors.date}else{if(typeof E=="number"){return this.editors.number}else{if(typeof E=="boolean"){return this.editors["boolean"]}else{return this.editors.string}}}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customEditors=this.customEditors||{};this.lastEditRow=null;var A=new Ext.grid.PropertyStore(this);this.propStore=A;var B=new Ext.grid.PropertyColumnModel(this,A);A.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=B;this.ds=A.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.selModel.on("beforecellselect",function(C,D,E){if(E===0){this.startEditing.defer(200,this,[D,1]);return false}},this)},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid")},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);if(this.source){this.setSource(this.source)}},setSource:function(A){this.propStore.setSource(A)},getSource:function(){return this.propStore.getSource()}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);Ext.grid.RowNumberer=function(A){Ext.apply(this,A);if(this.rowspan){this.renderer=this.renderer.createDelegate(this)}};Ext.grid.RowNumberer.prototype={header:"",width:23,sortable:false,fixed:true,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(A,D,B,C){if(this.rowspan){D.cellAttr='rowspan="'+this.rowspan+'"'}return C+1}};Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,dataIndex:"",id:"checker",initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var A=this.grid.getView();A.mainBody.on("mousedown",this.onMouseDown,this);Ext.fly(A.innerHd).on("mousedown",this.onHdMouseDown,this)},this)},onMouseDown:function(D,A){if(D.button===0&&A.className=="x-grid3-row-checker"){D.stopEvent();var C=D.getTarget(".x-grid3-row");if(C){var B=C.rowIndex;if(this.isSelected(B)){this.deselectRow(B)}else{this.selectRow(B,true)}}}},onHdMouseDown:function(D,B){if(B.className=="x-grid3-hd-checker"){D.stopEvent();var A=Ext.fly(B.parentNode);var C=A.hasClass("x-grid3-hd-checker-on");if(C){A.removeClass("x-grid3-hd-checker-on");this.clearSelections()}else{A.addClass("x-grid3-hd-checker-on");this.selectAll()}}},renderer:function(A,C,B){return'<div class="x-grid3-row-checker">&#160;</div>'}});Ext.LoadMask=function(C,A){this.el=Ext.get(C);Ext.apply(this,A);if(this.store){this.store.on("beforeload",this.onBeforeLoad,this);this.store.on("load",this.onLoad,this);this.store.on("loadexception",this.onLoad,this);this.removeMask=Ext.value(this.removeMask,false)}else{var B=this.el.getUpdater();B.showLoadIndicator=false;B.on("beforeupdate",this.onBeforeLoad,this);B.on("update",this.onLoad,this);B.on("failure",this.onLoad,this);this.removeMask=Ext.value(this.removeMask,true)}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true},enable:function(){this.disabled=false},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("loadexception",this.onLoad,this)}else{var A=this.el.getUpdater();A.un("beforeupdate",this.onBeforeLoad,this);A.un("update",this.onLoad,this);A.un("failure",this.onLoad,this)}}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:false,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update")},onRender:function(D,B){Ext.ProgressBar.superclass.onRender.call(this,D,B);var E=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");if(B){this.el=E.insertBefore(B,{cls:this.baseCls},true)}else{this.el=E.append(D,{cls:this.baseCls},true)}if(this.id){this.el.dom.id=this.id}var A=this.el.dom.firstChild;this.progressBar=Ext.get(A.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var C=Ext.get(A.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,C.dom.firstChild]);this.textEl.setWidth(A.offsetWidth)}this.progressBar.setHeight(A.offsetHeight)},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text)}else{this.updateText(this.text)}},updateProgress:function(D,C,A){this.value=D||0;if(C){this.updateText(C)}if(this.rendered){var B=Math.floor(D*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(B,A===true||(A!==false&&this.animate));if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(B)}}this.fireEvent("update",this,D,C);return this},wait:function(A){if(!this.waitTimer){var B=this;A=A||{};this.updateText(A.text);this.waitTimer=Ext.TaskMgr.start({run:function(D){var C=A.increment||10;this.updateProgress(((((D+C)%C)+1)*(100/C))*0.01,null,A.animate)},interval:A.interval||1000,duration:A.duration,onStop:function(){if(A.fn){A.fn.apply(A.scope||this)}this.reset()},scope:B})}return this},isWaiting:function(){return this.waitTimer!=null},updateText:function(A){this.text=A||"&#160;";if(this.rendered){this.textEl.update(this.text)}return this},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text)}return this},setSize:function(B,C){Ext.ProgressBar.superclass.setSize.call(this,B,C);if(this.textTopEl){var A=this.el.dom.firstChild;this.textEl.setSize(A.offsetWidth,A.offsetHeight)}this.syncProgressBar();return this},reset:function(A){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden")}if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null}if(A===true){this.hide()}return this}});Ext.reg("progress",Ext.ProgressBar);Ext.Slider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,initComponent:function(){if(this.value===undefined){this.value=this.minValue}Ext.Slider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.vertical){Ext.apply(this,Ext.Slider.Vertical)}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{cls:"x-slider-thumb"},{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.Slider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.thumb=this.innerEl.first();this.halfThumb=(this.vertical?this.thumb.getHeight():this.thumb.getWidth())/2;this.focusEl=this.thumb.next();this.initEvents()},initEvents:function(){this.thumb.addClassOnOver("x-slider-thumb-over");this.mon(this.el,"mousedown",this.onMouseDown,this);this.mon(this.el,"keydown",this.onKeyDown,this);this.focusEl.swallowEvent("click",true);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(this.thumb);this.on("beforedestroy",this.tracker.destroy,this.tracker)},onMouseDown:function(A){if(this.disabled){return }if(this.clickToChange&&A.target!=this.thumb.dom){var B=this.innerEl.translatePoints(A.getXY());this.onClickChange(B)}this.focus()},onClickChange:function(A){if(A.top>this.clickRange[0]&&A.top<this.clickRange[1]){this.setValue(Math.round(this.reverseValue(A.left)),undefined,true)}},onKeyDown:function(A){if(this.disabled){A.preventDefault();return }var B=A.getKey();switch(B){case A.UP:case A.RIGHT:A.stopEvent();if(A.ctrlKey){this.setValue(this.maxValue,undefined,true)}else{this.setValue(this.value+this.keyIncrement,undefined,true)}break;case A.DOWN:case A.LEFT:A.stopEvent();if(A.ctrlKey){this.setValue(this.minValue,undefined,true)}else{this.setValue(this.value-this.keyIncrement,undefined,true)}break;default:A.preventDefault()}},doSnap:function(A){if(!this.increment||this.increment==1||!A){return A}var C=A,D=this.increment;var B=A%D;if(B>0){if(B>(D/2)){C=A+(D-B)}else{C=A-B}}return C.constrain(this.minValue,this.maxValue)},afterRender:function(){Ext.Slider.superclass.afterRender.apply(this,arguments);if(this.value!==undefined){var A=this.normalizeValue(this.value);if(A!==this.value){delete this.value;this.setValue(A,false)}else{this.moveThumb(this.translateValue(A),false)}}},getRatio:function(){var B=this.innerEl.getWidth();var A=this.maxValue-this.minValue;return A==0?B:(B/A)},normalizeValue:function(A){if(typeof A!="number"){A=parseInt(A)}A=Math.round(A);A=this.doSnap(A);A=A.constrain(this.minValue,this.maxValue);return A},setValue:function(A,B,C){A=this.normalizeValue(A);if(A!==this.value&&this.fireEvent("beforechange",this,A,this.value)!==false){this.value=A;this.moveThumb(this.translateValue(A),B!==false);this.fireEvent("change",this,A);if(C){this.fireEvent("changecomplete",this,A)}}},translateValue:function(B){var A=this.getRatio();return(B*A)-(this.minValue*A)-this.halfThumb},reverseValue:function(A){var B=this.getRatio();return(A+this.halfThumb+(this.minValue*B))/B},moveThumb:function(A,B){if(!B||this.animate===false){this.thumb.setLeft(A)}else{this.thumb.shift({left:A,stopFx:true,duration:0.35})}},focus:function(){this.focusEl.focus(10)},onBeforeDragStart:function(A){return !this.disabled},onDragStart:function(A){this.thumb.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.fireEvent("dragstart",this,A)},onDrag:function(B){var A=this.innerEl.translatePoints(this.tracker.getXY());this.setValue(Math.round(this.reverseValue(A.left)),false);this.fireEvent("drag",this,B)},onDragEnd:function(A){this.thumb.removeClass("x-slider-thumb-drag");this.dragging=false;this.fireEvent("dragend",this,A);if(this.dragStartValue!=this.value){this.fireEvent("changecomplete",this,this.value)}},onDisable:function(){Ext.Slider.superclass.onDisable.call(this);this.thumb.addClass(this.disabledClass);if(Ext.isIE){var A=this.thumb.getXY();this.thumb.hide();this.innerEl.addClass(this.disabledClass).dom.disabled=true;if(!this.thumbHolder){this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass})}this.thumbHolder.show().setXY(A)}},onEnable:function(){Ext.Slider.superclass.onEnable.call(this);this.thumb.removeClass(this.disabledClass);if(Ext.isIE){this.innerEl.removeClass(this.disabledClass).dom.disabled=false;if(this.thumbHolder){this.thumbHolder.hide()}this.thumb.show();this.syncThumb()}},onResize:function(B,A){this.innerEl.setWidth(B-(this.el.getPadding("l")+this.endEl.getPadding("r")));this.syncThumb()},syncThumb:function(){if(this.rendered){this.moveThumb(this.translateValue(this.value))}},getValue:function(){return this.value}});Ext.reg("slider",Ext.Slider);Ext.Slider.Vertical={onResize:function(B,A){this.innerEl.setHeight(A-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb()},getRatio:function(){var A=this.innerEl.getHeight();var B=this.maxValue-this.minValue;return A/B},moveThumb:function(A,B){if(!B||this.animate===false){this.thumb.setBottom(A)}else{this.thumb.shift({bottom:A,stopFx:true,duration:0.35})}},onDrag:function(A){var C=this.innerEl.translatePoints(this.tracker.getXY());var B=this.innerEl.getHeight()-C.top;this.setValue(this.minValue+Math.round(B/this.getRatio()),false);this.fireEvent("drag",this,A)},onClickChange:function(A){if(A.left>this.clickRange[0]&&A.left<this.clickRange[1]){var B=this.innerEl.getHeight()-A.top;this.setValue(this.minValue+Math.round(B/this.getRatio()),undefined,true)}}};Ext.StatusBar=Ext.extend(Ext.Toolbar,{cls:"x-statusbar",busyIconCls:"x-status-busy",busyText:"Loading...",autoClear:5000,activeThreadId:0,initComponent:function(){if(this.statusAlign=="right"){this.cls+=" x-status-right"}Ext.StatusBar.superclass.initComponent.call(this)},afterRender:function(){Ext.StatusBar.superclass.afterRender.call(this);var B=this.statusAlign=="right",A=Ext.get(this.nextBlock());if(B){this.tr.appendChild(A.dom)}else{A.insertBefore(this.tr.firstChild)}this.statusEl=A.createChild({cls:"x-status-text "+(this.iconCls||this.defaultIconCls||""),html:this.text||this.defaultText||""});this.statusEl.unselectable();this.spacerEl=A.insertSibling({tag:"td",style:"width:100%",cn:[{cls:"ytb-spacer"}]},B?"before":"after")},setStatus:function(D){D=D||{};if(typeof D=="string"){D={text:D}}if(D.text!==undefined){this.setText(D.text)}if(D.iconCls!==undefined){this.setIcon(D.iconCls)}if(D.clear){var C=D.clear,A=this.autoClear,B={useDefaults:true,anim:true};if(typeof C=="object"){C=Ext.applyIf(C,B);if(C.wait){A=C.wait}}else{if(typeof C=="number"){A=C;C=B}else{if(typeof C=="boolean"){C=B}}}C.threadId=this.activeThreadId;this.clearStatus.defer(A,this,[C])}return this},clearStatus:function(C){C=C||{};if(C.threadId&&C.threadId!==this.activeThreadId){return this}var A=C.useDefaults?this.defaultText:"",B=C.useDefaults?(this.defaultIconCls?this.defaultIconCls:""):"";if(C.anim){this.statusEl.fadeOut({remove:false,useDisplay:true,scope:this,callback:function(){this.setStatus({text:A,iconCls:B});this.statusEl.show()}})}else{this.statusEl.hide();this.setStatus({text:A,iconCls:B});this.statusEl.show()}return this},setText:function(A){this.activeThreadId++;this.text=A||"";if(this.rendered){this.statusEl.update(this.text)}return this},getText:function(){return this.text},setIcon:function(A){this.activeThreadId++;A=A||"";if(this.rendered){if(this.currIconCls){this.statusEl.removeClass(this.currIconCls);this.currIconCls=null}if(A.length>0){this.statusEl.addClass(A);this.currIconCls=A}}else{this.currIconCls=A}return this},showBusy:function(A){if(typeof A=="string"){A={text:A}}A=Ext.applyIf(A||{},{text:this.busyText,iconCls:this.busyIconCls});return this.setStatus(A)}});Ext.reg("statusbar",Ext.StatusBar);Ext.History=(function(){var F,H;var A=false;var G;function E(){var K=top.location.href,L=K.indexOf("#");return L>=0?K.substr(L+1):null}function J(){H.value=G}function D(K){G=K;Ext.History.fireEvent("change",K)}function C(N){var K=['<html><body><div id="state">',N,"</div></body></html>"].join("");try{var L=F.contentWindow.document;L.open();L.write(K);L.close();return true}catch(M){return false}}function I(){if(!F.contentWindow||!F.contentWindow.document){setTimeout(I,10);return }var L=F.contentWindow.document;var N=L.getElementById("state");var K=N?N.innerText:null;var M=E();setInterval(function(){L=F.contentWindow.document;N=L.getElementById("state");var O=N?N.innerText:null;var P=E();if(O!==K){K=O;D(K);top.location.hash=K;M=K;J()}else{if(P!==M){M=P;C(P)}}},50);A=true;Ext.History.fireEvent("ready",Ext.History)}function B(){G=H.value?H.value:E();if(Ext.isIE){I()}else{var K=E();setInterval(function(){var L=E();if(L!==K){K=L;D(K);J()}},50);A=true;Ext.History.fireEvent("ready",Ext.History)}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(L,K){if(A){Ext.callback(L,K,[this]);return }if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(L,K)});return }H=Ext.getDom(Ext.History.fieldId);if(Ext.isIE){F=Ext.getDom(Ext.History.iframeId)}this.addEvents("ready","change");if(L){this.on("ready",L,K,{single:true})}B()},add:function(K,L){if(L!==false){if(this.getToken()==K){return true}}if(Ext.isIE){return C(K)}else{top.location.hash=K;return true}},back:function(){history.go(-1)},forward:function(){history.go(1)},getToken:function(){return A?G:E()}}})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.lib.Ajax._queue=[];Ext.lib.Ajax._activeRequests=0;Ext.lib.Ajax.abort=function(D,E,B){if(this.isCallInProgress(D)){D.conn.abort();window.clearInterval(this.poll[D.tId]);delete this.poll[D.tId];if(B){delete this.timeout[D.tId]}this.handleTransactionResponse(D,E,true);return true}else{for(var C=0,A=this._queue.length;C<A;C++){if(this._queue[C].o.tId==D.tId){this._queue.splice(C,1);break}}return false}};Ext.lib.Ajax.asyncRequest=function(E,B,D,A){var C=this.getConnectionObject();if(!C){return null}else{this._queue.push({o:C,method:E,uri:B,callback:D,postData:A});this._processQueue();return C}};Ext.lib.Ajax._processQueue=function(){var A=this._queue[0];if(A&&this._activeRequests<2){A=this._queue.shift();this._asyncRequest(A.o,A.method,A.uri,A.callback,A.postData)}};Ext.lib.Ajax._asyncRequest=function(C,E,B,D,A){this._activeRequests++;C.conn.open(E,B,true);if(this.useDefaultXhrHeader){if(!this.defaultHeaders["X-Requested-With"]){this.initHeader("X-Requested-With",this.defaultXhrHeader,true)}}if(A&&this.useDefaultHeader){this.initHeader("Content-Type",this.defaultPostHeader)}if(this.hasDefaultHeaders||this.hasHeaders){this.setHeader(C)}this.handleReadyState(C,D);C.conn.send(A||null)};Ext.lib.Ajax.releaseObject=function(A){A.conn=null;A=null;this._activeRequests--;this._processQueue()};(function(A){A.fn.bgIframe=A.fn.bgiframe=function(C){if(A.browser.msie&&parseInt(A.browser.version)<=6){C=A.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},C||{});var D=function(E){return E&&E.constructor==Number?E+"px":E},B='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+C.src+'"style="display:block;position:absolute;z-index:-1;'+(C.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(C.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":D(C.top))+";left:"+(C.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":D(C.left))+";width:"+(C.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":D(C.width))+";height:"+(C.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":D(C.height))+';"/>';return this.each(function(){if(A("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(B),this.firstChild)}})}return this};if(!A.browser.version){A.browser.version=navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)[1]}})(jQuery);(function(A){A.fn.hoverIntent=function(I,H){var J={sensitivity:7,interval:100,timeout:0};J=A.extend(J,H?{over:I,out:H}:I);var L,K,F,D;var E=function(M){L=M.pageX;K=M.pageY};var C=function(N,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);if((Math.abs(F-L)+Math.abs(D-K))<J.sensitivity){A(M).unbind("mousemove",E);M.hoverIntent_s=1;return J.over.apply(M,[N])}else{F=L;D=K;M.hoverIntent_t=setTimeout(function(){C(N,M)},J.interval)}};var G=function(N,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);M.hoverIntent_s=0;return J.out.apply(M,[N])};var B=function(P){var O=(P.type=="mouseover"?P.fromElement:P.toElement)||P.relatedTarget;while(O&&O!=this){try{O=O.parentNode}catch(P){O=this}}if(O==this){return false}var N=jQuery.extend({},P);var M=this;if(M.hoverIntent_t){M.hoverIntent_t=clearTimeout(M.hoverIntent_t)}if(P.type=="mouseover"){F=N.pageX;D=N.pageY;A(M).bind("mousemove",E);if(M.hoverIntent_s!=1){M.hoverIntent_t=setTimeout(function(){C(N,M)},J.interval)}}else{A(M).unbind("mousemove",E);if(M.hoverIntent_s==1){M.hoverIntent_t=setTimeout(function(){G(N,M)},J.timeout)}}};return this.mouseover(B).mouseout(B)}})(jQuery);(function(E){var I,H,G,D,F,J,C;E.fn.cluetip=function(L,K){if(typeof L=="object"){K=L;L=null}return this.each(function(l){var U=E(this);var g=E.extend(false,{},E.fn.cluetip.defaults,K||{},E.metadata?U.metadata():E.meta?U.data():{});var O=false;var Y=parseInt(g.cluezIndex,10)-1;var t=false,s=0;if(!E("#cluetip").length){H=E('<div id="cluetip-inner"></div>');D=E('<h3 id="cluetip-title"></h3>');G=E('<div id="cluetip-outer"></div>').append(H).prepend(D);I=E('<div id="cluetip"></div>').css({zIndex:g.cluezIndex}).append(G).append('<div id="cluetip-extra"></div>')[B](A).hide();E('<div id="cluetip-waitimage"></div>').css({position:"absolute",zIndex:Y-1}).insertBefore("#cluetip").hide();I.css({position:"absolute",zIndex:Y});G.css({position:"relative",zIndex:Y+1});F=E('<div id="cluetip-arrows" class="cluetip-arrows"></div>').css({zIndex:Y+1}).appendTo("#cluetip")}var k=(g.dropShadow)?+g.dropShadowSteps:0;if(!J){J=E([]);for(var w=0;w<k;w++){J=J.add(E("<div></div>").css({zIndex:Y-w-1,opacity:0.1,top:1+w,left:1+w}))}J.css({position:"absolute",backgroundColor:"#000"}).prependTo(I)}var d=U.attr(g.attribute),R=g.cluetipClass;if(!d&&!g.splitTitle&&!L){return true}if(g.local&&g.hideLocal){E(d+":first").hide()}var e=parseInt(g.topOffset,10),a=parseInt(g.leftOffset,10);var Z,u;var W=isNaN(parseInt(g.height,10))?"auto":(/\D/g).test(g.height)?g.height:g.height+"px";var M,S,m,z,o,v;var X=isNaN(parseInt(g.width,10))?275:parseInt(g.width,10);var x=X+(parseInt(I.css("paddingLeft"))||0)+(parseInt(I.css("paddingRight"))||0)+k;var b=this.offsetWidth;var T,n,AA,p,N;var r;var h=(g.attribute!="title")?U.attr(g.titleAttribute):"";if(g.splitTitle){if(h==undefined){h=""}r=h.split(g.splitTitle);h=r.shift()}var Q;var V=function(AF){if(!g.onActivate(U)){return false}t=true;I.removeClass().css({width:X});if(d==U.attr("href")){U.css("cursor",g.cursor)}U.attr("title","");if(g.hoverClass){U.addClass(g.hoverClass)}S=m=U.offset().top;T=U.offset().left;p=AF.pageX;o=AF.pageY;if(U[0].tagName.toLowerCase()!="area"){M=E(document).scrollTop();N=E(window).width()}if(g.positionBy=="fixed"){n=b+T+a;I.css({left:n})}else{n=(b>T&&T>x)||T+b+x+a>N?T-x-a:b+T+a;if(U[0].tagName.toLowerCase()=="area"||g.positionBy=="mouse"||b+x>N){if(p+20+x>N){I.addClass(" cluetip-"+R);n=(p-x-a)>=0?p-x-a-parseInt(I.css("marginLeft"),10)+parseInt(H.css("marginRight"),10):p-(x/2)}else{n=p+a}}var AC=n<0?AF.pageY+e:AF.pageY;I.css({left:(n>0&&g.positionBy!="bottomTop")?n:(p+(x/2)>N)?N/2-x/2:Math.max(p-(x/2),0)})}u=E(window).height();if(L){H.html(L);q(AC)}else{if(r){var AD=r.length;for(var AE=0;AE<AD;AE++){if(AE==0){H.html(r[AE])}else{H.append('<div class="split-body">'+r[AE]+"</div>")}}q(AC)}else{if(!g.local&&d.indexOf("#")!=0){if(O&&g.ajaxCache){H.html(O);q(AC)}else{var AG=g.ajaxSettings;AG.url=d;AG.beforeSend=function(){G.children().empty();if(g.waitImage){E("#cluetip-waitimage").css({top:o+20,left:p+20}).show()}};AG.error=function(){if(t){H.html("<i>sorry, the contents could not be loaded</i>")}};AG.success=function(i){O=g.ajaxProcess(i);if(t){H.html(O)}};AG.complete=function(){C=E("#cluetip-inner img").length;if(C&&!E.browser.opera){E("#cluetip-inner img").load(function(){C--;if(C<1){E("#cluetip-waitimage").hide();if(t){q(AC)}}})}else{E("#cluetip-waitimage").hide();if(t){q(AC)}}};E.ajax(AG)}}else{if(g.local){var AH=E(d+":first");var AB=E.fn.wrapInner?AH.wrapInner("<div></div>").children().clone(true):AH.html();E.fn.wrapInner?H.empty().append(AB):H.html(AB);q(AC)}}}}};var q=function(AC){I.addClass("cluetip-"+R);if(g.truncate){var AD=H.text().slice(0,g.truncate)+"...";H.html(AD)}function i(){}h?D.show().html(h):(g.showTitle)?D.show().html("&nbsp;"):D.hide();if(g.sticky){var AB=E('<div id="cluetip-close"><a href="#">'+g.closeText+"</a></div>");(g.closePosition=="bottom")?AB.appendTo(H):(g.closePosition=="title")?AB.prependTo(D):AB.prependTo(H);AB.click(function(){c();return false});if(g.mouseOutClose){if(E.fn.hoverIntent&&g.hoverIntent){I.hoverIntent({over:i,timeout:g.hoverIntent.timeout,out:function(){AB.trigger("click")}})}else{I.hover(i,function(){AB.trigger("click")})}}else{I.unbind("mouseout")}}var AE="";G.css({overflow:W=="auto"?"visible":"auto",height:W});Z=W=="auto"?Math.max(I.outerHeight(),I.height()):parseInt(W,10);z=m;v=M+u;if(g.positionBy=="fixed"){z=m-g.dropShadowSteps+e}else{if((n<p&&Math.max(n,0)+x>p)||g.positionBy=="bottomTop"){if(m+Z+e>v&&o-M>Z+e){z=o-Z-e;AE="top"}else{z=o+e;AE="bottom"}}else{if(m+Z+e>v){z=(Z>=u)?M:v-Z-e}else{if(U.css("display")=="block"||U[0].tagName.toLowerCase()=="area"||g.positionBy=="mouse"){z=AC-e}else{z=m-g.dropShadowSteps}}}}if(AE==""){n<T?AE="left":AE="right"}I.css({top:z+"px"}).removeClass().addClass("clue-"+AE+"-"+R).addClass(" cluetip-"+R);if(g.arrows){var AF=(m-z-g.dropShadowSteps);F.css({top:(/(left|right)/.test(AE)&&n>=0&&AF>0)?AF+"px":/(left|right)/.test(AE)?0:""}).show()}else{F.hide()}J.hide();I.hide()[g.fx.open](g.fx.open!="show"&&g.fx.openSpeed);if(g.dropShadow){J.css({height:Z,width:X}).show()}if(E.fn.bgiframe){I.bgiframe()}if(g.delayedClose>0){s=setTimeout(c,g.delayedClose)}g.onShow(I,H)};var y=function(){t=false;E("#cluetip-waitimage").hide();if(!g.sticky||(/click|toggle/).test(g.activation)){c();clearTimeout(s)}if(g.hoverClass){U.removeClass(g.hoverClass)}E(".cluetip-clicked").removeClass("cluetip-clicked")};var c=function(){G.parent().hide().removeClass().end().children().empty();if(h){U.attr(g.titleAttribute,h)}U.css("cursor","");if(g.arrows){F.css({top:""})}};if((/click|toggle/).test(g.activation)){U.click(function(i){if(I.is(":hidden")||!U.is(".cluetip-clicked")){V(i);E(".cluetip-clicked").removeClass("cluetip-clicked");U.addClass("cluetip-clicked")}else{y(i)}this.blur();return false})}else{if(g.activation=="focus"){U.focus(function(i){V(i)});U.blur(function(i){y(i)})}else{U.click(function(){if(U.attr("href")&&U.attr("href")==d&&!g.clickThrough){return false}});var P=function(i){if(g.tracking==true){var AC=n-i.pageX;var AB=z?z-i.pageY:m-i.pageY;U.mousemove(function(AD){I.css({left:AD.pageX+AC,top:AD.pageY+AB})})}};if(E.fn.hoverIntent&&g.hoverIntent){U.mouseover(function(){U.attr("title","")}).hoverIntent({sensitivity:g.hoverIntent.sensitivity,interval:g.hoverIntent.interval,over:function(i){V(i);P(i)},timeout:g.hoverIntent.timeout,out:function(i){y(i);U.unbind("mousemove")}})}else{U.hover(function(i){V(i);P(i)},function(i){y(i);U.unbind("mousemove")})}}}})};E.fn.cluetip.defaults={width:275,height:"auto",cluezIndex:97,positionBy:"auto",topOffset:15,leftOffset:15,local:false,hideLocal:true,attribute:"rel",titleAttribute:"title",splitTitle:"",showTitle:true,cluetipClass:"default",hoverClass:"",waitImage:true,cursor:"help",arrows:false,dropShadow:true,dropShadowSteps:6,sticky:false,mouseOutClose:false,activation:"hover",clickThrough:false,tracking:false,delayedClose:0,closePosition:"top",closeText:"Close",truncate:0,fx:{open:"show",openSpeed:""},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(K){return true},onShow:function(K,L){},ajaxCache:true,ajaxProcess:function(K){K=K.replace(/<s(cript|tyle)(.|\s)*?\/s(cript|tyle)>/g,"").replace(/<(link|title)(.|\s)*?\/(link|title)>/g,"");return K},ajaxSettings:{dataType:"html"},debug:false};var B="appendTo",A="body";E.cluetip={};E.cluetip.setup=function(K){if(K&&K.insertionType&&(K.insertionType).match(/appendTo|prependTo|insertBefore|insertAfter/)){B=K.insertionType}if(K&&K.insertionElement){A=K.insertionElement}}})(jQuery);(function(A){A.fn.addOption=function(){var H=function(N,J,L,O){var M=document.createElement("option");M.value=J,M.text=L;var P=N.options;var I=P.length;if(!N.cache){N.cache={};for(var K=0;K<I;K++){N.cache[P[K].value]=K}}if(typeof N.cache[J]=="undefined"){N.cache[J]=I}N.options[N.cache[J]]=M;if(O){M.selected=true}};var C=arguments;if(C.length==0){return this}var G=true;var B=false;var E,D,F;if(typeof (C[0])=="object"){B=true;E=C[0]}if(C.length>=2){if(typeof (C[1])=="boolean"){G=C[1]}else{if(typeof (C[2])=="boolean"){G=C[2]}}if(!B){D=C[0];F=C[1]}}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return }if(B){for(var I in E){H(this,I,E[I],G)}}else{H(this,D,F,G)}});return this};A.fn.ajaxAddOption=function(D,F,B,E,C){if(typeof (D)!="string"){return this}if(typeof (F)!="object"){F={}}if(typeof (B)!="boolean"){B=true}this.each(function(){var G=this;A.getJSON(D,F,function(H){A(G).addOption(H,B);if(typeof E=="function"){if(typeof C=="object"){E.apply(G,C)}else{E.call(G)}}})});return this};A.fn.removeOption=function(){var C=arguments;if(C.length==0){return this}var E=typeof (C[0]);var D,F;if(E=="string"||E=="object"||E=="function"){D=C[0];if(D.constructor==Array){var B=D.length;for(var G=0;G<B;G++){this.removeOption(D[G],C[1])}return this}}else{if(E=="number"){F=C[0]}else{return this}}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return }if(this.cache){this.cache=null}var H=false;var K=this.options;if(!!D){var I=K.length;for(var J=I-1;J>=0;J--){if(D.constructor==RegExp){if(K[J].value.match(D)){H=true}}else{if(K[J].value==D){H=true}}if(H&&C[1]===true){H=K[J].selected}if(H){K[J]=null}H=false}}else{if(C[1]===true){H=K[F].selected}else{H=true}if(H){this.remove(F)}}});return this};A.fn.sortOptions=function(C){var B=typeof (C)=="undefined"?true:!!C;this.each(function(){if(this.nodeName.toLowerCase()!="select"){return }var F=this.options;var D=F.length;var G=[];for(var E=0;E<D;E++){G[E]={v:F[E].value,t:F[E].text}}G.sort(function(I,H){o1t=I.t.toLowerCase(),o2t=H.t.toLowerCase();if(o1t==o2t){return 0}if(B){return o1t<o2t?-1:1}else{return o1t>o2t?-1:1}});for(var E=0;E<D;E++){F[E].text=G[E].t;F[E].value=G[E].v}});return this};A.fn.selectOptions=function(D,B){var C=D;var E=typeof (D);var F=B||false;if(E!="string"&&E!="function"&&E!="object"){return this}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}var I=this.options;var G=I.length;for(var H=0;H<G;H++){if(C.constructor==RegExp){if(I[H].value.match(C)){I[H].selected=true}else{if(F){I[H].selected=false}}}else{if(I[H].value==C){I[H].selected=true}else{if(F){I[H].selected=false}}}}});return this};A.fn.copyOptions=function(D,C){var B=C||"selected";if(A(D).size()==0){return this}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}var G=this.options;var E=G.length;for(var F=0;F<E;F++){if(B=="all"||(B=="selected"&&G[F].selected)){A(D).addOption(G[F].value,G[F].text)}}});return this};A.fn.containsOption=function(E,C){var D=false;var B=E;var F=typeof (B);var G=typeof (C);if(F!="string"&&F!="function"&&F!="object"){return G=="function"?this:D}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}if(D&&G!="function"){return false}var J=this.options;var H=J.length;for(var I=0;I<H;I++){if(B.constructor==RegExp){if(J[I].value.match(B)){D=true;if(G=="function"){C.call(J[I],I)}}}else{if(J[I].value==B){D=true;if(G=="function"){C.call(J[I],I)}}}}});return G=="function"?this:D};A.fn.selectedValues=function(){var B=[];this.find("option:selected").each(function(){B[B.length]=this.value});return B};A.fn.selectedOptions=function(){return this.find("option:selected")};A.fn.resetToFirstOption=function(){var B=this.get(0);if(B&&B.options){var C=A(B.options).get(0);if(C){A(C).attr("selected","selected")}}}})(jQuery);(function(E){E.fn.jqm=function(F){var A={overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:O,ajaxText:"",target:O,modal:O,toTop:O,onShow:O,onHide:O,onLoad:O};return this.each(function(){if(this._jqm){return N[this._jqm].c=E.extend({},N[this._jqm].c,F)}P++;this._jqm=P;N[P]={c:E.extend(A,E.jqm.params,F),a:O,w:E(this).addClass("jqmID"+P),s:P};if(A.trigger){E(this).jqmAddTrigger(A.trigger)}})};E.fn.jqmAddClose=function(A){return M(this,A,"jqmHide")};E.fn.jqmAddTrigger=function(A){return M(this,A,"jqmShow")};E.fn.jqmShow=function(A){return this.each(function(){E.jqm.open(this._jqm,A)})};E.fn.jqmHide=function(A){return this.each(function(){E.jqm.close(this._jqm,A)})};E.jqm={hash:{},open:function(V,U){var L=N[V],Q=L.c,H="."+Q.closeClass,R=(parseInt(L.w.css("z-index"))),R=(R>0)?R:20003,F=E("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":R-1,opacity:Q.overlay/100});if(L.a){return O}L.t=U;L.a=true;L.w.css("z-index",R);if(Q.modal){if(!B[0]){K("bind")}B.push(V)}else{if(Q.overlay>0){L.w.jqmAddClose(F)}else{F=O}}L.o=(F)?F.addClass(Q.overlayClass).prependTo("body"):O;if(D){E("html,body").css({height:"100%",width:"100%"});if(F){F=F.css({position:"absolute"})[0];for(var S in {Top:1,Left:1}){F.style.setExpression(S.toLowerCase(),"(_=(document.documentElement.scroll"+S+" || document.body.scroll"+S+"))+'px'")}}}if(Q.ajax){var A=Q.target||L.w,T=Q.ajax,A=(typeof A=="string")?E(A,L.w):E(A),T=(T.substr(0,1)=="@")?E(U).attr(T.substring(1)):T;A.html(Q.ajaxText).load(T,function(){if(Q.onLoad){Q.onLoad.call(this,L)}if(H){L.w.jqmAddClose(E(H,L.w))}J(L)})}else{if(H){L.w.jqmAddClose(E(H,L.w))}}if(Q.toTop&&L.o){L.w.before('<span id="jqmP'+L.w[0]._jqm+'"></span>').insertAfter(L.o)}(Q.onShow)?Q.onShow(L):L.w.show();J(L);return O},close:function(F){var A=N[F];if(!A.a){return O}A.a=O;if(B[0]){B.pop();if(!B[0]){K("unbind")}}if(A.c.toTop&&A.o){E("#jqmP"+A.w[0]._jqm).after(A.w).remove()}if(A.c.onHide){A.c.onHide(A)}else{A.w.hide();if(A.o){A.o.remove()}}return O},params:{}};var P=0,N=E.jqm.hash,B=[],D=E.browser.msie&&(E.browser.version=="6.0"),O=false,G=E('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),J=function(A){if(D){if(A.o){A.o.html('<p style="width:100%;height:100%"/>').prepend(G)}else{if(!E("iframe.jqm",A.w)[0]){A.w.prepend(G)}}}I(A)},I=function(F){try{E(":input:visible",F.w)[0].focus()}catch(A){}},K=function(A){E()[A]("keypress",C)[A]("keydown",C)[A]("mousedown",C)},C=function(H){var A=N[B[B.length-1]],F=(!E(H.target).parents(".jqmID"+A.s)[0]);if(F){I(A)}return !F},M=function(A,F,H){return A.each(function(){var L=this._jqm;E(F).each(function(){if(!this[H]){this[H]=[];E(this).click(function(){for(var Q in {jqmShow:1,jqmHide:1}){for(var R in this[Q]){if(N[this[Q][R]]){N[this[Q][R]].w[Q](this)}}}return O})}this[H].push(L)})})}})(jQuery);(function(F){F.fn.jqDrag=function(E){return B(this,E,"d")};F.fn.jqResize=function(E){return B(this,E,"r")};F.jqDnR={dnr:{},e:0,drag:function(E){if(G.k=="d"){D.css({left:G.X+E.pageX-G.pX,top:G.Y+E.pageY-G.pY})}else{D.css({width:Math.max(E.pageX-G.pX+G.W,0),height:Math.max(E.pageY-G.pY+G.H,0)})}return false},stop:function(){D.css("opacity",G.o);F().unbind("mousemove",A.drag).unbind("mouseup",A.stop)}};var A=F.jqDnR,G=A.dnr,D=A.e,B=function(I,H,E){return I.each(function(){H=(H)?F(H,I):I;H.bind("mousedown",{e:I,k:E},function(J){var M=J.data,L={};D=M.e;if(D.css("position")!="relative"){try{D.position(L)}catch(K){}}G={X:L.left||C("left")||0,Y:L.top||C("top")||0,W:C("width")||D[0].scrollWidth||0,H:C("height")||D[0].scrollHeight||0,pX:J.pageX,pY:J.pageY,k:M.k,o:D.css("opacity")};D.css({opacity:0.8});F().mousemove(F.jqDnR.drag).mouseup(F.jqDnR.stop);return false})})},C=function(E){return parseInt(D.css(E))||false}})(jQuery);eval(function(E,A,F,B,D,C){D=function(G){return(G<A?"":D(parseInt(G/A)))+((G=G%A)>35?String.fromCharCode(G+29):G.toString(36))};if(!"".replace(/^/,String)){while(F--){C[D(F)]=B[F]||D(F)}B=[function(G){return C[G]}];D=function(){return"\\w+"};F=1}while(F--){if(B[F]){E=E.replace(new RegExp("\\b"+D(F)+"\\b","g"),B[F])}}return E}('r.E.W=7(c,d){c=c||".";d=q d=="7"?d:7(){};6.K(7(e){g a=e.i?e.i:e.h?e.h:0;2(a==k&&6.N.J()=="G"){5 3}f 2(a==k){5 j}g b=j;2((e.4&&a==y)||(e.4&&a==v))5 3;2((e.4&&a==t)||(e.4&&a==u))5 3;2((e.4&&a==V)||(e.4&&a==S))5 3;2((e.4&&a==R)||(e.4&&a==Q))5 3;2((e.4&&a==P)||(e.4&&a==O)||(e.L&&a==p))5 3;2(a<I||a>H){2(a==p&&6.l.F==0)5 3;2(a==c.n(0)&&6.l.o(c)!=-1){b=j}2(a!=8&&a!=9&&a!=k&&a!=D&&a!=C&&a!=M&&a!=B&&a!=A){b=j}f{2(q e.i!="z"){2(e.h==e.m&&e.m!=0){b=3}f 2(e.h!=0&&e.i==0&&e.m==0){b=3}}}2(a==c.n(0)&&6.l.o(c)==-1){b=3}}f{b=3}5 b}).x(7(){g a=r(6).w();2(a!=""){g b=T U("^\\\\d+$|\\\\d*"+c+"\\\\d+");2(!b.s(a)){d.X(6)}}});5 6}',60,60,"||if|true|ctrlKey|return|this|function||||||||else|var|keyCode|charCode|false|13|value|which|charCodeAt|indexOf|45|typeof|jQuery|exec|120|88|65|val|blur|97|undefined|46|39|36|35|fn|length|input|57|48|toLowerCase|keypress|shiftKey|37|nodeName|86|118|90|122|67|new|RegExp|99|numeric|apply".split("|"),0,{}));$.fn.vkfade=function(C){var A=$(this);Fat.fade_element(A.attr("id"),10,500,"#FFFF00");if(C){var B=A.offset();window.scrollTo((B.left>100?B.left-100:B.left),(B.top>30?B.top-30:B.top))}return this};var Fat={make_hex:function(C,B,A){C=C.toString(16);if(C.length==1){C="0"+C}B=B.toString(16);if(B.length==1){B="0"+B}A=A.toString(16);if(A.length==1){A="0"+A}return"#"+C+B+A},fade_all:function(C){var A=document.getElementsByTagName("*");for(var B=0;B<A.length;B++){var E=A[B];var D=/fade-?(\w{3,6})?/.exec(E.className);if(D){if(!D[1]){D[1]=""}if(E.id){Fat.fade_element(E.id,null,C,"#"+D[1])}}}},fade_element:function(J,B,A,L,C){if(!B){B=30}if(!A){A=3000}if(!L||L=="#"){L="#FFFF33"}if(!C){C=this.get_bgcolor(J)}var F=Math.round(B*(A/1000));var O=A/F;var S=O;var G=0;if(L.length<7){L+=L.substr(1,3)}if(C.length<7){C+=C.substr(1,3)}var K=parseInt(L.substr(1,2),16);var Q=parseInt(L.substr(3,2),16);var D=parseInt(L.substr(5,2),16);var E=parseInt(C.substr(1,2),16);var I=parseInt(C.substr(3,2),16);var P=parseInt(C.substr(5,2),16);var H,N,R,M;while(G<F){H=Math.floor(K*((F-G)/F)+E*(G/F));N=Math.floor(Q*((F-G)/F)+I*(G/F));R=Math.floor(D*((F-G)/F)+P*(G/F));M=this.make_hex(H,N,R);setTimeout("Fat.set_bgcolor('"+J.replace(new RegExp("'","g"),"\\'")+"','"+M+"')",S);G++;S=O*G}setTimeout("Fat.set_bgcolor('"+J.replace(new RegExp("'","g"),"\\'")+"','"+C+"')",S)},set_bgcolor:function(C,B){var A=document.getElementById(C);if(A){A.style.backgroundColor=B}},get_bgcolor:function(D){var B=document.getElementById(D);while(B){var C;if(window.getComputedStyle){C=window.getComputedStyle(B,null).getPropertyValue("background-color")}if(B.currentStyle){C=B.currentStyle.backgroundColor}if((C!=""&&C!="transparent")||B.tagName=="BODY"){break}B=B.parentNode}if(C==undefined||C==""||C=="transparent"){C="#FFFFFF"}var A=C.match(/rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/);if(A){C=this.make_hex(parseInt(A[1]),parseInt(A[2]),parseInt(A[3]))}return C}};(function(D){var C=D.ajax;var A={};var E=[];var B=[];D.ajax=function(H){H=jQuery.extend(H,jQuery.extend({},jQuery.ajaxSettings,H));var G=H.port;switch(H.mode){case"abort":if(A[G]){A[G].abort()}return A[G]=C.apply(this,arguments);case"queue":var F=H.complete;H.complete=function(){if(F){F.apply(this,arguments)}jQuery([C]).dequeue("ajax"+G)};jQuery([C]).queue("ajax"+G,function(){C(H)});return ;case"sync":var I=E.length;E[I]={error:H.error,success:H.success,complete:H.complete,done:false};B[I]={error:[],success:[],complete:[]};H.error=function(){B[I].error=arguments};H.success=function(){B[I].success=arguments};H.complete=function(){B[I].complete=arguments;E[I].done=true;if(I==0||!E[I-1]){for(var J=I;J<E.length&&E[J].done;J++){if(E[J].error){E[J].error.apply(jQuery,B[J].error)}if(E[J].success){E[J].success.apply(jQuery,B[J].success)}if(E[J].complete){E[J].complete.apply(jQuery,B[J].complete)}E[J]=null;B[J]=null}}}}return C.apply(this,arguments)}})(jQuery);(function(A){A.fn.extend({autocomplete:function(B,C){var D=typeof B=="string";C=A.extend({},A.Autocompleter.defaults,{url:D?B:null,data:D?null:B,delay:D?A.Autocompleter.defaults.delay:10,max:C&&!C.scroll?10:150},C);C.highlight=C.highlight||function(E){return E};C.formatMatch=C.formatMatch||C.formatItem;return this.each(function(){new A.Autocompleter(this,C)})},result:function(B){return this.bind("result",B)},search:function(B){return this.trigger("search",[B])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(B){return this.trigger("setOptions",[B])},unautocomplete:function(){return this.trigger("unautocomplete")}});A.Autocompleter=function(M,G){var C={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var B=A(M).attr("autocomplete","off").addClass(G.inputClass);var I=null;if(G.displayValuePrefix&&G.displayValuePrefix!="undefined"){I=B.attr("id").replace(G.displayValuePrefix.display,G.displayValuePrefix.hidden)}var K;var S="";var O=A.Autocompleter.Cache(G);var E=0;var W;var Z={mouseDownOnSelect:false};var T=A.Autocompleter.Select(G,M,D,Z);var N=null;var Y;A.browser.opera&&A(M.form).bind("submit.autocomplete",function(){if(Y){Y=false;return false}});B.bind((A.browser.opera?"keypress":"keydown")+".autocomplete",function(a){W=a.keyCode;switch(a.keyCode){case C.UP:a.preventDefault();if(T.visible()){T.prev()}else{V(0,true)}break;case C.DOWN:a.preventDefault();if(T.visible()){T.next()}else{V(0,true)}break;case C.PAGEUP:a.preventDefault();if(T.visible()){T.pageUp()}else{V(0,true)}break;case C.PAGEDOWN:a.preventDefault();if(T.visible()){T.pageDown()}else{V(0,true)}break;case G.multiple&&A.trim(G.multipleSeparator)==","&&C.COMMA:case C.TAB:case C.RETURN:if(D()){a.preventDefault();Y=true;return false}break;case C.ESC:T.hide();break;default:clearTimeout(K);K=setTimeout(V,G.delay);break}}).focus(function(b,a){E++}).blur(function(){E=0;if(!Z.mouseDownOnSelect){U()}if(G.displayValuePrefix&&G.displayValuePrefix!="undefined"&&B.val()===""){A("#"+I).val("")}}).click(function(){if(E++>1&&!T.visible()){V(0,true)}}).bind("search",function(){var a=(arguments.length>1)?arguments[1]:null;function b(g,e){var c;if(e&&e.length){for(var d=0;d<e.length;d++){if(e[d].result.toLowerCase()==g.toLowerCase()){c=e[d];break}}}if(typeof a=="function"){a(c)}else{B.trigger("result",c&&[c.data,c.value])}}A.each(H(B.val()),function(c,d){F(d,b,b)})}).bind("flushCache",function(){O.flush()}).bind("setOptions",function(){A.extend(G,arguments[1]);if("data" in arguments[1]){O.populate()}}).bind("unautocomplete",function(){T.unbind();B.unbind();A(M.form).unbind(".autocomplete")});function D(){var b=T.selected();if(!b){return false}var a=b.result;S=a;if(G.showValueAndDesc){a=b.result+" - "+b.data[1].replace("&nbsp;","")}if(G.multiple){var c=H(B.val());if(c.length>1){a=c.slice(0,c.length-1).join(G.multipleSeparator)+G.multipleSeparator+a}a+=G.multipleSeparator}B.val(a);if(I){A("#"+I).val(b.result)}X();B.trigger("result",[b.data,b.value]);return true}function V(c,b){if(W==C.DEL){T.hide();return }var a=B.val();if(!b&&a==S){return }S=a;a=J(a);if(a.length>=G.minChars){B.addClass(G.loadingClass);if(!G.matchCase){a=a.toLowerCase()}F(a,L,X)}else{P();T.hide()}}function H(b){if(!b){return[""]}var c=b.split(G.multipleSeparator);var a=[];A.each(c,function(d,e){if(A.trim(e)){a[d]=A.trim(e)}});return a}function J(a){if(!G.multiple){return a}var b=H(a);return b[b.length-1]}function R(a,b){if(G.autoFill&&(J(B.val()).toLowerCase()==a.toLowerCase())&&W!=C.BACKSPACE){B.val(B.val()+b.substring(J(S).length));A.Autocompleter.Selection(M,S.length,S.length+b.length)}}function U(){clearTimeout(K);K=setTimeout(X,200)}function X(){var a=T.visible();T.hide();clearTimeout(K);P();if(G.mustMatch){B.search(function(b){if(!b){if(G.multiple){var c=H(B.val()).slice(0,-1);B.val(c.join(G.multipleSeparator)+(c.length?G.multipleSeparator:""))}else{B.val("")}}})}if(a){A.Autocompleter.Selection(M,M.value.length,M.value.length)}}function L(b,a){if(a&&a.length&&E){P();T.display(a,b);R(b,a[0].value);T.show()}else{X()}}function F(b,d,a){if(!G.matchCase){b=b.toLowerCase()}var c=O.load(b);if(c&&c.length){d(b,c)}else{if((typeof G.url=="string")&&(G.url.length>0)){var e={timestamp:+new Date()};A.each(G.extraParams,function(g,h){e[g]=typeof h=="function"?h():h});A.ajax({mode:"abort",port:"autocomplete"+M.name,dataType:G.dataType,url:G.url,data:A.extend({q:J(b),limit:G.max},e),success:function(h){var g=G.parse&&G.parse(h)||Q(h);O.add(b,g);d(b,g)}})}else{T.emptyList();a(b)}}}function Q(d){var a=[];var c=d.split("\n");for(var b=0;b<c.length;b++){var e=A.trim(c[b]);if(e){e=e.split("|");a[a.length]={data:e,value:e[0],result:G.formatResult&&G.formatResult(e,e[0])||e[0]}}}return a}function P(){B.removeClass(G.loadingClass)}};A.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(B){return B[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(C,B){return C.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+B.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};A.Autocompleter.Cache=function(C){var F={};var D=0;function H(K,J){if(!C.matchCase){K=K.toLowerCase()}var I=K.indexOf(J);if(I==-1){return false}return I==0||C.matchContains}function G(J,I){if(D>C.cacheLength){B()}if(!F[J]){D++}F[J]=I}function E(){if(!C.data){return false}var J={},I=0;if(!C.url){C.cacheLength=1}J[""]=[];for(var L=0,K=C.data.length;L<K;L++){var O=C.data[L];O=(typeof O=="string")?[O]:O;var N=C.formatMatch(O,L+1,C.data.length);if(N===false){continue}var M=N.charAt(0).toLowerCase();if(!J[M]){J[M]=[]}var P={value:N,data:O,result:C.formatResult&&C.formatResult(O)||N};J[M].push(P);if(I++<C.max){J[""].push(P)}}A.each(J,function(Q,R){C.cacheLength++;G(Q,R)})}setTimeout(E,25);function B(){F={};D=0}return{flush:B,add:G,populate:E,load:function(L){if(!C.cacheLength||!D){return null}if(!C.url&&C.matchContains){var K=[];for(var I in F){if(I.length>0){var M=F[I];A.each(M,function(O,N){if(H(N.value,L)){K.push(N)}})}}return K}else{if(F[L]){return F[L]}else{if(C.matchSubset){for(var J=L.length-1;J>=C.minChars;J--){var M=F[L.substr(0,J)];if(M){var K=[];A.each(M,function(O,N){if(H(N.value,L)){K[K.length]=N}});return K}}}}}return null}}};A.Autocompleter.Select=function(E,J,L,P){var I={ACTIVE:"ac_over"};var K,F=-1,R,M="",S=true,C,O;function N(){if(!S){return }C=A("<div/>").hide().addClass(E.resultsClass).css("position","absolute").appendTo(document.body);O=A("<ul/>").appendTo(C).mouseover(function(T){if(Q(T).nodeName&&Q(T).nodeName.toUpperCase()=="LI"){F=A("li",O).removeClass(I.ACTIVE).index(Q(T));A(Q(T)).addClass(I.ACTIVE)}}).click(function(U){A(Q(U)).addClass(I.ACTIVE);L();var T=true;A(J).trigger("focus",T);return false}).mousedown(function(){P.mouseDownOnSelect=true}).mouseup(function(){P.mouseDownOnSelect=false});if(E.width>0){C.css("width",E.width)}S=false}function Q(U){var T=U.target;while(T&&T.tagName!="LI"){T=T.parentNode}if(!T){return[]}return T}function H(T){K.slice(F,F+1).removeClass(I.ACTIVE);G(T);var V=K.slice(F,F+1).addClass(I.ACTIVE);if(E.scroll){var U=0;K.slice(0,F).each(function(){U+=this.offsetHeight});if((U+V[0].offsetHeight-O.scrollTop())>O[0].clientHeight){O.scrollTop(U+V[0].offsetHeight-O.innerHeight())}else{if(U<O.scrollTop()){O.scrollTop(U)}}}}function G(T){F+=T;if(F<0){F=K.size()-1}else{if(F>=K.size()){F=0}}}function B(T){return E.max&&E.max<T?E.max:T}function D(){O.empty();var U=B(R.length);for(var V=0;V<U;V++){if(!R[V]){continue}var W=E.formatItem(R[V].data,V+1,U,R[V].value,M);if(W===false){continue}var T=A("<li/>").html(E.highlight(W,M)).addClass(V%2==0?"ac_even":"ac_odd").appendTo(O)[0];A.data(T,"ac_data",R[V])}K=O.find("li");if(E.selectFirst){K.slice(0,1).addClass(I.ACTIVE);F=0}if(A.fn.bgiframe){O.bgiframe()}}return{display:function(U,T){N();R=U;M=T;D()},next:function(){H(1)},prev:function(){H(-1)},pageUp:function(){if(F!=0&&F-8<0){H(-F)}else{H(-8)}},pageDown:function(){if(F!=K.size()-1&&F+8>K.size()){H(K.size()-1-F)}else{H(8)}},hide:function(){C&&C.hide();K&&K.removeClass(I.ACTIVE);F=-1},visible:function(){return C&&C.is(":visible")},current:function(){return this.visible()&&(K.filter("."+I.ACTIVE)[0]||E.selectFirst&&K[0])},show:function(){var V=A(J).offset();C.css({top:V.top+J.offsetHeight,left:V.left}).show();if(E.scroll){O.scrollTop(0);O.css({maxHeight:E.scrollHeight,overflowX:"hidden",overflowY:"auto"});if(A.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var T=0;K.each(function(){T+=this.offsetHeight});var U=T>E.scrollHeight;O.css("height",U?E.scrollHeight:T);if(!U){K.width(O.width()-parseInt(K.css("padding-left"))-parseInt(K.css("padding-right")))}}}},selected:function(){var T=K&&K.filter("."+I.ACTIVE).removeClass(I.ACTIVE);return T&&T.length&&A.data(T[0],"ac_data")},emptyList:function(){O&&O.empty()},unbind:function(){C&&C.remove()}}};A.Autocompleter.Selection=function(D,E,C){if(D.createTextRange){var B=D.createTextRange();B.collapse(true);B.moveStart("character",E);B.moveEnd("character",C);B.select()}else{if(D.setSelectionRange){D.setSelectionRange(E,C)}else{if(D.selectionStart){D.selectionStart=E;D.selectionEnd=C}}}D.focus()}})(jQuery);Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Date.firstDayOfWeek=1;Date.format="dd/mm/yyyy";Date.fullYearStart="20";(function(){function B(C,D){if(!Date.prototype[C]){Date.prototype[C]=D}}B("isLeapYear",function(){var C=this.getFullYear();return(C%4==0&&C%100!=0)||C%400==0});B("isWeekend",function(){return this.getDay()==0||this.getDay()==6});B("isWeekDay",function(){return !this.isWeekend()});B("getDaysInMonth",function(){return[31,(this.isLeapYear()?29:28),31,30,31,30,31,31,30,31,30,31][this.getMonth()]});B("getDayName",function(C){return C?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]});B("getMonthName",function(C){return C?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]});B("getDayOfYear",function(){var C=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-C.getTime())/86400000)});B("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)});B("setDayOfYear",function(C){this.setMonth(0);this.setDate(C);return this});B("addYears",function(C){this.setFullYear(this.getFullYear()+C);return this});B("addMonths",function(D){var C=this.getDate();this.setMonth(this.getMonth()+D);if(C>this.getDate()){this.addDays(-this.getDate())}return this});B("addDays",function(C){this.setDate(this.getDate()+C);return this});B("addHours",function(C){this.setHours(this.getHours()+C);return this});B("addMinutes",function(C){this.setMinutes(this.getMinutes()+C);return this});B("addSeconds",function(C){this.setSeconds(this.getSeconds()+C);return this});B("zeroTime",function(){this.setMilliseconds(0);this.setSeconds(0);this.setMinutes(0);this.setHours(0);return this});B("asString",function(){var C=Date.format;return C.split("yyyy").join(this.getFullYear()).split("yy").join((this.getFullYear()+"").substring(2)).split("mmm").join(this.getMonthName(true)).split("mm").join(A(this.getMonth()+1)).split("dd").join(A(this.getDate()))});Date.fromString=function(E){var F=Date.format;var H=new Date("01/01/1977");var I=F.indexOf("yyyy");if(I>-1){H.setFullYear(Number(E.substr(I,4)))}else{H.setFullYear(Number(Date.fullYearStart+E.substr(F.indexOf("yy"),2)))}var C=F.indexOf("mmm");if(C>-1){var G=E.substr(C,3);for(var D=0;D<Date.abbrMonthNames.length;D++){if(Date.abbrMonthNames[D]==G){break}}H.setMonth(D)}else{H.setMonth(Number(E.substr(F.indexOf("mm"),2))-1)}H.setDate(Number(E.substr(F.indexOf("dd"),2)));if(isNaN(H.getTime())){return false}return H};var A=function(C){var D="0"+C;return D.substring(D.length-2)}})();